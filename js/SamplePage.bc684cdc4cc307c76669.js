"use strict";(self.webpackChunkprovisioning_frontend=self.webpackChunkprovisioning_frontend||[]).push([[807,351],{66814:(e,t,n)=>{n.r(t),n.d(t,{SamplePage:()=>h,default:()=>S});var r=n(64572),a=n(15861),i=n(70885),c=n(64687),l=n.n(c),o=n(93264),u=n.n(o),s=n(16530),m=n(90154),p=n(89376),d=n(39173),f=n(65564),v=n.n(f),g=n(60160),b=n(58061);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(){var e=u().useState(!1),t=(0,i.Z)(e,2),n=t[0],r=t[1],c=u().useState([]),s=(0,i.Z)(c,2),f=s[0],O=s[1],h=u().useState({isTesting:!0,id:void 0,name:void 0,provider:b.Zz,architecture:void 0}),S=(0,i.Z)(h,2),y=S[0],k=S[1],P=u().useState(!1),w=(0,i.Z)(P,2),Z=w[0],j=w[1],I=u().useState(!1),_=(0,i.Z)(I,2),D=_[0],G=_[1];(0,o.useEffect)((function(){var e=function(){var e=(0,a.Z)(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v().get("/api/image-builder/v1/composes");case 3:t=e.sent,n=t.data,O(null==n?void 0:n.data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.debug("No image builder api has been found"),O(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var x=function(e){j(e)},T=function(e,t,n){if(!n){var r=f.find((function(e){return e.image_name===t})),a=r.id,i=r.request.image_requests[0],c=i.architecture,l=i.image_type;k({isTesting:!0,id:a,name:t,architecture:c,provider:l}),j(!1)}};return u().createElement(u().Fragment,null,u().createElement(p.Z,null,u().createElement(d.Z,{title:"Sample Provisioning App"}),u().createElement("p",null," Provisioning Demo ")),u().createElement(m.Grid,{hasGutter:!0},f&&u().createElement(m.GridItem,null,function(e){return u().createElement(m.Select,{width:"50%",variant:m.SelectVariant.single,placeholderText:"Select an image","aria-label":"Select Image",onToggle:x,onSelect:T,selections:y.name,isOpen:Z},null==e?void 0:e.map((function(e){return u().createElement(m.SelectOption,{key:e.id,value:e.image_name,description:"ID: ".concat(e.id)})})))}(f)),u().createElement(m.GridItem,{span:3},u().createElement(m.FormGroup,{label:"Provider"},u().createElement(m.Select,{variant:m.SelectVariant.single,"aria-label":"Select Provider",ouiaId:"select_provider",onToggle:function(e){return G(e)},onSelect:function(e,t){k(E(E({},y),{},{provider:t})),G(!1)},selections:y.provider,isOpen:D},u().createElement(m.SelectOption,{key:b.Zz,value:b.Zz}),u().createElement(m.SelectOption,{key:b.kD,value:b.kD})))),u().createElement(m.GridItem,{span:6},u().createElement(m.FormGroup,{label:"Image"},u().createElement(m.TextInput,{"aria-label":"manual ami",id:"ami",ouiaId:"image_id",value:y.id||"",onChange:function(e){k(E(E({},y),{},{id:e,name:"manualy entered AMI",architecture:"x86_64"}))}}))),u().createElement(m.GridItem,null,u().createElement(m.Title,{headingLevel:"h2",size:"3xl"}),u().createElement(m.Button,{variant:"primary",onClick:function(){return r(!0)}},"Open Wizard"),n&&u().createElement(g.default,{isOpen:!0,onClose:function(){return r(!1)},image:y}))))};const S=(0,s.withRouter)(h)}}]);
//# sourceMappingURL=../sourcemaps/SamplePage.58b976ef0eb4194a487f86309c3f6f07.js.map