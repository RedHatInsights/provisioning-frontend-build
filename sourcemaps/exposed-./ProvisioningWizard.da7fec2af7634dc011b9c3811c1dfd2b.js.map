{"version":3,"file":"js/exposed-./ProvisioningWizard.a0208ce508c2d3f49700.js","mappings":"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","sources":["webpack:///./src/Components/Common/Query/index.js","webpack:///./src/Components/Common/WizardContext/initialState.js","webpack:///./src/Components/Common/WizardContext/index.js","webpack:///./src/API/queryKeys.js","webpack:///./src/constants.js","webpack:///./src/API/helpers.js","webpack:///./src/API/index.js","webpack:///./src/Components/Common/Hooks/sources.js","webpack:///./src/Components/ConfirmModal/index.js","webpack:///./src/Components/Common/helpers.js","webpack:///./src/Components/RegionsSelect/index.js","webpack:///./src/Components/ProvisioningWizard/helpers.js","webpack:///./src/Components/GCPConsoleLaunch/index.js","webpack:///./src/Components/ProvisioningWizard/steps/SourceMissing/DirectProviderLink.js","webpack:///./src/Components/ProvisioningWizard/steps/SourceMissing/index.js","webpack:///./src/Components/SourcesSelect/index.js","webpack:///./src/Components/InstanceCounter/index.js","webpack:///./src/Components/InstanceCounter/constants.js","webpack:///./src/Utils/querySearch.js","webpack:///./src/Components/InstanceTypesSelect/index.js","webpack:///./src/Components/TemplateSelect/index.js","webpack:///./src/Components/ProvisioningWizard/steps/AccountCustomizations/aws.js","webpack:///./src/Components/ProvisioningWizard/steps/AccountCustomizations/gcp.js","webpack:///./src/Components/ProvisioningWizard/steps/AccountCustomizations/azure.js","webpack:///./src/Components/ProvisioningWizard/steps/AccountCustomizations/index.js","webpack:///./src/Components/ProvisioningWizard/steps/ReservationProgress/constants.js","webpack:///./src/Components/ProvisioningWizard/steps/ReservationProgress/helpers.js","webpack:///./src/Components/LaunchDescriptionList/index.js","webpack:///./src/Components/ProvisioningWizard/steps/ReviewDetails/index.js","webpack:///./src/Components/ProvisioningWizard/steps/Pubkeys/helpers.js","webpack:///./src/Components/ProvisioningWizard/steps/Pubkeys/PubkeySelect.js","webpack:///./src/Components/ProvisioningWizard/steps/Pubkeys/NewKeyForm.js","webpack:///./src/Components/ProvisioningWizard/steps/Pubkeys/index.js","webpack:///./src/Components/Common/Hooks/useInterval.js","webpack:///./src/Components/Common/instanceHelpers.js","webpack:///./src/Components/InstancesTable/index.js","webpack:///./src/Components/InstancesTable/helpers.js","webpack:///./src/Components/ProvisioningWizard/steps/ReservationProgress/index.js","webpack:///./src/Components/ProvisioningWizard/steps/index.js","webpack:///./src/Components/ProvisioningWizard/CustomFooter.js","webpack:///./src/Components/ProvisioningWizard/index.js","webpack:///./src/Components/Common/Hooks/useEffectOnce.js"],"sourcesContent":["/* eslint-disable react/prop-types */\n\nimport React from 'react';\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\n\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      staleTime: 5000,\n    },\n  },\n});\n\nconst APIProvider = ({ children }) => <QueryClientProvider client={queryClient}>{children}</QueryClientProvider>;\n\nexport default APIProvider;\n","const initialWizardContext = {\n  chosenSource: undefined,\n  chosenNumOfInstances: 1,\n  chosenInstanceType: undefined,\n  uploadedKey: false,\n  chosenRegion: undefined,\n  chosenImageID: undefined,\n  sshPublicName: '',\n  sshPublicKey: '',\n  chosenSshKeyId: undefined,\n  chosenSshKeyName: null,\n  provider: undefined,\n};\n\nexport default initialWizardContext;\n","import { useState } from 'react';\nimport { createContainer } from 'react-tracked';\nimport initialWizardContext from './initialState';\n\nconst useSharedState = (values) => useState({ ...initialWizardContext, ...values });\n\nexport const { Provider: WizardProvider, useTracked: useWizardContext } = createContainer(useSharedState);\n","export const SOURCES_QUERY_KEY = 'sources';\nexport const SOURCE_UPLOAD_INFO_KEY = 'source_upload_info';\nexport const PUBKEYS_QUERY_KEY = ['pubkeys'];\nexport const instanceTypesQueryKeys = (region) => ['instanceTypes', region];\nexport const IMAGE_REGIONS_KEY = 'image_region';\nexport const TEMPLATES_KEY = 'templates';\n","export const AWS_PROVIDER = 'aws';\nexport const AZURE_PROVIDER = 'azure';\nexport const GCP_PROVIDER = 'gcp';\nexport const MULTIPLE_REGION_SUPPORT = [AWS_PROVIDER];\n","export const provisioningUrl = (path) => `/api/provisioning/v1/${path}`;\nexport const imageBuilderURL = (path) => `/api/image-builder/v1/${path}`;\n","import axios from 'axios';\nimport { AZURE_PROVIDER } from '../constants';\nimport { imageBuilderURL, provisioningUrl } from './helpers';\n\nconst typesUrlForProvider = (provider, region) => {\n  switch (provider) {\n    case AZURE_PROVIDER:\n      return provisioningUrl(`instance_types/${provider}?region=${region}&zone=1`);\n    default:\n      return provisioningUrl(`instance_types/${provider}?region=${region}`);\n  }\n};\n\nexport const fetchSourcesList = async (provider) => {\n  const {\n    data: { data },\n  } = await axios.get(provisioningUrl(`sources?provider=${provider}`));\n  return data;\n};\n\nexport const fetchSourceUploadInfo = async (sourceID) => {\n  const { data } = await axios.get(provisioningUrl(`sources/${sourceID}/upload_info`));\n  return data;\n};\n\nexport const fetchPubkeysList = async () => {\n  const {\n    data: { data },\n  } = await axios.get(provisioningUrl('pubkeys'));\n  return data;\n};\n\nexport const fetchInstanceTypesList = async (region, provider) => {\n  const url = typesUrlForProvider(provider, region);\n  const {\n    data: { data },\n  } = await axios.get(url);\n  return data;\n};\n\nexport const createReservation = (provider) => async (params) => {\n  return axios.post(provisioningUrl(`reservations/${provider}`), params);\n};\n\nexport const createNewPublicKey = async (params) => {\n  return axios.post(provisioningUrl('pubkeys'), params);\n};\n\nexport const fetchReservation = async (id) => {\n  const { data } = await axios.get(provisioningUrl(`reservations/${id}`));\n  return data;\n};\n\nexport const fetchImageClones = async (composeID) => {\n  const { data } = await axios.get(imageBuilderURL(`composes/${composeID}/clones`));\n  return data;\n};\n\nexport const fetchImageCloneStatus = async (cloneID) => {\n  const { data } = await axios.get(imageBuilderURL(`clones/${cloneID}`));\n  return data;\n};\n\nexport const fetchReservationByProvider = async (reservationID, provider) => {\n  const { data } = await axios.get(provisioningUrl(`reservations/${provider}/${reservationID}`));\n  return data;\n};\n\nexport const fetchLaunchTemplates = async (sourceID, region) => {\n  const {\n    data: { data },\n  } = await axios.get(provisioningUrl(`sources/${sourceID}/launch_templates?region=${region}`));\n  return data;\n};\n","import React from 'react';\nimport { useQuery, useQueries } from '@tanstack/react-query';\n\nimport { SOURCES_QUERY_KEY, SOURCE_UPLOAD_INFO_KEY } from '../../../API/queryKeys';\nimport { fetchSourcesList, fetchSourceUploadInfo } from '../../../API';\nimport { AWS_PROVIDER, AZURE_PROVIDER, GCP_PROVIDER } from '../../../constants';\n\nexport const useSourcesData = (provider, { refetch = false } = {}) => {\n  const {\n    error,\n    isInitialLoading: isLoading,\n    data: sources,\n  } = useQuery([SOURCES_QUERY_KEY, provider], () => fetchSourcesList(provider), {\n    enabled: !!provider,\n    refetchInterval: refetch && 10000,\n  });\n  return { error, isLoading, sources };\n};\n\nconst useSourcesUploadInfos = (provider, { refetch }) => {\n  const { sources, isLoading: isLoadingSources, error: sourcesError } = useSourcesData(provider, { refetch });\n\n  const queries =\n    sources?.map((source) => ({\n      queryKey: [SOURCE_UPLOAD_INFO_KEY, source.id],\n      queryFn: () => fetchSourceUploadInfo(source.id),\n      retry: 1,\n    })) || [];\n  const uploadInfos = useQueries({ queries });\n\n  const isLoading = isLoadingSources || uploadInfos.some((info) => info.isLoading);\n  const infos = [];\n  !isLoadingSources &&\n    sources?.forEach((source, i) => {\n      uploadInfos[i].isSuccess && infos.push({ ...uploadInfos[i].data, ...source });\n    });\n\n  return { isLoading, error: sourcesError, infos };\n};\n\nconst providerSourceFilter = (image) => {\n  switch (image.provider) {\n    case AWS_PROVIDER:\n      return (info) => image.sourceIDs?.includes(info.id) || image.accountIDs?.includes(info.aws.account_id);\n    case AZURE_PROVIDER:\n      return (info) => image.uploadOptions?.source_id === info.id || info.azure?.subscription_id === image.uploadOptions?.subscription_id;\n    case GCP_PROVIDER:\n      return () => true;\n    default:\n      return (info) => image.sourceIDs?.includes(info.id);\n  }\n};\n\nexport const useSourcesForImage = (image, { refetch = false, onSuccess = () => {} } = {}) => {\n  const { isLoading, error, infos } = useSourcesUploadInfos(image.provider, { refetch });\n  const filteredSources = image.isTesting ? infos : infos?.filter(providerSourceFilter(image));\n  React.useEffect(() => {\n    if (!isLoading && !error) {\n      onSuccess(filteredSources);\n    }\n  }, [isLoading, error]);\n\n  return { isLoading, error, sources: filteredSources || [] };\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalVariant } from '@patternfly/react-core';\n\nconst ConfirmModal = ({ isOpen, onConfirm, onCancel }) => (\n  <Modal\n    ouiaId=\"app-confirm-modal\"\n    id=\"app-confirm-modal\"\n    aria-label=\"confirm cancel of launch modal\"\n    variant={ModalVariant.small}\n    title=\"Exit instance launching?\"\n    isOpen={isOpen}\n    onClose={onCancel}\n    actions={[\n      <Button key=\"exit\" variant=\"primary\" onClick={onConfirm} ouiaId=\"btn-exit-confirm\">\n        Exit\n      </Button>,\n      <Button key=\"stay\" variant=\"link\" onClick={onCancel}>\n        Stay\n      </Button>,\n    ]}\n    titleIconVariant=\"warning\"\n  >\n    All inputs will be discarded.\n  </Modal>\n);\n\nConfirmModal.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  onConfirm: PropTypes.func.isRequired,\n  onCancel: PropTypes.func.isRequired,\n};\n\nexport default ConfirmModal;\n","import { AWS_PROVIDER, AZURE_PROVIDER, GCP_PROVIDER } from './constants';\n\nexport const defaultRegionByProvider = (provider) => {\n  switch (provider) {\n    case AWS_PROVIDER:\n      return 'us-east-1';\n    case GCP_PROVIDER:\n      return 'us-central1-a';\n    case AZURE_PROVIDER:\n      return 'eastus';\n    default:\n      throw new Error(`Unrecognized provider was entered: ${provider}`);\n  }\n};\n\nexport const humanizeProvider = (provider) => {\n  switch (provider) {\n    case AWS_PROVIDER:\n      return 'Amazon cloud';\n    case AZURE_PROVIDER:\n      return 'Azure';\n    case GCP_PROVIDER:\n      return 'Google cloud';\n    default:\n      throw new Error(`Unrecognized provider was entered: ${provider}`);\n  }\n};\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Alert, Select, SelectOption, Spinner } from '@patternfly/react-core';\nimport { useQuery, useQueries } from '@tanstack/react-query';\n\nimport { AWS_PROVIDER, AZURE_PROVIDER, GCP_PROVIDER, MULTIPLE_REGION_SUPPORT } from '../../constants';\nimport { IMAGE_REGIONS_KEY } from '../../API/queryKeys';\nimport { fetchImageClones, fetchImageCloneStatus } from '../../API';\nimport { defaultRegionByProvider } from '../Common/helpers';\n\nconst RegionsSelect = ({ provider, currentRegion, composeID, onChange }) => {\n  const [isOpen, setIsOpen] = React.useState(false);\n\n  const {\n    isError,\n    isLoading,\n    data: clonedImages,\n  } = useQuery([IMAGE_REGIONS_KEY, composeID], () => fetchImageClones(composeID), {\n    select: (images) => images.data?.map((image) => ({ id: image.id, region: image.request.region })),\n  });\n\n  const queries =\n    clonedImages?.map((clonedImage) => ({\n      queryKey: [IMAGE_REGIONS_KEY, clonedImage.id],\n      queryFn: () => fetchImageCloneStatus(clonedImage.id),\n    })) || [];\n\n  const clonesStatusQueries = useQueries({ queries });\n  const isCloneStatusLoading = clonesStatusQueries.some((clone) => clone.isLoading);\n  const defaultRegion = { region: provider && defaultRegionByProvider(provider), id: composeID };\n  const images = [defaultRegion];\n  // filter successful clones images\n  if (clonesStatusQueries.length && clonesStatusQueries.every((cloneQuery) => cloneQuery.isLoading === false)) {\n    const clonesStatus = clonesStatusQueries?.map((query) => query?.data);\n    // enrich the cloned image data\n    clonesStatus?.forEach((status, index) => {\n      clonedImages[index] = { ...clonedImages[index], ...status?.options };\n    });\n    const availableImages = clonedImages?.filter((_, index) => clonesStatus[index].status === 'success');\n    images.push(...availableImages);\n  }\n\n  const onSelect = (_, selection) => {\n    const { id: imageID, ...imageAttrs } = images.find((image) => image.region === selection);\n    onChange({ region: selection, imageID, ...imageAttrs });\n    setIsOpen(false);\n  };\n\n  const onToggle = (isOpen) => {\n    setIsOpen(isOpen);\n  };\n\n  if (isError) {\n    return (\n      <>\n        <Alert ouiaId=\"regions_alert\" variant=\"warning\" isInline title=\"There are problems fetching image's regions\" />\n        <Select ouiaId=\"regions_empty\" isDisabled placeholderText=\"No regions have been found\" />\n      </>\n    );\n  }\n\n  if (isLoading || isCloneStatusLoading) {\n    return <Spinner isSVG size=\"sm\" aria-label=\"loading available regions\" />;\n  }\n\n  return (\n    <Select\n      ouiaId=\"select_regions\"\n      variant=\"typeahead\"\n      aria-label=\"Select region\"\n      label=\"Select region\"\n      maxHeight=\"180px\"\n      isOpen={isOpen}\n      selections={currentRegion}\n      onToggle={onToggle}\n      onSelect={onSelect}\n      isDisabled={!MULTIPLE_REGION_SUPPORT.includes(provider)}\n    >\n      {images.map(({ id, region }) => (\n        <SelectOption aria-label=\"Region item\" key={id} value={region} />\n      ))}\n    </Select>\n  );\n};\n\nRegionsSelect.propTypes = {\n  provider: PropTypes.oneOf([AWS_PROVIDER, AZURE_PROVIDER, GCP_PROVIDER]).isRequired,\n  composeID: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  currentRegion: PropTypes.string,\n};\n\nexport default RegionsSelect;\n","import PropTypes from 'prop-types';\n\nimport { AWS_PROVIDER, AZURE_PROVIDER, GCP_PROVIDER } from '../../constants';\n\nexport const imageProps = PropTypes.shape({\n  name: PropTypes.string,\n  id: PropTypes.string,\n  provider: PropTypes.oneOf([AWS_PROVIDER, AZURE_PROVIDER, GCP_PROVIDER]),\n  architecture: PropTypes.string,\n  sourceIDs: PropTypes.arrayOf(PropTypes.string),\n  accountIDs: PropTypes.arrayOf(PropTypes.string),\n}).isRequired;\n","import React from 'react';\nimport { ClipboardCopy, StackItem } from '@patternfly/react-core';\nimport { imageProps } from '../ProvisioningWizard/helpers';\nimport './GCPConsoleLaunch.scss';\n\nconst launchInstanceCommand = (options) => {\n  return `gcloud compute instances create ${options.image_name}-instance --image-project ${options.project_id} --image ${options.image_name}`;\n};\n\nconst GCPConsoleLaunch = ({ image }) => {\n  return (\n    <>\n      <br />\n      <p>or</p>\n      <br />\n      <StackItem>\n        <strong> Launch with Google Cloud Console </strong>\n      </StackItem>\n      <StackItem isFilled>\n        <ClipboardCopy\n          className=\"custom-clipboard-copy\"\n          hoverTip=\"Copy\"\n          clickTip=\"Copied\"\n          ouiaId=\"gcp-launch-instance\"\n          variant=\"expansion\"\n          isReadOnly\n        >\n          {launchInstanceCommand(image.uploadStatus.options)}\n        </ClipboardCopy>\n      </StackItem>\n    </>\n  );\n};\n\nGCPConsoleLaunch.propTypes = {\n  image: imageProps,\n};\n\nexport default GCPConsoleLaunch;\n","import React from 'react';\nimport { Button, Bullseye, Stack, StackItem } from '@patternfly/react-core';\nimport { ExternalLinkAltIcon } from '@patternfly/react-icons';\n\nimport { AWS_PROVIDER, AZURE_PROVIDER, GCP_PROVIDER } from '../../../../constants';\nimport RegionsSelect from '../../../RegionsSelect';\nimport { imageProps } from '../../helpers.js';\nimport GCPConsoleLaunch from '../../../GCPConsoleLaunch';\n\nconst DirectProviderLink = ({ image }) => {\n  const uploadStatus = image.uploadStatus || { options: {} };\n  const uploadOptions = image.uploadOptions || {};\n  const [currentImage, setImage] = React.useState({ imageID: image.id, ...uploadStatus.options });\n  let url, text;\n\n  switch (image.provider) {\n    case AWS_PROVIDER:\n      text = 'Launch with AWS console';\n      url = 'https://console.aws.amazon.com/ec2/v2/home?region=' + currentImage.region + '#LaunchInstanceWizard:ami=' + currentImage.ami;\n      break;\n    case AZURE_PROVIDER:\n      text = 'View uploaded image';\n      url =\n        'https://portal.azure.com/#@' +\n        uploadOptions.tenant_id +\n        '/resource/subscriptions/' +\n        uploadOptions.subscription_id +\n        '/resourceGroups/' +\n        uploadOptions.resource_group +\n        '/providers/Microsoft.Compute/images/' +\n        uploadStatus.options.image_name;\n      break;\n    case GCP_PROVIDER:\n      break;\n    default:\n      throw new Error(`Steps requested for unknown provider: ${image.provider}`);\n  }\n\n  // Currently only AWS, so the ami is hardcoded\n  const onRegionChange = (image) => {\n    console.log(image);\n    setImage(image);\n  };\n\n  return (\n    <Stack>\n      {image.provider === GCP_PROVIDER ? (\n        <GCPConsoleLaunch image={image} />\n      ) : (\n        <StackItem>\n          <Button component=\"a\" variant=\"link\" icon={<ExternalLinkAltIcon />} iconPosition=\"right\" target=\"_blank\" href={url}>\n            {text}\n          </Button>\n        </StackItem>\n      )}\n      {image.provider === AWS_PROVIDER && (\n        <StackItem>\n          <Bullseye>\n            <RegionsSelect composeID={image.id} provider={image.provider} currentRegion={currentImage.region} onChange={onRegionChange} />\n          </Bullseye>\n        </StackItem>\n      )}\n    </Stack>\n  );\n};\n\nDirectProviderLink.propTypes = {\n  image: imageProps,\n};\n\nexport default DirectProviderLink;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Button, EmptyState, EmptyStateBody, EmptyStateIcon, EmptyStateSecondaryActions, Title, Spinner } from '@patternfly/react-core';\nimport { PlusCircleIcon, ExclamationCircleIcon } from '@patternfly/react-icons';\nimport { useChrome } from '@redhat-cloud-services/frontend-components/useChrome';\n\nimport DirectProviderLink from './DirectProviderLink';\nimport { imageProps } from '../../helpers.js';\n\nconst failedToFetchTitle = 'Failed to fetch available sources.';\nconst missingSourceTitle = 'No sources available';\nconst missingSourceDescription = (\n  <>\n    <p>There are no sources available for use with this image.</p>\n    <p>Create a source, grant an existing source launch functionality,</p>\n    <p>or launch directly from the cloud provider console.</p>\n  </>\n);\n// TODO: enable once documentation is available.\n// Learn more about launching images [external link icon].\n\nconst LoadingState = () => (\n  <EmptyState>\n    <EmptyStateIcon variant=\"container\" component={Spinner} />\n    <Title size=\"lg\" headingLevel=\"h4\">\n      Loading available Sources\n    </Title>\n  </EmptyState>\n);\n\nconst SourceMissing = ({ error, image }) => {\n  const { isBeta } = useChrome();\n  return (\n    <EmptyState>\n      <EmptyStateIcon icon={error ? ExclamationCircleIcon : PlusCircleIcon} />\n      <Title headingLevel=\"h4\" size=\"lg\">\n        {(error && failedToFetchTitle) || missingSourceTitle}\n      </Title>\n      <EmptyStateBody>{error?.message || missingSourceDescription}</EmptyStateBody>\n      <Button variant=\"primary\" component=\"a\" target=\"_blank\" href={`${isBeta() ? '/preview' : ''}/settings/sources/new`}>\n        Create Source\n      </Button>\n      <EmptyStateSecondaryActions>\n        <DirectProviderLink image={image} />\n      </EmptyStateSecondaryActions>\n    </EmptyState>\n  );\n};\n\nSourceMissing.propTypes = {\n  error: PropTypes.string,\n  image: imageProps,\n};\n\nconst LoadingWrapper = ({ isLoading, ...props }) => (isLoading ? <LoadingState /> : <SourceMissing {...props} />);\n\nLoadingWrapper.propTypes = {\n  error: PropTypes.string,\n  isLoading: PropTypes.bool,\n  image: imageProps,\n};\n\nexport default LoadingWrapper;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Alert, Select, SelectOption, Spinner } from '@patternfly/react-core';\n\nimport { imageProps } from '../ProvisioningWizard/helpers';\nimport { useSourcesForImage } from '../Common/Hooks/sources';\nimport { useWizardContext } from '../Common/WizardContext';\n\nconst SourcesSelect = ({ setValidation, image }) => {\n  const [{ chosenSource }, setWizardContext] = useWizardContext();\n  const [isOpen, setIsOpen] = React.useState(false);\n  const [selected, setSelected] = React.useState(null);\n  const selectObject = (id, name) => ({\n    id,\n    toString: () => name,\n    compareTo: (other) => other.id === id,\n  });\n  const { isLoading, error, sources } = useSourcesForImage(image, {\n    onSuccess: (sources) => {\n      if (chosenSource) {\n        setSelected(selectObject(chosenSource, sources.find((source) => source.id === chosenSource).name));\n        setValidation('success');\n      } else if (sources.length === 1) {\n        setSelected(selectObject(sources[0].id, sources[0].name));\n        setWizardContext((prevState) => ({\n          ...prevState,\n          chosenSource: sources[0].id,\n        }));\n        setValidation('success');\n      }\n    },\n  });\n\n  const onSelect = (event, selection, isPlaceholder) => {\n    if (isPlaceholder) {\n      setSelected(null);\n      setWizardContext((prevState) => ({ ...prevState, chosenSource: null }));\n      setValidation('error');\n    } else {\n      setSelected(selection);\n      setWizardContext((prevState) => ({\n        ...prevState,\n        chosenSource: selection.id,\n      }));\n      setValidation('success');\n    }\n    setIsOpen(false);\n  };\n\n  const selectItemsMapper = () =>\n    sources.map(({ name, id }) => <SelectOption aria-label=\"Source account\" key={id} value={selectObject(id, name)}></SelectOption>);\n\n  if (error) {\n    console.warn('Failed to fetch sources list');\n    return (\n      <>\n        <Alert ouiaId=\"select_account_alert\" variant=\"warning\" isInline title=\"There are problems fetching accounts\" />\n        <Select ouiaId=\"select_account_empty\" isDisabled placeholderText=\"No accounts found\" aria-label=\"Select account\" />\n      </>\n    );\n  }\n\n  if (isLoading) {\n    return <Spinner isSVG size=\"sm\" aria-label=\"Loading accounts\" />;\n  }\n\n  return (\n    <Select\n      ouiaId=\"select_account\"\n      isOpen={isOpen}\n      onToggle={(openState) => setIsOpen(openState)}\n      selections={selected}\n      maxHeight=\"180px\"\n      // TODO decide if to disable the select\n      // isDisabled={sources?.length === 1}\n      onSelect={onSelect}\n      placeholderText=\"Select account\"\n      aria-label=\"Select account\"\n    >\n      {sources && selectItemsMapper()}\n    </Select>\n  );\n};\n\nSourcesSelect.propTypes = {\n  setValidation: PropTypes.func.isRequired,\n  image: imageProps,\n};\n\nexport default SourcesSelect;\n","import PropTypes from 'prop-types';\nimport React, { useEffect } from 'react';\nimport { NumberInput } from '@patternfly/react-core';\nimport { useWizardContext } from '../Common/WizardContext';\nimport { useQuery } from '@tanstack/react-query';\nimport { MAX_INSTANCES, MIN_INSTANCES, MAX_VCPU } from './constants';\nimport { fetchInstanceTypesList } from '../../API';\n\nconst InstanceCounter = ({ setValidation }) => {\n  const [{ chosenInstanceType, chosenNumOfInstances, chosenRegion, chosenSource, provider }, setWizardContext] = useWizardContext();\n  const { data: instanceTypes } = useQuery(['instanceTypes', chosenRegion], () => fetchInstanceTypesList(chosenRegion, provider), {\n    enabled: !!chosenRegion && !!chosenSource && !!chosenInstanceType,\n  });\n  const VCPUAmount = instanceTypes?.find((instanceType) => instanceType.name === chosenInstanceType)?.vcpus;\n\n  useEffect(() => {\n    setWarningValidation(chosenNumOfInstances);\n  }, [chosenInstanceType]);\n\n  const setWarningValidation = (newValue) => {\n    if (VCPUAmount * newValue > MAX_VCPU) {\n      setValidation('warning');\n    } else {\n      setValidation('success');\n    }\n  };\n\n  const onMinus = () => {\n    const newValue = chosenNumOfInstances - 1;\n    setWarningValidation(newValue);\n    setWizardContext((prevState) => ({\n      ...prevState,\n      chosenNumOfInstances: newValue,\n    }));\n  };\n\n  const onChange = (event) => {\n    let input = Math.floor(Number(event.target.value));\n    if (input > MAX_INSTANCES) {\n      input = MAX_INSTANCES;\n    }\n    if (input < MIN_INSTANCES) {\n      input = MIN_INSTANCES;\n    }\n    setWarningValidation(input);\n    setWizardContext((prevState) => ({\n      ...prevState,\n      chosenNumOfInstances: input,\n    }));\n  };\n\n  const onPlus = () => {\n    const newValue = chosenNumOfInstances + 1;\n    setWarningValidation(newValue);\n    setWizardContext((prevState) => ({\n      ...prevState,\n      chosenNumOfInstances: newValue,\n    }));\n  };\n\n  const isWarning = VCPUAmount * chosenNumOfInstances > MAX_VCPU;\n\n  return (\n    <>\n      <NumberInput\n        max={MAX_INSTANCES}\n        min={MIN_INSTANCES}\n        value={chosenNumOfInstances}\n        validated={isWarning && 'warning'}\n        onMinus={onMinus}\n        onChange={onChange}\n        onPlus={onPlus}\n        inputName=\"instances\"\n        inputAriaLabel=\"number of instances\"\n        minusBtnAriaLabel=\"instances-minus\"\n        plusBtnAriaLabel=\"instances-plus\"\n      />\n    </>\n  );\n};\n\nInstanceCounter.propTypes = {\n  setValidation: PropTypes.func.isRequired,\n};\n\nexport default InstanceCounter;\n","export const MAX_INSTANCES = 45;\nexport const MIN_INSTANCES = 1;\nexport const MAX_VCPU = 32;\n","const jsonata = require('jsonata');\n\nconst OPERATORS = ['<', '>', '='];\n\nconst parseQuery = (query) => {\n  query = query.replace('memory', 'memory_mib');\n  query = query.replace('storage', 'storage_gb');\n  if (OPERATORS.every((operator) => !query.includes(operator))) {\n    query = `name ~> /${query}/i`;\n  }\n  return `types[${query}]`;\n};\n\nexport const evaluateQuery = async (query, data) => {\n  const q = parseQuery(query);\n  const d = { types: data };\n  try {\n    const expression = jsonata(q);\n    const result = await expression.evaluate(d);\n    if (!result) return { error: false, result: [] };\n    return { error: false, result };\n  } catch (e) {\n    return { error: true, result: e };\n  }\n};\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Spinner, Select, SelectOption, TextInput } from '@patternfly/react-core';\nimport { useQuery } from '@tanstack/react-query';\nimport { fetchInstanceTypesList } from '../../API';\nimport { useWizardContext } from '../Common/WizardContext';\nimport { evaluateQuery } from '../../Utils/querySearch';\nimport _throttle from 'lodash/throttle';\n\nconst OPTIONS_PER_SCREEN = 3;\nconst sanitizeSearchValue = (str) => str.replace(/\\\\+$/, '');\n\nconst InstanceTypesSelect = ({ setValidation, architecture }) => {\n  const [{ chosenInstanceType, chosenRegion, chosenSource, provider }, setWizardContext] = useWizardContext();\n  const [isOpen, setIsOpen] = React.useState(false);\n  const [numOptions, setNumOptions] = React.useState(OPTIONS_PER_SCREEN);\n  const [filteredTypes, setFilteredTypes] = React.useState(null);\n  const [isTypeSupported, setTypeSupported] = React.useState(true);\n  const [searchValue, setSearchValue] = React.useState();\n\n  const {\n    isInitialLoading: isLoading,\n    error,\n    data: instanceTypes,\n  } = useQuery(['instanceTypes', chosenRegion], () => fetchInstanceTypesList(chosenRegion, provider), {\n    staleTime: 5 * (60 * 1000), // data is considered fresh for 5 minutes (same as cacheTime)\n    select: (types) => types.filter((type) => type.architecture === architecture),\n    enabled: !!chosenRegion && !!chosenSource,\n    onError: () => {\n      setValidation('error');\n    },\n  });\n\n  if (!chosenSource || chosenSource === '') {\n    return (\n      <>\n        <TextInput\n          ouiaId=\"instance_type_readonly\"\n          className=\"pf-c-form-control\"\n          readOnly\n          type=\"text\"\n          value=\"Select account to load instances\"\n          id=\"input-readonly\"\n          aria-label=\"Select instance type - disabled\"\n        />\n      </>\n    );\n  }\n\n  const onSelect = (event, selection, isPlaceholder) => {\n    if (isPlaceholder) {\n      clearSelection();\n    } else {\n      const chosenInstanceType = instanceTypes.find((instanceType) => selection === instanceType.name);\n      if (chosenInstanceType) {\n        setTypeSupported(chosenInstanceType.supported);\n        setWizardContext((prevState) => ({\n          ...prevState,\n          chosenInstanceType: selection,\n        }));\n        chosenInstanceType.supported ? setValidation('success') : setValidation('warning');\n      } else {\n        setSearchValue(selection);\n      }\n      setIsOpen(false);\n    }\n  };\n\n  const clearSelection = () => {\n    setValidation('error');\n    setTypeSupported(true);\n    setWizardContext((prevState) => ({\n      ...prevState,\n      chosenInstanceType: null,\n    }));\n    setIsOpen(false);\n  };\n\n  const queryFilter = async (search) => {\n    if (search.length > 0) {\n      const { error: queryError, result } = await evaluateQuery(search, instanceTypes);\n      if (queryError) {\n        setFilteredTypes([]);\n      } else if (Array.isArray(result)) {\n        setFilteredTypes(result);\n      } else if (result instanceof Object) {\n        setFilteredTypes([result]);\n      }\n    }\n  };\n\n  const onTypeaheadInputChange = (inputValue) => {\n    if (inputValue === '') {\n      setFilteredTypes(null);\n      return;\n    }\n    const search = sanitizeSearchValue(inputValue);\n    setNumOptions(OPTIONS_PER_SCREEN);\n    const throttledFilter = _throttle(queryFilter, 200);\n    throttledFilter(search);\n  };\n\n  const selectItemsMapper = (types, limit) => {\n    if (limit < types?.length) types = types.slice(0, limit);\n    return types?.map((instanceType, index) => (\n      <SelectOption\n        aria-label={`Instance Type ${instanceType.name}`}\n        key={index}\n        description={`${instanceType.cores || 'only vCPU'} cores |\n          ${instanceType.vcpus} vCPU |\n          ${(parseFloat(instanceType.memory_mib) / 1024).toFixed(1)} GiB memory |\n          ${instanceType.storage_gb > 0 ? instanceType.storage_gb + ' GB storage | ' : 'EBS only | '}\n          ${instanceType.architecture}`}\n        value={instanceType.name}\n      />\n    ));\n  };\n\n  const onToggle = (isOpen) => {\n    setIsOpen(isOpen);\n  };\n\n  if (error) {\n    return (\n      <>\n        <Select\n          validated=\"error\"\n          ouiaId=\"instance_type_empty\"\n          isDisabled\n          placeholderText=\"No instance types found\"\n          toggleAriaLabel=\"Select instance type\"\n        />\n      </>\n    );\n  }\n  if (isLoading) {\n    return <Spinner isSVG size=\"sm\" aria-label=\"loading instance type select\" />;\n  }\n\n  const types = filteredTypes || instanceTypes;\n\n  return (\n    <>\n      <Select\n        ouiaId=\"select_instance_type\"\n        variant=\"typeahead\"\n        id=\"instance_type_select\"\n        validated={!isTypeSupported && 'warning'}\n        typeAheadAriaLabel=\"Selected instance type\"\n        toggleAriaLabel=\"Select instance type\"\n        placeholderText=\"Select instance type\"\n        maxHeight=\"180px\"\n        isOpen={isOpen}\n        selections={chosenInstanceType || searchValue}\n        onToggle={onToggle}\n        onSelect={onSelect}\n        onFilter={() => {}}\n        isInputValuePersisted\n        onTypeaheadInputChanged={onTypeaheadInputChange}\n        {...(numOptions < types?.length && {\n          loadingVariant: {\n            text: `View more (${types.length - numOptions})`,\n            onClick: () => setNumOptions(numOptions + OPTIONS_PER_SCREEN),\n          },\n        })}\n      >\n        {selectItemsMapper(types, numOptions)}\n      </Select>\n    </>\n  );\n};\n\nInstanceTypesSelect.propTypes = {\n  setValidation: PropTypes.func.isRequired,\n  architecture: PropTypes.string.isRequired,\n};\n\nexport default InstanceTypesSelect;\n","import React from 'react';\nimport { Select, SelectOption, Spinner, HelperText, HelperTextItem } from '@patternfly/react-core';\nimport { useQuery } from '@tanstack/react-query';\n\nimport { useWizardContext } from '../Common/WizardContext';\nimport { fetchLaunchTemplates } from '../../API';\nimport { TEMPLATES_KEY } from '../../API/queryKeys';\n\nconst TemplatesSelect = () => {\n  const [{ chosenSource, chosenRegion, chosenTemplate }, setWizardContext] = useWizardContext();\n  const [isOpen, setIsOpen] = React.useState(false);\n\n  const {\n    error,\n    isInitialLoading: isLoading,\n    data: templates,\n  } = useQuery([TEMPLATES_KEY, `${chosenRegion}-${chosenSource}`], () => fetchLaunchTemplates(chosenSource, chosenRegion), {\n    enabled: !!chosenSource && !!chosenRegion,\n  });\n\n  const onClear = () => {\n    setWizardContext((prevState) => ({ ...prevState, chosenTemplate: undefined }));\n  };\n\n  const onSelect = (_, selectedTemplate, isPlaceholder) => {\n    if (!isPlaceholder) {\n      setWizardContext((prevState) => ({ ...prevState, chosenTemplate: templates.find((template) => template.name === selectedTemplate)?.id }));\n    }\n    setIsOpen(false);\n  };\n\n  const selectItemsMapper = () => templates.map(({ name, id }) => <SelectOption aria-label=\"template option\" key={id} value={name}></SelectOption>);\n  const chosenTemplateName = chosenTemplate && templates.find((template) => template.id === chosenTemplate)?.name;\n\n  if (isLoading) {\n    return <Spinner isSVG size=\"sm\" aria-label=\"Loading templates\" />;\n  }\n\n  return (\n    <>\n      <Select\n        ouiaId=\"select_templates\"\n        isOpen={isOpen}\n        direction=\"up\"\n        onToggle={(openState) => setIsOpen(openState)}\n        selections={chosenTemplateName}\n        onSelect={onSelect}\n        maxHeight=\"180px\"\n        placeholderText={error || templates?.length === 0 ? 'No template found' : 'Select templates'}\n        aria-label=\"Select templates\"\n        clearSelectionsAriaLabel=\"clear template selection\"\n        onClear={onClear}\n        isDisabled={error || templates?.length === 0}\n        validated={error && 'error'}\n      >\n        {templates && selectItemsMapper()}\n      </Select>\n      {error && (\n        <HelperText id=\"template-error-inline\">\n          <HelperTextItem variant=\"error\">{`There are problems fetching templates: ${error?.message}`} </HelperTextItem>\n        </HelperText>\n      )}\n    </>\n  );\n};\n\nexport default TemplatesSelect;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Form, FormGroup, Popover, Title, Button, Text } from '@patternfly/react-core';\nimport { HelpIcon } from '@patternfly/react-icons';\n\nimport { AWS_PROVIDER } from '../../../../constants';\nimport { imageProps } from '../../helpers';\nimport SourcesSelect from '../../../SourcesSelect';\nimport InstanceCounter from '../../../InstanceCounter';\nimport InstanceTypesSelect from '../../../InstanceTypesSelect';\nimport RegionsSelect from '../../../RegionsSelect';\nimport { useWizardContext } from '../../../Common/WizardContext';\nimport TemplatesSelect from '../../../TemplateSelect';\n\nconst AccountCustomizationsAWS = ({ setStepValidated, image }) => {\n  const [{ chosenSource, chosenRegion, chosenInstanceType }, setWizardContext] = useWizardContext();\n  const [validations, setValidation] = React.useState({\n    sources: chosenSource ? 'success' : 'default',\n    types: chosenInstanceType ? 'success' : 'default',\n    amount: 'success',\n  });\n\n  const onRegionChange = ({ region, imageID }) => {\n    setWizardContext((prevState) => ({\n      ...prevState,\n      chosenRegion: region,\n      chosenImageID: imageID,\n    }));\n  };\n\n  React.useEffect(() => {\n    // This effect checks if the entire step is validated\n    const errorExists = Object.values(validations).some((valid) => valid == 'error' || valid == 'default');\n    setStepValidated(!errorExists);\n  }, [validations]);\n\n  return (\n    <Form>\n      <Title ouiaId=\"account_custom_title\" headingLevel=\"h1\" size=\"xl\">\n        Account and customizations | Amazon\n      </Title>\n      <FormGroup\n        label=\"Select account\"\n        validated={validations.sources}\n        helperTextInvalid=\"Please pick a value\"\n        isRequired\n        fieldId=\"aws-select-source\"\n      >\n        <SourcesSelect\n          image={image}\n          setValidation={(validation) =>\n            setValidation((prevValidations) => ({\n              ...prevValidations,\n              sources: validation,\n            }))\n          }\n        />\n      </FormGroup>\n      <FormGroup\n        label=\"Select region\"\n        isRequired\n        fieldId=\"aws-select-region\"\n        labelIcon={\n          <Popover bodyContent=\"Select available geographical region\">\n            <Button\n              ouiaId=\"region_help\"\n              type=\"button\"\n              aria-label=\"More info for regions field\"\n              onClick={(e) => e.preventDefault()}\n              aria-describedby=\"aws-select-region\"\n              className=\"pf-c-form__group-label-help\"\n              variant=\"plain\"\n            >\n              <HelpIcon noVerticalAlign />\n            </Button>\n          </Popover>\n        }\n      >\n        <RegionsSelect provider={AWS_PROVIDER} onChange={onRegionChange} composeID={image.id} currentRegion={chosenRegion} />\n      </FormGroup>\n      <FormGroup\n        label=\"Select instance type\"\n        isRequired\n        validated={validations.types}\n        helperTextInvalid=\"There are problems fetching instance types.\"\n        helperText={validations.types === 'warning' && 'The selected specification does not meet minimum requirements for this image'}\n        fieldId=\"aws-select-instance-types\"\n        labelIcon={\n          <Popover\n            bodyContent={\n              <div>\n                Select AWS instance type based on your computing, memory, networking, or storage needs\n                <br />\n                <br />\n                <b>Tip:</b> You can filter by a query search, i.e:\n                <br />\n                <Text component=\"small\">{'vcpus = 2 and cores < 4 and memory < 4000'}</Text>\n              </div>\n            }\n          >\n            <Button\n              ouiaId=\"instance_type_help\"\n              type=\"button\"\n              aria-label=\"More info for instance types field\"\n              onClick={(e) => e.preventDefault()}\n              aria-describedby=\"aws-select-instance-types\"\n              className=\"pf-c-form__group-label-help\"\n              variant=\"plain\"\n            >\n              <HelpIcon noVerticalAlign />\n            </Button>\n          </Popover>\n        }\n      >\n        <InstanceTypesSelect\n          architecture={image.architecture}\n          setValidation={(validation) =>\n            setValidation((prevValidations) => ({\n              ...prevValidations,\n              types: validation,\n            }))\n          }\n        />\n      </FormGroup>\n      <FormGroup\n        label=\"Select template (optional)\"\n        fieldId=\"aws-select-template\"\n        labelIcon={\n          <Popover\n            bodyContent={\n              <span>\n                Launch templates contains the configuration information to launch an instance. Note that instance type and public SSH key will be\n                still required and will override template values. For further information and for creating launch templates{' '}\n                <a rel=\"noreferrer\" target=\"_blank\" href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-launch-templates.html\">\n                  click here\n                </a>\n              </span>\n            }\n          >\n            <Button\n              ouiaId=\"template_help\"\n              type=\"button\"\n              aria-label=\"template field info\"\n              onClick={(e) => e.preventDefault()}\n              aria-describedby=\"aws-select-template\"\n              className=\"pf-c-form__group-label-help\"\n              variant=\"plain\"\n            >\n              <HelpIcon noVerticalAlign />\n            </Button>\n          </Popover>\n        }\n      >\n        <TemplatesSelect />\n      </FormGroup>\n      <FormGroup\n        label=\"Count\"\n        isRequired\n        fieldId=\"aws-select-instance-counter\"\n        validated={validations.amount}\n        helperText={validations.amount === 'warning' && 'Launching many vCPUs might exceed service quota limit.'}\n        labelIcon={\n          <Popover bodyContent=\"Specify the number of AWS instances to be launched\">\n            <Button\n              ouiaId=\"instance_count_help\"\n              type=\"button\"\n              aria-label=\"More info for instance counter field\"\n              onClick={(e) => e.preventDefault()}\n              aria-describedby=\"aws-select-instance-counter\"\n              className=\"pf-c-form__group-label-help\"\n              variant=\"plain\"\n            >\n              <HelpIcon noVerticalAlign />\n            </Button>\n          </Popover>\n        }\n      >\n        <InstanceCounter\n          setValidation={(validation) =>\n            setValidation((prev) => ({\n              ...prev,\n              amount: validation,\n            }))\n          }\n        />\n      </FormGroup>\n    </Form>\n  );\n};\n\nAccountCustomizationsAWS.propTypes = {\n  setStepValidated: PropTypes.func.isRequired,\n  image: imageProps,\n};\n\nexport default AccountCustomizationsAWS;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Form, FormGroup, Popover, Title, Button, Text } from '@patternfly/react-core';\nimport { HelpIcon } from '@patternfly/react-icons';\n\nimport { GCP_PROVIDER } from '../../../../constants';\nimport { imageProps } from '../../helpers';\nimport SourcesSelect from '../../../SourcesSelect';\nimport InstanceCounter from '../../../InstanceCounter';\nimport InstanceTypesSelect from '../../../InstanceTypesSelect';\nimport RegionsSelect from '../../../RegionsSelect';\nimport { useWizardContext } from '../../../Common/WizardContext';\nimport TemplatesSelect from '../../../TemplateSelect';\n\nconst AccountCustomizationsGCP = ({ setStepValidated, image }) => {\n  const [wizardContext, setWizardContext] = useWizardContext();\n  const [validations, setValidation] = React.useState({\n    sources: wizardContext.chosenSource ? 'success' : 'default',\n    types: wizardContext.chosenInstanceType ? 'success' : 'default',\n    amount: 'success',\n  });\n\n  React.useEffect(() => {\n    // This effect checks if the entire step is validated\n    const errorExists = Object.values(validations).some((valid) => valid == 'error' || valid == 'default');\n    setStepValidated(!errorExists);\n  }, [validations]);\n\n  const onRegionChange = ({ region, imageID }) => {\n    setWizardContext((prevState) => ({\n      ...prevState,\n      chosenRegion: region,\n      chosenImageID: imageID,\n    }));\n  };\n\n  return (\n    <Form>\n      <Title ouiaId=\"account_custom_title\" headingLevel=\"h1\" size=\"xl\">\n        Account and customizations | Google cloud\n      </Title>\n      <FormGroup\n        label=\"Select account\"\n        validated={validations.sources}\n        helperTextInvalid=\"Please pick a value\"\n        isRequired\n        fieldId=\"gcp-select-source\"\n      >\n        <SourcesSelect\n          image={image}\n          setValidation={(validation) =>\n            setValidation((prevValidations) => ({\n              ...prevValidations,\n              sources: validation,\n            }))\n          }\n        />\n      </FormGroup>\n      <FormGroup\n        label=\"Select zone\"\n        isRequired\n        fieldId=\"gcp-select-zone\"\n        labelIcon={\n          <Popover headerContent={<div>GCP zones</div>}>\n            <Button\n              ouiaId=\"zone_help\"\n              type=\"button\"\n              aria-label=\"More info for zones field\"\n              onClick={(e) => e.preventDefault()}\n              aria-describedby=\"gcp-select-zone\"\n              className=\"pf-c-form__group-label-help\"\n              variant=\"plain\"\n            >\n              <HelpIcon noVerticalAlign />\n            </Button>\n          </Popover>\n        }\n      >\n        <RegionsSelect provider={GCP_PROVIDER} onChange={onRegionChange} composeID={image.id} currentRegion={wizardContext.chosenRegion} />\n      </FormGroup>\n      <FormGroup\n        label=\"Select machine type\"\n        isRequired\n        validated={validations.types}\n        helperTextInvalid=\"There are problems fetching instance types.\"\n        helperText={validations.types === 'warning' && 'The selected specification does not meet minimum requirements for this image'}\n        fieldId=\"gcp-select-machine-types\"\n        labelIcon={\n          <Popover\n            bodyContent={\n              <div>\n                Select GCP instance type based on your computing, memory, networking, or storage needs\n                <br />\n                <br />\n                <b>Tip:</b> You can filter by a query search, i.e:\n                <br />\n                <Text component=\"small\">{'vcpus = 2 and storage > 30 and memory < 4000'}</Text>\n              </div>\n            }\n          >\n            <Button\n              ouiaId=\"machine_type_help\"\n              type=\"button\"\n              aria-label=\"More info for machine types field\"\n              onClick={(e) => e.preventDefault()}\n              aria-describedby=\"gcp-select-machine-types\"\n              className=\"pf-c-form__group-label-help\"\n              variant=\"plain\"\n            >\n              <HelpIcon noVerticalAlign />\n            </Button>\n          </Popover>\n        }\n      >\n        <InstanceTypesSelect\n          architecture={image.architecture}\n          setValidation={(validation) =>\n            setValidation((prevValidations) => ({\n              ...prevValidations,\n              types: validation,\n            }))\n          }\n        />\n      </FormGroup>\n      <FormGroup\n        label=\"Select template (optional)\"\n        fieldId=\"gcp-select-template\"\n        labelIcon={\n          <Popover\n            bodyContent={\n              <span>\n                Launch templates contains the configuration information to launch an instance. Note that machine type and public SSH key will be still\n                required and will override template values. For further information and for creating launch templates{' '}\n                <a rel=\"noreferrer\" target=\"_blank\" href=\"https://cloud.google.com/compute/docs/instance-templates\">\n                  click here\n                </a>\n              </span>\n            }\n          >\n            <Button\n              ouiaId=\"template_help\"\n              type=\"button\"\n              aria-label=\"template field info\"\n              onClick={(e) => e.preventDefault()}\n              aria-describedby=\"gcp-select-template\"\n              className=\"pf-c-form__group-label-help\"\n              variant=\"plain\"\n            >\n              <HelpIcon noVerticalAlign />\n            </Button>\n          </Popover>\n        }\n      >\n        <TemplatesSelect />\n      </FormGroup>\n      <FormGroup\n        label=\"Count\"\n        isRequired\n        fieldId=\"gcp-select-instance-counter\"\n        validated={validations.amount}\n        helperText={validations.amount === 'warning' && 'Launching many vCPUs might exceed service quota limit.'}\n        labelIcon={\n          <Popover headerContent={<div>Number of GCP instances</div>}>\n            <Button\n              ouiaId=\"instance_count_help\"\n              type=\"button\"\n              aria-label=\"More info for instance counter field\"\n              onClick={(e) => e.preventDefault()}\n              aria-describedby=\"gcp-select-instance-counter\"\n              className=\"pf-c-form__group-label-help\"\n              variant=\"plain\"\n            >\n              <HelpIcon noVerticalAlign />\n            </Button>\n          </Popover>\n        }\n      >\n        <InstanceCounter\n          setValidation={(validation) =>\n            setValidation((prev) => ({\n              ...prev,\n              amount: validation,\n            }))\n          }\n        />\n      </FormGroup>\n    </Form>\n  );\n};\n\nAccountCustomizationsGCP.propTypes = {\n  setStepValidated: PropTypes.func.isRequired,\n  image: imageProps,\n};\nexport default AccountCustomizationsGCP;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Form, FormGroup, Popover, Title, Button, Text } from '@patternfly/react-core';\nimport { HelpIcon } from '@patternfly/react-icons';\n\nimport { AZURE_PROVIDER } from '../../../../constants';\nimport { imageProps } from '../../helpers';\nimport SourcesSelect from '../../../SourcesSelect';\nimport InstanceCounter from '../../../InstanceCounter';\nimport InstanceTypesSelect from '../../../InstanceTypesSelect';\nimport RegionsSelect from '../../../RegionsSelect';\nimport { useWizardContext } from '../../../Common/WizardContext';\n\nconst AccountCustomizationsAzure = ({ setStepValidated, image }) => {\n  const [wizardContext, setWizardContext] = useWizardContext();\n  const [validations, setValidation] = React.useState({\n    sources: wizardContext.chosenSource ? 'success' : 'default',\n    types: wizardContext.chosenInstanceType ? 'success' : 'default',\n    amount: 'success',\n  });\n\n  React.useEffect(() => {\n    // This effect checks if the entire step is validated\n    const errorExists = Object.values(validations).some((valid) => valid == 'error' || valid == 'default');\n    setStepValidated(!errorExists);\n  }, [validations]);\n\n  const onRegionChange = ({ region, imageID }) => {\n    setWizardContext((prevState) => ({\n      ...prevState,\n      chosenRegion: region,\n      chosenImageID: imageID,\n    }));\n  };\n\n  return (\n    <Form>\n      <Title ouiaId=\"account_custom_title\" headingLevel=\"h1\" size=\"xl\">\n        Account and customizations | Azure\n      </Title>\n      <FormGroup\n        label=\"Select account\"\n        validated={validations.sources}\n        helperTextInvalid=\"Please pick a value\"\n        isRequired\n        fieldId=\"azure-select-source\"\n      >\n        <SourcesSelect\n          image={image}\n          setValidation={(validation) =>\n            setValidation((prevValidations) => ({\n              ...prevValidations,\n              sources: validation,\n            }))\n          }\n        />\n      </FormGroup>\n      <FormGroup\n        label=\"Select location\"\n        isRequired\n        fieldId=\"azure-select-location\"\n        labelIcon={\n          <Popover headerContent={<div>Azure locations</div>}>\n            <Button\n              ouiaId=\"location_help\"\n              type=\"button\"\n              aria-label=\"More info for location field\"\n              onClick={(e) => e.preventDefault()}\n              aria-describedby=\"azure-select-location\"\n              className=\"pf-c-form__group-label-help\"\n              variant=\"plain\"\n            >\n              <HelpIcon noVerticalAlign />\n            </Button>\n          </Popover>\n        }\n      >\n        <RegionsSelect provider={AZURE_PROVIDER} currentRegion={wizardContext.chosenRegion} onChange={onRegionChange} composeID={image.id} />\n      </FormGroup>\n      <FormGroup\n        label=\"Select instance size\"\n        isRequired\n        validated={validations.types}\n        helperTextInvalid=\"There are problems fetching instance types.\"\n        helperText={validations.types === 'warning' && 'The selected specification does not meet minimum requirements for this image'}\n        fieldId=\"azure-select-instance-size\"\n        labelIcon={\n          <Popover\n            bodyContent={\n              <div>\n                Select Azure instance type based on your computing, memory, networking, or storage needs\n                <br />\n                <br />\n                <b>Tip:</b> You can filter by a query search, i.e:\n                <br />\n                <Text component=\"small\">{'vcpus = 2 and storage > 30 and memory < 4000'}</Text>\n              </div>\n            }\n          >\n            <Button\n              ouiaId=\"machine_type_help\"\n              type=\"button\"\n              aria-label=\"More info for instance size field\"\n              onClick={(e) => e.preventDefault()}\n              aria-describedby=\"azure-select-instance-size\"\n              className=\"pf-c-form__group-label-help\"\n              variant=\"plain\"\n            >\n              <HelpIcon noVerticalAlign />\n            </Button>\n          </Popover>\n        }\n      >\n        <InstanceTypesSelect\n          architecture={image.architecture}\n          setValidation={(validation) =>\n            setValidation((prevValidations) => ({\n              ...prevValidations,\n              types: validation,\n            }))\n          }\n        />\n      </FormGroup>\n      <FormGroup\n        label=\"Count\"\n        isRequired\n        fieldId=\"azure-select-instance-counter\"\n        validated={validations.amount}\n        helperText={validations.amount === 'warning' && 'Launching many vCPUs might exceed service quota limit.'}\n        labelIcon={\n          <Popover headerContent={<div>Number of Azure instances</div>}>\n            <Button\n              ouiaId=\"instance_count_help\"\n              type=\"button\"\n              aria-label=\"More info for instance counter field\"\n              onClick={(e) => e.preventDefault()}\n              aria-describedby=\"azure-select-instance-counter\"\n              className=\"pf-c-form__group-label-help\"\n              variant=\"plain\"\n            >\n              <HelpIcon noVerticalAlign />\n            </Button>\n          </Popover>\n        }\n      >\n        <InstanceCounter\n          setValidation={(validation) =>\n            setValidation((prev) => ({\n              ...prev,\n              amount: validation,\n            }))\n          }\n        />\n      </FormGroup>\n    </Form>\n  );\n};\n\nAccountCustomizationsAzure.propTypes = {\n  setStepValidated: PropTypes.func.isRequired,\n  image: imageProps,\n};\nexport default AccountCustomizationsAzure;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { AWS_PROVIDER, AZURE_PROVIDER, GCP_PROVIDER } from '../../../Common/constants';\nimport { imageProps } from '../../helpers';\nimport { defaultRegionByProvider } from '../../../Common/helpers';\nimport { useWizardContext } from '../../../Common/WizardContext';\nimport AWS from './aws';\nimport GCP from './gcp';\nimport Azure from './azure';\n\nconst AccountCustomizations = ({ setStepValidated, image }) => {\n  const [, setWizardContext] = useWizardContext();\n  const provider = image.provider;\n\n  React.useEffect(() => {\n    provider &&\n      setWizardContext((prevState) => ({\n        ...prevState,\n        provider,\n        chosenRegion: defaultRegionByProvider(provider),\n        chosenImageID: image.id,\n      }));\n  }, [provider, setWizardContext]);\n\n  switch (provider) {\n    case AWS_PROVIDER:\n      return <AWS setStepValidated={setStepValidated} image={image} />;\n    case AZURE_PROVIDER:\n      return <Azure setStepValidated={setStepValidated} image={image} />;\n    case GCP_PROVIDER:\n      return <GCP setStepValidated={setStepValidated} image={image} />;\n    default:\n      throw new Error(`Can not render AccountCustomizations for unrecognized provider: ${provider}`);\n  }\n};\n\nAccountCustomizations.propTypes = {\n  setStepValidated: PropTypes.func.isRequired,\n  image: imageProps,\n};\n\nexport default AccountCustomizations;\n","import { AWS_PROVIDER, AZURE_PROVIDER, GCP_PROVIDER } from '../../../../constants';\n\nexport const PF_SUCCESS_100 = '#3E8635';\nexport const PF_DANGER_100 = '#C9190B';\n\nexport const POLLING_BACKOFF_INTERVAL = [\n  500, 600, 700, 800, 900, 1000, 1200, 1400, 1600, 1800, 2000, 3000, 4000, 5000, 10000, 15000, 20000, 25000, 30000, 60000, 60000,\n];\n\nexport const AWS_STEPS = [\n  { name: 'Create reservation', description: `Submit requested data` },\n  {\n    name: 'Transfer keys',\n    description: 'Uploading public key to AWS',\n  },\n  { name: 'Launch instance(s)', description: 'Call AWS API for launching instance(s)' },\n  { name: 'Instance description', description: 'Fetch instance(s) descriptions' },\n];\n\nexport const AZURE_STEPS = [\n  { name: 'Create reservation', description: `Submit data of requested instances` },\n  { name: 'Ensure resource group', description: 'Ensure resource group is present on Azure account' },\n  { name: 'Launch instance(s)', description: 'Launch defined instance(s) on Azure' },\n];\n\nexport const GCP_STEPS = [\n  { name: 'Create reservation', description: `Submit requested data` },\n  { name: 'Launch instance(s)', description: 'Call Google API' },\n  { name: 'Fetch instance(s) description', description: 'Fetch instance(s) descriptions' },\n];\n\nexport const SSH_STEP = [{ name: 'New SSH key', description: 'Creating new SSH public key resource' }];\n\nexport const PROVIDERS_INSTANCES_SUPPORT = [AWS_PROVIDER, AZURE_PROVIDER, GCP_PROVIDER];\n","import { AWS_PROVIDER, AZURE_PROVIDER, GCP_PROVIDER } from '../../../Common/constants';\nimport { AWS_STEPS, AZURE_STEPS, GCP_STEPS } from './constants';\n\nexport const mapCurrentVariant = (step, currentStep, currentError, currentWarning) => {\n  if (step < currentStep) return 'success';\n  if (step === currentStep && currentError) return 'danger';\n  if (step === currentStep && currentWarning) return 'warning';\n  if (step === currentStep) return 'info';\n  if (step > currentStep) return 'pending';\n};\n\nexport const stepsByProvider = (provider) => {\n  switch (provider) {\n    case AWS_PROVIDER:\n      return AWS_STEPS;\n    case AZURE_PROVIDER:\n      return AZURE_STEPS;\n    case GCP_PROVIDER:\n      return GCP_STEPS;\n    default:\n      throw new Error(`Steps requested for unknown provider: ${provider}`);\n  }\n};\n\nexport const instanceType = (provider) => {\n  switch (provider) {\n    case AWS_PROVIDER:\n      return 'instance_type';\n    case AZURE_PROVIDER:\n      return 'instance_size';\n    case GCP_PROVIDER:\n      return 'machine_type';\n    default:\n      return 'instance_type';\n  }\n};\n\nexport const region = (provider) => {\n  switch (provider) {\n    case AWS_PROVIDER:\n      return 'region';\n    case GCP_PROVIDER:\n      return 'zone';\n    default:\n      return 'region';\n  }\n};\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { ExpandableSection, DescriptionList, DescriptionListTerm, DescriptionListGroup, DescriptionListDescription } from '@patternfly/react-core';\n\nimport { useSourcesData } from '../Common/Hooks/sources';\nimport { useWizardContext } from '../Common/WizardContext';\nimport { instanceType, region } from '../ProvisioningWizard/steps/ReservationProgress/helpers';\nimport { useQuery } from '@tanstack/react-query';\nimport { fetchLaunchTemplates } from '../../API';\nimport { humanizeProvider } from '../Common/helpers';\nimport { TEMPLATES_KEY } from '../../API/queryKeys';\n\nconst LaunchDescriptionList = ({ imageName }) => {\n  const [\n    { chosenRegion, chosenSshKeyName, uploadedKey, chosenInstanceType, chosenNumOfInstances, chosenSource, sshPublicName, provider, chosenTemplate },\n  ] = useWizardContext();\n  const { sources } = useSourcesData(provider);\n  const { data: templates } = useQuery([TEMPLATES_KEY, `${chosenRegion}-${chosenSource}`], () => fetchLaunchTemplates(chosenSource, chosenRegion), {\n    enabled: !!chosenSource && !!chosenRegion,\n  });\n\n  const [isExpanded, setIsExpanded] = React.useState(true);\n  const onToggle = (isExpanded) => {\n    setIsExpanded(isExpanded);\n  };\n\n  const getChosenSourceName = () => sources?.find((source) => source.id === chosenSource).name;\n  const templateName = templates?.find((template) => template.id === chosenTemplate)?.name;\n  const regionLabel = region(provider).charAt(0).toUpperCase() + region(provider).slice(1);\n  const providerInstanceType = instanceType(provider).replace('_', ' ');\n  const instanceTypeLabel = providerInstanceType.charAt(0).toUpperCase() + providerInstanceType.slice(1);\n\n  return (\n    <ExpandableSection toggleText={provider && humanizeProvider(provider)} onToggle={onToggle} isExpanded={isExpanded} isIndented>\n      <DescriptionList isHorizontal>\n        <DescriptionListGroup>\n          <DescriptionListTerm>Image</DescriptionListTerm>\n          <DescriptionListDescription>{imageName}</DescriptionListDescription>\n        </DescriptionListGroup>\n        <DescriptionListGroup>\n          <DescriptionListTerm>Account</DescriptionListTerm>\n          <DescriptionListDescription>{getChosenSourceName()}</DescriptionListDescription>\n        </DescriptionListGroup>\n        <DescriptionListGroup>\n          <DescriptionListTerm>{regionLabel}</DescriptionListTerm>\n          <DescriptionListDescription>{chosenRegion}</DescriptionListDescription>\n        </DescriptionListGroup>\n        <DescriptionListGroup>\n          <DescriptionListTerm>{instanceTypeLabel}</DescriptionListTerm>\n          <DescriptionListDescription>{chosenInstanceType}</DescriptionListDescription>\n        </DescriptionListGroup>\n        <DescriptionListGroup>\n          <DescriptionListTerm>Count</DescriptionListTerm>\n          <DescriptionListDescription>{chosenNumOfInstances}</DescriptionListDescription>\n        </DescriptionListGroup>\n        <DescriptionListGroup>\n          <DescriptionListTerm>{uploadedKey ? 'New SSH key' : 'Existing SSH key'}</DescriptionListTerm>\n          <DescriptionListDescription>{uploadedKey ? sshPublicName : chosenSshKeyName}</DescriptionListDescription>\n        </DescriptionListGroup>\n        {chosenTemplate && (\n          <DescriptionListGroup>\n            <DescriptionListTerm>Launch template</DescriptionListTerm>\n            <DescriptionListDescription>{templateName}</DescriptionListDescription>\n          </DescriptionListGroup>\n        )}\n      </DescriptionList>\n    </ExpandableSection>\n  );\n};\n\nLaunchDescriptionList.propTypes = {\n  imageName: PropTypes.string.isRequired,\n};\nexport default LaunchDescriptionList;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Title, Text } from '@patternfly/react-core';\nimport LaunchDescriptionList from '../../../LaunchDescriptionList';\n\nconst ReviewDetails = ({ imageName }) => {\n  return (\n    <div className=\"pf-c-form\">\n      <Title ouiaId=\"review_details_title\" headingLevel=\"h1\">\n        Review details\n      </Title>\n      <Text ouiaId=\"review_details_description\">\n        Review the information below and then click <b>Launch</b> to finish the process.\n      </Text>\n\n      <LaunchDescriptionList imageName={imageName} />\n    </div>\n  );\n};\n\nReviewDetails.propTypes = {\n  imageName: PropTypes.string.isRequired,\n};\nexport default ReviewDetails;\n","import { AZURE_PROVIDER } from '../../../../constants';\n\nexport const UNSUPPORTED_KEYS = { [AZURE_PROVIDER]: ['ssh-ed25519'] };\n\nexport const isNotSupportKeyFormat = (provider, key) => {\n  return UNSUPPORTED_KEYS[provider]?.includes(key);\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Alert, Select, SelectOption, Spinner, FormGroup } from '@patternfly/react-core';\nimport { useQuery } from '@tanstack/react-query';\n\nimport { PUBKEYS_QUERY_KEY } from '../../../../API/queryKeys';\nimport { fetchPubkeysList } from '../../../../API';\nimport { useWizardContext } from '../../../Common/WizardContext';\nimport { isNotSupportKeyFormat } from './helpers';\nimport { humanizeProvider } from '../../../Common/helpers';\n\nconst selectOptionObj = (id, name) => ({\n  id: id,\n  toString: () => name,\n  compareTo: (other) => other.id == id,\n});\n\nconst PubkeySelect = ({ setStepValidated }) => {\n  const [wizardContext, setWizardContext] = useWizardContext();\n  const [isOpen, setIsOpen] = React.useState(false);\n  const [selection, setSelection] = React.useState(\n    wizardContext.chosenSshKeyId ? selectOptionObj(wizardContext.chosenSshKeyId, wizardContext.chosenSshKeyName) : null\n  );\n  const [isKeySupported, setIsKeySupported] = React.useState(true);\n\n  React.useEffect(() => {\n    const keyType = pubkeys?.find((key) => key.id === selection?.id)?.type;\n    if (isNotSupportKeyFormat(wizardContext.provider, keyType)) {\n      setStepValidated(false);\n      setIsKeySupported(false);\n    } else {\n      setStepValidated(!!selection);\n      setIsKeySupported(true);\n    }\n  }, [selection]);\n\n  const { isLoading, isError, data: pubkeys } = useQuery(PUBKEYS_QUERY_KEY, fetchPubkeysList);\n\n  const onSelect = (event, value) => {\n    setWizardContext((prevState) => ({\n      ...prevState,\n      chosenSshKeyId: value.id,\n      chosenSshKeyName: value.toString(),\n    }));\n    setSelection(value);\n    setIsOpen(false);\n  };\n\n  if (isLoading) {\n    return <Spinner isSVG size=\"sm\" aria-label=\"Loading saved SSH keys\" />;\n  }\n\n  if (isError || (pubkeys && pubkeys.length < 1)) {\n    return (\n      <>\n        {isError && <Alert ouiaId=\"pubkey_alert\" variant=\"warning\" isInline title=\"There are problems fetching saved SSH keys\" />}\n        <Select ouiaId=\"pubkey_empty\" isDisabled placeholderText=\"No SSH key found\" aria-label=\"Select public key\" />\n      </>\n    );\n  }\n\n  return (\n    <FormGroup\n      helperTextInvalid={`Key format is not support in ${humanizeProvider(wizardContext.provider)}`}\n      label=\"Select public key\"\n      validated={!isKeySupported && 'error'}\n    >\n      <Select\n        ouiaId=\"select_pubkey\"\n        onToggle={(isExpanded) => setIsOpen(isExpanded)}\n        onSelect={onSelect}\n        isOpen={isOpen}\n        selections={selection}\n        placeholderText=\"Select public key...\"\n        aria-label=\"Select public key\"\n        validated={!isKeySupported && 'error'}\n      >\n        {pubkeys.map(({ id, name }) => (\n          <SelectOption aria-label={`Public key ${name}`} key={id} value={selectOptionObj(id, name)} />\n        ))}\n      </Select>\n    </FormGroup>\n  );\n};\n\nPubkeySelect.propTypes = {\n  setStepValidated: PropTypes.func.isRequired,\n};\n\nexport default PubkeySelect;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { FormGroup, TextInput, FileUpload, Button, Popover } from '@patternfly/react-core';\nimport { HelpIcon } from '@patternfly/react-icons';\n\nimport { useWizardContext } from '../../../Common/WizardContext';\nimport { UNSUPPORTED_KEYS } from './helpers';\n\n// This is a simple regex format for public ssh key\nconst PUBLIC_KEY_FORMAT = '^(ssh|ecdsa)';\n\nconst NewSSHKeyForm = ({ setStepValidated }) => {\n  const validatePublicKey = (ssh) => {\n    const regex = new RegExp(PUBLIC_KEY_FORMAT);\n    // checks for unsupported keys format\n    if (UNSUPPORTED_KEYS[provider]?.some((key) => ssh?.startsWith(key))) return false;\n    return regex.test(ssh);\n  };\n  const [{ sshPublicName, sshPublicKey, provider }, setWizardContext] = useWizardContext();\n  const [isLoading, setIsLoading] = React.useState();\n  const [validations, setValidation] = React.useState({\n    sshKeyBody: validatePublicKey(sshPublicKey) ? 'success' : 'default',\n    sshKeyName: sshPublicName ? 'success' : 'default',\n  });\n  const [keyName, setName] = React.useState(sshPublicName);\n  const [publicKey, setPublicKey] = React.useState(sshPublicKey);\n\n  React.useEffect(() => {\n    // This effect checks if the entire step is validated\n    const errorExists = Object.values(validations).some((valid) => valid !== 'success');\n    setStepValidated(!errorExists);\n  }, [validations]);\n\n  const updateValidation = (inputKey, value) =>\n    setValidation((prevValidations) => ({\n      ...prevValidations,\n      [inputKey]: value,\n    }));\n\n  const handleNameChange = (value) => {\n    setWizardContext((prevState) => ({ ...prevState, sshPublicName: value }));\n    setName(value);\n  };\n  const handleNameBlur = () => {\n    if (keyName.length === 0) {\n      updateValidation('sshKeyName', 'error');\n      return;\n    }\n    updateValidation('sshKeyName', 'success');\n  };\n  const handleSSHKeyChange = (value) => {\n    if (validatePublicKey(value)) {\n      setWizardContext((prevState) => ({\n        ...prevState,\n        sshPublicKey: value,\n      }));\n      setPublicKey(value);\n      updateValidation('sshKeyBody', 'success');\n    } else {\n      updateValidation('sshKeyBody', 'error');\n    }\n  };\n  const handleSSHKeyText = (text) => {\n    setWizardContext((prevState) => ({\n      ...prevState,\n      sshPublicKey: text,\n    }));\n    setPublicKey(text);\n  };\n  const handleSSHKeyTextBlur = () => {\n    if (publicKey === '') {\n      updateValidation('sshKeyBody', 'default');\n    } else {\n      updateValidation('sshKeyBody', validatePublicKey(publicKey) ? 'success' : 'error');\n    }\n  };\n\n  const handleClear = () => {\n    setWizardContext((prevState) => ({\n      ...prevState,\n      sshPublicName: undefined,\n      sshPublicKey: undefined,\n    }));\n    setPublicKey('');\n    updateValidation('sshKeyBody', 'default');\n  };\n\n  const handleFileReadStarted = () => {\n    setIsLoading(true);\n  };\n\n  const handleFileReadFinished = () => {\n    setIsLoading(false);\n  };\n  const handleFileReadFailed = () => {\n    setWizardContext((prevState) => ({\n      ...prevState,\n      sshPublicName: '<Failed to load the file>',\n    }));\n    updateValidation('sshKeyBody', 'error');\n  };\n\n  return (\n    <FormGroup isStack>\n      <FormGroup validated={validations.sshKeyName} helperTextInvalid=\"Name is required\" label=\"Name\" isRequired fieldId=\"ssh-name\">\n        <TextInput\n          ouiaId=\"new_pubkey_name\"\n          validated={validations.sshKeyName}\n          value={keyName}\n          id=\"public-key-name\"\n          onChange={handleNameChange}\n          onBlur={handleNameBlur}\n          type=\"text\"\n        />\n      </FormGroup>\n      <FormGroup\n        helperTextInvalid=\"Public key format is invalid or unsupported\"\n        label=\"SSH public key\"\n        isRequired\n        fieldId=\"ssh-file\"\n        validated={validations.sshKeyBody}\n        labelIcon={\n          Object.keys(UNSUPPORTED_KEYS).includes(provider) && (\n            <Popover\n              bodyContent={\n                <span>\n                  Azure does not support ed25519 keys, please use RSA key instead. See\n                  <a rel=\"noreferrer\" target=\"_blank\" href=\"https://learn.microsoft.com/en-us/troubleshoot/azure/virtual-machines/ed25519-ssh-keys\">\n                    further information\n                  </a>\n                </span>\n              }\n            >\n              <Button\n                ouiaId=\"pubkey_help\"\n                type=\"button\"\n                aria-label=\"More info for pubkeys format\"\n                onClick={(e) => e.preventDefault()}\n                aria-describedby=\"public key content\"\n                className=\"pf-c-form__group-label-help\"\n                variant=\"plain\"\n              >\n                <HelpIcon noVerticalAlign />\n              </Button>\n            </Popover>\n          )\n        }\n      >\n        <FileUpload\n          id=\"public-key-value\"\n          onDataChange={handleSSHKeyChange}\n          allowEditingUploadedText\n          onTextChange={handleSSHKeyText}\n          onTextAreaBlur={handleSSHKeyTextBlur}\n          type=\"text\"\n          value={publicKey}\n          validated={validations.sshKeyBody}\n          onReadStarted={handleFileReadStarted}\n          onReadFinished={handleFileReadFinished}\n          onReadFailed={handleFileReadFailed}\n          onClearClick={handleClear}\n          isLoading={isLoading}\n          filenamePlaceholder=\"Drag a file here\"\n        />\n      </FormGroup>\n    </FormGroup>\n  );\n};\n\nNewSSHKeyForm.propTypes = {\n  setStepValidated: PropTypes.func.isRequired,\n};\nexport default NewSSHKeyForm;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Form, FormGroup, Radio, Text, Title } from '@patternfly/react-core';\nimport { useQuery } from '@tanstack/react-query';\nimport { useWizardContext } from '../../../Common/WizardContext';\nimport PubkeySelect from './PubkeySelect';\nimport NewSSHKeyForm from './NewKeyForm';\nimport { PUBKEYS_QUERY_KEY } from '../../../../API/queryKeys';\nimport { fetchPubkeysList } from '../../../../API';\n\nconst EXIST_KEY_OPTION = 'existKey';\nconst NEW_KEY_OPTION = 'newKey';\n\nconst PublicKeys = ({ setStepValidated }) => {\n  const [wizardContext, setWizardContext] = useWizardContext();\n  const { isError, data: pubkeys } = useQuery(PUBKEYS_QUERY_KEY, fetchPubkeysList);\n  const [isSelectDisabled, disableSelect] = React.useState(false);\n\n  const switchTo = (optionKey) => {\n    setWizardContext((prevState) => ({\n      ...prevState,\n      uploadedKey: NEW_KEY_OPTION === optionKey,\n    }));\n  };\n\n  const onOptionChange = (_, event) => {\n    switchTo(event.currentTarget.value);\n  };\n\n  React.useEffect(() => {\n    if (isError || pubkeys?.length < 1) {\n      disableSelect(true);\n      switchTo(NEW_KEY_OPTION);\n    }\n  }, [isError, pubkeys]);\n\n  return (\n    <Form className=\"pubkeys\">\n      <Title ouiaId=\"pubkey_title\" headingLevel=\"h1\">\n        SSH key authentication\n      </Title>\n      <Text ouiaId=\"pubkey_description\">Establish secure, reliable communication and strong encryption to protect data.</Text>\n      <FormGroup role=\"radiogroup\" isStack isRequired label=\"Select a method to add SSH public key\">\n        <Radio\n          id=\"existing-pubkey-radio\"\n          ouiaId=\"pubkey_radio\"\n          isChecked={!wizardContext.uploadedKey}\n          isDisabled={isSelectDisabled}\n          name=\"ssh-keys-radio\"\n          value={EXIST_KEY_OPTION}\n          onChange={onOptionChange}\n          label=\"Select existing SSH public key\"\n          data-testid=\"existing-pubkey-radio\"\n          body={(!wizardContext.uploadedKey || isSelectDisabled) && <PubkeySelect setStepValidated={setStepValidated} />}\n        />\n        <Radio\n          id=\"upload-pubkey-radio\"\n          ouiaId=\"new_pubkey_radio\"\n          isChecked={wizardContext.uploadedKey}\n          name=\"ssh-keys-radio\"\n          value={NEW_KEY_OPTION}\n          onChange={onOptionChange}\n          label=\"Add and save a new SSH public key\"\n          description=\"Newly added key will be automatically saved.\"\n          data-testid=\"upload-pubkey-radio\"\n          body={wizardContext.uploadedKey && <NewSSHKeyForm setStepValidated={setStepValidated} />}\n        />\n      </FormGroup>\n    </Form>\n  );\n};\n\nPublicKeys.propTypes = {\n  setStepValidated: PropTypes.func.isRequired,\n};\n\nexport default PublicKeys;\n","import React from 'react';\n\nconst intervalGenerator = function* (intervalList) {\n  for (const interval of intervalList) yield interval;\n};\n\nconst useInterval = (list) => {\n  const generatorRef = React.useRef(null);\n  const savedList = React.useRef(list);\n  const [currentInterval, setCurrentInterval] = React.useState();\n\n  React.useEffect(() => {\n    generatorRef.current = intervalGenerator(savedList.current);\n  }, []);\n\n  const nextInterval = () => {\n    const nextValue = generatorRef.current.next().value;\n    setCurrentInterval(nextValue === undefined ? false : nextValue);\n    if (nextValue === undefined) return false;\n    return nextValue;\n  };\n  return { nextInterval, currentInterval };\n};\n\nexport default useInterval;\n","import { AWS_PROVIDER, AZURE_PROVIDER, GCP_PROVIDER } from './constants';\n\nexport const instanceLink = (instanceID, provider, region) => {\n  switch (provider) {\n    case AWS_PROVIDER:\n      return `https://console.aws.amazon.com/ec2/home?region=${region}#InstanceDetails:instanceId=${instanceID}`;\n    case AZURE_PROVIDER:\n      return `https://portal.azure.com/#@rhdevcloudops.onmicrosoft.com/resource${instanceID}/overview`;\n    case GCP_PROVIDER:\n      return `https://console.cloud.google.com/compute/instancesDetail/zones/${region}/instances/${instanceID}`;\n    default:\n      return null;\n  }\n};\n\nexport const humanizeInstanceID = (instanceID, provider) => {\n  switch (provider) {\n    case AZURE_PROVIDER:\n      return instanceID.split('/').slice(-1);\n    default:\n      return instanceID;\n  }\n};\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { TableComposable, Thead, Tr, Th, Tbody, Td } from '@patternfly/react-table';\nimport { ExternalLinkAltIcon } from '@patternfly/react-icons';\nimport { Button, ClipboardCopy, Card, Pagination, Spinner, Bullseye } from '@patternfly/react-core';\nimport { useQuery } from '@tanstack/react-query';\n\nimport { SSHUsername } from './helpers';\nimport { instanceLink, humanizeInstanceID } from '../Common/instanceHelpers';\nimport { fetchReservationByProvider } from '../../API';\n\nconst PER_PAGE_OPTIONS = [\n  { title: '5', value: 5 },\n  { title: '10', value: 10 },\n  { title: '20', value: 20 },\n  { title: '50', value: 50 },\n];\nconst InstancesTable = ({ reservationID, provider, region }) => {\n  const [paginationOptions, setPaginationOptions] = React.useState({ perPage: 5, page: 1, startIdx: 0, endIdx: 5 });\n  const { data: instances, isLoading } = useQuery(['launchInfo', reservationID], () => fetchReservationByProvider(reservationID, provider), {\n    select: (reservation) => reservation?.instances,\n  });\n\n  const onSetPage = (_, newPage, perPage, startIdx, endIdx) => {\n    setPaginationOptions({ perPage, page: newPage, startIdx, endIdx });\n  };\n\n  const onPerPageSelect = (_, newPerPage, newPage, startIdx, endIdx) => {\n    setPaginationOptions((prevOptions) => ({ ...prevOptions, perPage: newPerPage, page: newPage, startIdx, endIdx }));\n  };\n\n  const instancesPerPage = instances?.slice(paginationOptions.startIdx, paginationOptions.endIdx);\n  const atLeastOneDetailNotEmpty = instancesPerPage?.some((instance) => instance.detail?.public_dns?.length > 0);\n\n  if (isLoading)\n    return (\n      <Bullseye>\n        <Spinner isSVG size=\"xl\" />\n      </Bullseye>\n    );\n  return (\n    <Card style={{ position: 'relative', marginLeft: '-20%', marginRight: '-20%' }}>\n      <Pagination\n        itemCount={instances?.length || 0}\n        page={paginationOptions.page}\n        onSetPage={onSetPage}\n        perPage={paginationOptions.perPage}\n        onPerPageSelect={onPerPageSelect}\n        perPageOptions={PER_PAGE_OPTIONS}\n        isCompact\n        ouiaId=\"instances-pagination\"\n      />\n      <TableComposable ouiaId=\"instances table\" aria-label=\"instances description table\" variant=\"compact\">\n        <Thead>\n          <Tr>\n            <Th>ID</Th>\n            {atLeastOneDetailNotEmpty && <Th>DNS</Th>}\n            <Th>SSH command</Th>\n          </Tr>\n        </Thead>\n        <Tbody>\n          {instancesPerPage?.map(({ instance_id, detail }) => (\n            <Tr key={instance_id}>\n              <Td aria-label=\"instance id\" dataLabel=\"ID\">\n                <Button\n                  variant=\"link\"\n                  icon={<ExternalLinkAltIcon />}\n                  iconPosition=\"right\"\n                  isInline\n                  component=\"a\"\n                  rel=\"noreferrer\"\n                  target=\"_blank\"\n                  href={instanceLink(instance_id, provider, region)}\n                >\n                  {humanizeInstanceID(instance_id, provider)}\n                </Button>\n              </Td>\n              {atLeastOneDetailNotEmpty && (\n                <Td aria-label=\"instance dns\" dataLabel=\"DNS\">\n                  {detail?.public_dns ? (\n                    <ClipboardCopy isReadOnly hoverTip=\"Copy DNS\" clickTip=\"DNS was copied!\" variant=\"expansion\">\n                      {detail?.public_dns}\n                    </ClipboardCopy>\n                  ) : (\n                    'N/A'\n                  )}\n                </Td>\n              )}\n              <Td aria-label=\"ssh command\" dataLabel=\"SSH\">\n                {detail?.public_ipv4 ? (\n                  <ClipboardCopy isReadOnly hoverTip=\"Copy SSH command\" clickTip=\"SSH was copied!\" variant=\"expansion\">\n                    {`ssh ${SSHUsername(provider)}@${detail?.public_ipv4}`}\n                  </ClipboardCopy>\n                ) : (\n                  'N/A'\n                )}\n              </Td>\n            </Tr>\n          ))}\n        </Tbody>\n      </TableComposable>\n    </Card>\n  );\n};\n\nInstancesTable.propTypes = {\n  provider: PropTypes.string.isRequired,\n  region: PropTypes.string.isRequired,\n  reservationID: PropTypes.number.isRequired,\n};\n\nexport default InstancesTable;\n","import { AWS_PROVIDER, AZURE_PROVIDER, GCP_PROVIDER } from '../../constants';\n\nexport const SSHUsername = (provider) => {\n  switch (provider) {\n    case AWS_PROVIDER:\n      return 'ec2-user';\n    case AZURE_PROVIDER:\n      return 'azureuser';\n    case GCP_PROVIDER:\n      return 'gcp-user';\n    default:\n      '';\n  }\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  ProgressStepper,\n  ProgressStep,\n  EmptyState,\n  EmptyStateIcon,\n  EmptyStateBody,\n  EmptyStateSecondaryActions,\n  Title,\n  Text,\n  Popover,\n  Button,\n  WizardContextConsumer,\n} from '@patternfly/react-core';\nimport { CogsIcon, PendingIcon, CheckCircleIcon } from '@patternfly/react-icons';\nimport { useMutation, useQuery } from '@tanstack/react-query';\n\nimport { useWizardContext } from '../../../Common/WizardContext';\nimport { createNewPublicKey, createReservation, fetchReservation } from '../../../../API';\n\nimport useInterval from '../../../Common/Hooks/useInterval';\nimport { POLLING_BACKOFF_INTERVAL, PROVIDERS_INSTANCES_SUPPORT, SSH_STEP } from './constants';\nimport { instanceType, mapCurrentVariant, region, stepsByProvider } from './helpers';\nimport InstancesTable from '../../../InstancesTable';\nimport { humanizeProvider } from '../../../Common/helpers';\n\nconst ReservationProgress = ({ setLaunchSuccess }) => {\n  const [steps, setSteps] = React.useState([]);\n  const [currentError, setCurrentError] = React.useState();\n  const [currentWarning, setCurrentWarning] = React.useState();\n  const [currentStep, setCurrentStep] = React.useState(0);\n  const [currentJobStep, setCurrentJobStep] = React.useState(0);\n  const [reservationID, setReservationID] = React.useState();\n\n  const [\n    {\n      chosenSource,\n      chosenInstanceType,\n      chosenNumOfInstances,\n      chosenRegion,\n      sshPublicName,\n      sshPublicKey,\n      chosenSshKeyId,\n      uploadedKey,\n      chosenImageID,\n      provider,\n      chosenTemplate,\n    },\n  ] = useWizardContext();\n  const { nextInterval, currentInterval } = useInterval(POLLING_BACKOFF_INTERVAL);\n\n  const { mutate: mutateReservation, error: reservationError } = useMutation(createReservation(provider), {\n    onSuccess: (res) => {\n      stepUp();\n      setReservationID(res?.data?.reservation_id);\n    },\n  });\n\n  const reservationParams = () => ({\n    source_id: chosenSource,\n    [instanceType(provider)]: chosenInstanceType,\n    amount: chosenNumOfInstances,\n    image_id: chosenImageID,\n    [region(provider)]: chosenRegion,\n    pubkey_id: chosenSshKeyId,\n    ...(chosenTemplate && { launch_template_id: chosenTemplate }),\n  });\n\n  React.useEffect(() => {\n    if (createReservation) {\n      if (uploadedKey) {\n        setSteps(SSH_STEP.concat(stepsByProvider(provider)));\n        createPublicKey({ name: sshPublicName, body: sshPublicKey });\n      } else {\n        setSteps(stepsByProvider(provider));\n        mutateReservation(reservationParams());\n      }\n    }\n  }, [createReservation, setSteps, uploadedKey]);\n\n  const { mutate: createPublicKey, error: pubkeyError } = useMutation(createNewPublicKey, {\n    onSuccess: (resp) => {\n      stepUp();\n      mutateReservation({\n        ...reservationParams(),\n        pubkey_id: resp?.data?.id,\n      });\n    },\n  });\n\n  // polling request\n  const { data: polledReservation } = useQuery(['reservation', reservationID], () => fetchReservation(reservationID), {\n    enabled: !!reservationID && !currentError,\n    staleTime: 0, // disable cache\n    refetchInterval: (data) => {\n      if (data?.success || !!data?.error) return false;\n      return currentInterval;\n    },\n    onSuccess: (data) => {\n      if (currentJobStep < data.step && !data.error) {\n        setCurrentJobStep((prev) => prev + 1);\n        stepUp();\n      }\n      !data?.success && nextInterval();\n      data.success && setLaunchSuccess();\n    },\n    onError: () => {\n      setCurrentWarning(\n        `The reservation was created but we can't get the launch progress status.\n           Check your ${humanizeProvider(provider)} console later. If this issue persists, please contact support.`\n      );\n    },\n    refetchIntervalInBackground: true,\n  });\n\n  // errors and warnings handling\n  React.useEffect(() => {\n    if (currentInterval === false) {\n      setCurrentWarning(\n        `The launch progress is slower than expected, but we are still on it.\n         It is safe to close this window and check your ${humanizeProvider(provider)} console later`\n      );\n    }\n    if (reservationError || pubkeyError || polledReservation?.error) {\n      const createReservationErrorMsg = reservationError?.response?.data?.msg;\n      const pubkeyErrorMsg = pubkeyError?.response?.data?.msg;\n\n      setCurrentError(createReservationErrorMsg || pubkeyErrorMsg || polledReservation?.error);\n    }\n  }, [reservationError, pubkeyError, polledReservation?.error, currentInterval]);\n\n  const stepUp = () => setCurrentStep((prevStep) => prevStep + 1);\n\n  return (\n    <WizardContextConsumer>\n      {({ goToStepById, onClose }) => (\n        <EmptyState variant=\"large\">\n          <EmptyStateIcon color={(polledReservation?.success && '#3E8635') || null} icon={polledReservation?.success ? CheckCircleIcon : CogsIcon} />\n          <Title headingLevel=\"h4\" size=\"lg\" ouiaId=\"launch-status\">\n            {polledReservation?.success ? 'System(s) launched successfully' : 'Launching system(s)'}\n          </Title>\n          {reservationID && (\n            <Text component=\"small\" ouiaId=\"launch-id\">\n              {`launch ID: ${reservationID}`}\n            </Text>\n          )}\n          <EmptyStateBody>\n            {!polledReservation?.success && (\n              <ProgressStepper isCenterAligned>\n                {steps.map(({ name, description }, step) => {\n                  const variant = mapCurrentVariant(step, currentStep, currentError, currentWarning);\n                  return (\n                    <ProgressStep\n                      variant={variant}\n                      id={name}\n                      key={name}\n                      icon={step > currentStep ? <PendingIcon /> : undefined}\n                      isCurrent={step === currentStep}\n                      description={description}\n                      titleId={name}\n                      aria-label={`step ${name} ${variant}`}\n                      popoverRender={\n                        (currentError || currentWarning) && step === currentStep\n                          ? (stepRef) => (\n                              <Popover\n                                aria-label={`${name} error message`}\n                                headerContent={currentError ? 'Error' : 'Warning'}\n                                bodyContent={currentError || currentWarning}\n                                reference={stepRef}\n                                position=\"right\"\n                              />\n                            )\n                          : undefined\n                      }\n                    >\n                      {name}\n                    </ProgressStep>\n                  );\n                })}\n              </ProgressStepper>\n            )}\n          </EmptyStateBody>\n          {polledReservation?.success && PROVIDERS_INSTANCES_SUPPORT.includes(provider) && (\n            <InstancesTable provider={provider} region={chosenRegion} reservationID={reservationID} />\n          )}\n          {currentError && (\n            <Button id=\"wizard-provisioning-failed-edit-button\" onClick={() => goToStepById(1)} variant=\"primary\">\n              Edit\n            </Button>\n          )}\n          <EmptyStateSecondaryActions>\n            <Button variant=\"link\" isDisabled={!currentError && currentStep < 2} onClick={onClose}>\n              Close\n            </Button>\n          </EmptyStateSecondaryActions>\n        </EmptyState>\n      )}\n    </WizardContextConsumer>\n  );\n};\n\nReservationProgress.propTypes = {\n  setLaunchSuccess: PropTypes.func.isRequired,\n};\n\nexport default ReservationProgress;\n","import React from 'react';\nimport SourceMissing from './SourceMissing';\nimport AccountCustomizations from './AccountCustomizations';\nimport ReviewDetails from './ReviewDetails';\nimport PublicKeys from './Pubkeys';\nimport FinishStep from './ReservationProgress';\nimport { humanizeProvider } from '../../Common/helpers';\n\nconst stringIds = {\n  1: 'account',\n  4: 'sshkey',\n  5: 'review',\n};\n\nexport const stepIdToString = (id) => stringIds[id];\n\nconst missingSource = ({ image, isLoading, sourcesError }) => [\n  {\n    name: 'Define source',\n    id: 1,\n    component: <SourceMissing image={image} isLoading={isLoading} error={sourcesError} />,\n    isFinishedStep: true,\n  },\n];\n\nconst wizardSteps = ({ stepIdReached, image, stepValidation, setStepValidation, setLaunchSuccess }) => [\n  {\n    name: 'Account and customization',\n    steps: [\n      {\n        name: humanizeProvider(image.provider),\n        id: 1,\n        enableNext: stepValidation.awsStep,\n        component: (\n          <AccountCustomizations image={image} setStepValidated={(validated) => setStepValidation((prev) => ({ ...prev, awsStep: validated }))} />\n        ),\n        canJumpTo: stepIdReached >= 1,\n      },\n    ],\n  },\n  {\n    name: 'SSH key authentication',\n    id: 4,\n    component: <PublicKeys setStepValidated={(validated) => setStepValidation((prev) => ({ ...prev, sshStep: validated }))} />,\n    canJumpTo: stepIdReached >= 4,\n    enableNext: stepValidation.sshStep,\n  },\n  {\n    name: 'Review details',\n    id: 5,\n    component: <ReviewDetails imageName={image.name} />,\n    canJumpTo: stepIdReached >= 5,\n    nextButtonText: 'Launch',\n  },\n  {\n    name: 'Finish Progress',\n    id: 6,\n    component: <FinishStep setLaunchSuccess={() => setLaunchSuccess(true)} imageID={image.id} />,\n    isFinishedStep: true,\n  },\n];\n\nconst steps = (props) => (props.availableSources.length > 0 ? wizardSteps(props) : missingSource(props));\n\nexport default steps;\n","import * as React from 'react';\nimport { Button, ButtonVariant, WizardFooter, WizardContextConsumer } from '@patternfly/react-core';\nimport styles from '@patternfly/react-styles/css/components/Wizard/wizard';\n\nimport { stepIdToString } from './steps';\n\nconst CustomFooter = () => (\n  <WizardFooter>\n    <WizardContextConsumer>\n      {({ activeStep, onNext, onBack, onClose }) => {\n        const isValid = activeStep.enableNext !== undefined ? activeStep.enableNext : true;\n\n        return (\n          <>\n            <Button\n              id={`wizard-provisioning-${stepIdToString(activeStep.id)}-next-button`}\n              variant={ButtonVariant.primary}\n              type=\"submit\"\n              onClick={onNext}\n              isDisabled={!isValid}\n            >\n              {activeStep.nextButtonText || 'Next'}\n            </Button>\n            {!activeStep.hideBackButton && (\n              <Button\n                id={`wizard-provisioning-${stepIdToString(activeStep.id)}-back-button`}\n                variant={ButtonVariant.secondary}\n                onClick={onBack}\n                isDisabled={activeStep.id == 1}\n              >\n                Back\n              </Button>\n            )}\n            {!activeStep.hideCancelButton && (\n              <div className={styles.wizardFooterCancel}>\n                <Button variant={ButtonVariant.link} onClick={onClose}>\n                  Cancel\n                </Button>\n              </div>\n            )}\n          </>\n        );\n      }}\n    </WizardContextConsumer>\n  </WizardFooter>\n);\n\nexport default CustomFooter;\n","import PropTypes from 'prop-types';\nimport { Wizard } from '@patternfly/react-core';\nimport React from 'react';\n\nimport APIProvider from '../Common/Query';\nimport { WizardProvider } from '../Common/WizardContext';\nimport { useSourcesForImage } from '../Common/Hooks/sources';\nimport ConfirmModal from '../ConfirmModal';\nimport CustomFooter from './CustomFooter';\nimport { imageProps } from './helpers';\nimport getSteps from './steps';\nimport './steps/Pubkeys/pubkeys.scss';\nimport { v4 as uuidv4 } from 'uuid';\nimport axios from 'axios';\nimport { useEffectOnce } from '../Common/Hooks/useEffectOnce';\n\nconst DEFAULT_STEP_VALIDATION = {\n  sshStep: false,\n  awsStep: false,\n};\n\nconst ProvisioningWizard = ({ onClose, image, ...props }) => {\n  const [stepIdReached, setStepIdReached] = React.useState(1);\n  const [stepValidation, setStepValidation] = React.useState(DEFAULT_STEP_VALIDATION);\n  const [isConfirming, setConfirming] = React.useState(false);\n  const [successfulLaunch, setLaunchSuccess] = React.useState();\n\n  const { isLoading, error: sourcesError, sources: availableSources } = useSourcesForImage(image, { refetch: stepIdReached <= 2 });\n\n  useEffectOnce(() => {\n    axios.defaults.headers.common['X-Correlation-Id'] = uuidv4();\n    return () => delete axios.defaults.headers.common['X-Correlation-Id'];\n  });\n\n  const onCustomClose = () => {\n    setConfirming(false);\n    setStepIdReached(1);\n    setStepValidation(DEFAULT_STEP_VALIDATION);\n    onClose();\n  };\n\n  const onWizardClose = () => {\n    if (stepIdReached >= 5 && !successfulLaunch) {\n      setConfirming(true);\n    } else {\n      onCustomClose();\n    }\n  };\n\n  const steps = getSteps({\n    sourcesError,\n    isLoading,\n    availableSources,\n    stepIdReached,\n    image,\n    stepValidation,\n    setStepValidation,\n    setLaunchSuccess,\n  });\n\n  const onNext = ({ id, name }, { prevId, prevName }) => {\n    console.debug(`current id: ${id}, current name: ${name}, previous id: ${prevId}, previous name: ${prevName}`);\n    setStepIdReached((prevID) => (prevID < id ? id : prevID));\n  };\n\n  return (\n    <>\n      <Wizard\n        {...props}\n        title=\"Launch\"\n        description={`Launch image ${image.name}`}\n        steps={steps}\n        onClose={onWizardClose}\n        onNext={onNext}\n        className={'provisioning'}\n        footer={<CustomFooter />}\n      />\n      <ConfirmModal isOpen={isConfirming} onConfirm={onCustomClose} onCancel={() => setConfirming(false)} />\n    </>\n  );\n};\n\nconst ProvisioningWizardWrapper = (props) => (\n  <WizardProvider>\n    <APIProvider>\n      <ProvisioningWizard {...props} />\n    </APIProvider>\n  </WizardProvider>\n);\n\nProvisioningWizard.propTypes = {\n  /*\n  TODO(podvody): Once patternfly/patternfly-react#8972 is fixed we should reintroduce this prop\n  and also update src/Components/ImagesTable/ImageLink.js in ImageBuilder\n  isOpen: PropTypes.bool.isRequired\n  */\n  onClose: PropTypes.func,\n  image: imageProps,\n};\n\nProvisioningWizardWrapper.propTypes = ProvisioningWizard.propTypes;\n\nexport default ProvisioningWizardWrapper;\n","import { useEffect, useRef, useState } from 'react';\n\nexport const useEffectOnce = (effect) => {\n  const destroyFunc = useRef();\n  const effectCalled = useRef(false);\n  const renderAfterCalled = useRef(false);\n  const [, setVal] = useState(0);\n\n  if (effectCalled.current) {\n    renderAfterCalled.current = true;\n  }\n\n  useEffect(() => {\n    if (!effectCalled.current) {\n      destroyFunc.current = effect();\n      effectCalled.current = true;\n    }\n\n    setVal((val) => val + 1);\n\n    return () => {\n      if (!renderAfterCalled.current) {\n        return;\n      }\n      if (destroyFunc.current) {\n        destroyFunc.current();\n      }\n    };\n  }, []);\n};\n"],"names":["queryClient","QueryClient","defaultOptions","queries","staleTime","_ref","children","React","QueryClientProvider","client","chosenSource","undefined","chosenNumOfInstances","chosenInstanceType","uploadedKey","chosenRegion","chosenImageID","sshPublicName","sshPublicKey","chosenSshKeyId","chosenSshKeyName","provider","_createContainer","createContainer","values","useState","_objectSpread","initialWizardContext","WizardProvider","Provider","useWizardContext","useTracked","PUBKEYS_QUERY_KEY","IMAGE_REGIONS_KEY","TEMPLATES_KEY","AWS_PROVIDER","AZURE_PROVIDER","GCP_PROVIDER","MULTIPLE_REGION_SUPPORT","provisioningUrl","path","concat","imageBuilderURL","typesUrlForProvider","region","fetchSourcesList","_asyncToGenerator","_regeneratorRuntime","_callee","_yield$axios$get","data","_context","prev","next","axios","sent","abrupt","stop","_x","apply","arguments","fetchSourceUploadInfo","_ref2","_callee2","sourceID","_yield$axios$get2","_context2","_x2","fetchPubkeysList","_ref3","_callee3","_yield$axios$get3","_context3","fetchInstanceTypesList","_ref4","_callee4","url","_yield$axios$get4","_context4","_x3","_x4","createReservation","_ref5","_callee5","params","_context5","_x5","createNewPublicKey","_ref6","_callee6","_context6","_x6","fetchReservation","_ref7","_callee7","id","_yield$axios$get5","_context7","_x7","fetchImageClones","_ref8","_callee8","composeID","_yield$axios$get6","_context8","_x8","fetchImageCloneStatus","_ref9","_callee9","cloneID","_yield$axios$get7","_context9","_x9","fetchReservationByProvider","_ref10","_callee10","reservationID","_yield$axios$get8","_context10","_x10","_x11","fetchLaunchTemplates","_ref11","_callee11","_yield$axios$get9","_context11","_x12","_x13","useSourcesData","_ref$refetch","length","refetch","_useQuery","useQuery","enabled","refetchInterval","error","isLoading","isInitialLoading","sources","useSourcesForImage","image","_ref3$refetch","_ref3$onSuccess","onSuccess","_useSourcesUploadInfo","_useSourcesData","isLoadingSources","sourcesError","map","source","queryKey","queryFn","retry","uploadInfos","useQueries","some","info","infos","forEach","i","isSuccess","push","useSourcesUploadInfos","filteredSources","isTesting","filter","_image$sourceIDs","_image$accountIDs","sourceIDs","includes","accountIDs","aws","account_id","_image$uploadOptions","_info$azure","_image$uploadOptions2","uploadOptions","source_id","azure","subscription_id","_image$sourceIDs2","providerSourceFilter","ConfirmModal","isOpen","onConfirm","onCancel","Modal","ouiaId","variant","ModalVariant","small","title","onClose","actions","Button","key","onClick","titleIconVariant","propTypes","PropTypes","isRequired","defaultRegionByProvider","Error","humanizeProvider","RegionsSelect","currentRegion","onChange","_React$useState","_React$useState2","_slicedToArray","setIsOpen","select","images","_images$data","request","isError","clonedImages","clonedImage","clonesStatusQueries","isCloneStatusLoading","clone","every","cloneQuery","clonesStatus","query","status","index","options","availableImages","_","_toConsumableArray","Alert","isInline","Select","isDisabled","placeholderText","Spinner","isSVG","size","label","maxHeight","selections","onToggle","onSelect","selection","_images$find","find","imageID","imageAttrs","_objectWithoutProperties","_excluded","SelectOption","value","imageProps","name","architecture","GCPConsoleLaunch","StackItem","isFilled","ClipboardCopy","className","hoverTip","clickTip","isReadOnly","uploadStatus","image_name","project_id","DirectProviderLink","text","currentImage","setImage","ami","tenant_id","resource_group","Stack","component","icon","ExternalLinkAltIcon","iconPosition","target","href","Bullseye","console","log","missingSourceDescription","LoadingState","EmptyState","EmptyStateIcon","Title","headingLevel","SourceMissing","isBeta","useChrome","ExclamationCircleIcon","PlusCircleIcon","EmptyStateBody","message","EmptyStateSecondaryActions","LoadingWrapper","props","SourcesSelect","setValidation","_useWizardContext","_useWizardContext2","setWizardContext","_React$useState3","_React$useState4","selected","setSelected","selectObject","toString","compareTo","other","_useSourcesForImage","prevState","warn","openState","event","isPlaceholder","InstanceCounter","_instanceTypes$find","_useWizardContext2$","instanceTypes","VCPUAmount","instanceType","vcpus","useEffect","setWarningValidation","newValue","isWarning","NumberInput","max","min","validated","onMinus","input","Math","floor","Number","onPlus","inputName","inputAriaLabel","minusBtnAriaLabel","plusBtnAriaLabel","jsonata","require","OPERATORS","parseQuery","replace","operator","evaluateQuery","q","d","expression","result","types","evaluate","t0","InstanceTypesSelect","numOptions","setNumOptions","_React$useState5","_React$useState6","filteredTypes","setFilteredTypes","_React$useState7","_React$useState8","isTypeSupported","setTypeSupported","_React$useState9","_React$useState10","searchValue","setSearchValue","type","onError","TextInput","readOnly","queryFilter","search","_yield$evaluateQuery","queryError","Array","isArray","Object","toggleAriaLabel","_extends","typeAheadAriaLabel","supported","onFilter","isInputValuePersisted","onTypeaheadInputChanged","inputValue","_throttle","throttledFilter","loadingVariant","limit","_types","_types2","slice","description","cores","parseFloat","memory_mib","toFixed","storage_gb","selectItemsMapper","_templates$find2","chosenTemplate","templates","chosenTemplateName","template","direction","selectedTemplate","_templates$find","clearSelectionsAriaLabel","onClear","HelperText","HelperTextItem","AccountCustomizationsAWS","setStepValidated","amount","validations","errorExists","valid","Form","FormGroup","helperTextInvalid","fieldId","validation","prevValidations","labelIcon","Popover","bodyContent","e","preventDefault","HelpIcon","noVerticalAlign","helperText","Text","rel","TemplatesSelect","AccountCustomizationsGCP","wizardContext","headerContent","AccountCustomizationsAzure","AccountCustomizations","AWS","Azure","GCP","POLLING_BACKOFF_INTERVAL","AWS_STEPS","AZURE_STEPS","GCP_STEPS","SSH_STEP","PROVIDERS_INSTANCES_SUPPORT","stepsByProvider","LaunchDescriptionList","imageName","isExpanded","setIsExpanded","templateName","regionLabel","charAt","toUpperCase","providerInstanceType","instanceTypeLabel","ExpandableSection","toggleText","isIndented","DescriptionList","isHorizontal","DescriptionListGroup","DescriptionListTerm","DescriptionListDescription","ReviewDetails","UNSUPPORTED_KEYS","_defineProperty","selectOptionObj","PubkeySelect","setSelection","isKeySupported","setIsKeySupported","_pubkeys$find","_UNSUPPORTED_KEYS$pro","keyType","pubkeys","NewSSHKeyForm","validatePublicKey","ssh","regex","RegExp","startsWith","test","setIsLoading","sshKeyBody","sshKeyName","keyName","setName","publicKey","setPublicKey","updateValidation","inputKey","isStack","onBlur","keys","FileUpload","onDataChange","allowEditingUploadedText","onTextChange","onTextAreaBlur","onReadStarted","onReadFinished","onReadFailed","onClearClick","filenamePlaceholder","NEW_KEY_OPTION","PublicKeys","isSelectDisabled","disableSelect","switchTo","optionKey","onOptionChange","currentTarget","role","Radio","isChecked","body","intervalGenerator","intervalList","_iterator","_step","interval","_createForOfIteratorHelper","s","n","done","f","finish","instanceLink","instanceID","PER_PAGE_OPTIONS","InstancesTable","perPage","page","startIdx","endIdx","paginationOptions","setPaginationOptions","reservation","instances","instancesPerPage","atLeastOneDetailNotEmpty","instance","_instance$detail","_instance$detail$publ","detail","public_dns","Card","style","position","marginLeft","marginRight","Pagination","itemCount","onSetPage","newPage","onPerPageSelect","newPerPage","prevOptions","perPageOptions","isCompact","TableComposable","Thead","Tr","Th","Tbody","instance_id","Td","dataLabel","split","humanizeInstanceID","public_ipv4","SSHUsername","ReservationProgress","setLaunchSuccess","steps","setSteps","currentError","setCurrentError","currentWarning","setCurrentWarning","currentStep","setCurrentStep","currentJobStep","setCurrentJobStep","_React$useState11","_React$useState12","setReservationID","_useInterval","list","generatorRef","savedList","currentInterval","setCurrentInterval","current","nextInterval","nextValue","useInterval","_useMutation","useMutation","res","_res$data","stepUp","reservation_id","mutateReservation","mutate","reservationError","reservationParams","_objectSpread2","launch_template_id","createPublicKey","_useMutation2","resp","_resp$data","pubkey_id","pubkeyError","polledReservation","success","step","refetchIntervalInBackground","_reservationError$res","_reservationError$res2","_pubkeyError$response","_pubkeyError$response2","createReservationErrorMsg","response","msg","pubkeyErrorMsg","prevStep","WizardContextConsumer","goToStepById","color","CheckCircleIcon","CogsIcon","ProgressStepper","isCenterAligned","mapCurrentVariant","ProgressStep","PendingIcon","isCurrent","titleId","popoverRender","stepRef","reference","stringIds","stepIdToString","WizardFooter","activeStep","onNext","onBack","isValid","enableNext","ButtonVariant","primary","nextButtonText","hideBackButton","secondary","hideCancelButton","styles","wizardFooterCancel","link","DEFAULT_STEP_VALIDATION","sshStep","awsStep","ProvisioningWizard","effect","destroyFunc","effectCalled","renderAfterCalled","_useState","setVal","stepIdReached","setStepIdReached","stepValidation","setStepValidation","isConfirming","setConfirming","successfulLaunch","availableSources","headers","common","uuidv4","useRef","val","onCustomClose","canJumpTo","FinishStep","isFinishedStep","missingSource","getSteps","Wizard","prevId","prevName","debug","prevID","footer","CustomFooter","ProvisioningWizardWrapper","APIProvider"],"sourceRoot":""}