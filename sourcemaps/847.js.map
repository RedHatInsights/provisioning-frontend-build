{"version":3,"file":"js/847.1675769174146.f6fe0e0d61b680f35291.js","mappings":"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","sources":["webpack:///./src/Components/Common/WizardContext/initialState.js","webpack:///./src/Components/Common/WizardContext/index.js","webpack:///./src/Components/Common/Query/index.js","webpack:///./src/API/queryKeys.js","webpack:///./src/API/helpers.js","webpack:///./src/API/index.js","webpack:///./src/Components/SourcesSelect/index.js","webpack:///./src/Components/InstanceCounter/index.js","webpack:///./src/Components/InstanceCounter/constants.js","webpack:///./src/Components/InstanceTypesSelect/index.js","webpack:///./src/Components/RegionsSelect/index.js","webpack:///./src/Components/ProvisioningWizard/steps/AccountCustomizations/aws.js","webpack:///./src/Components/DescriptionListAWS/index.js","webpack:///./src/Components/ExpandableAWS/index.js","webpack:///./src/Components/ProvisioningWizard/steps/ReviewDetails/index.js","webpack:///./src/Components/ProvisioningWizard/steps/Pubkeys/PubkeySelect.js","webpack:///./src/Components/ProvisioningWizard/steps/Pubkeys/NewKeyForm.js","webpack:///./src/Components/ProvisioningWizard/steps/Pubkeys/index.js","webpack:///./src/Components/Common/InstanceLink.js","webpack:///./src/Components/ProvisioningWizard/steps/ReservationProgress/ExpansionInfo.js","webpack:///./src/Components/Common/Hooks/useInterval.js","webpack:///./src/Components/ProvisioningWizard/steps/ReservationProgress/constants.js","webpack:///./src/Components/ProvisioningWizard/steps/ReservationProgress/helpers.js","webpack:///./src/Components/ProvisioningWizard/steps/ReservationProgress/index.js","webpack:///./src/Components/Common/Hooks/useMutationReservation.js","webpack:///./src/Components/ConfirmModal/index.js","webpack:///./src/Components/ProvisioningWizard/index.js","webpack:///./src/Components/ProvisioningWizard/steps/index.js"],"sourcesContent":["const initialWizardContext = {\n  chosenSource: undefined,\n  chosenNumOfInstances: 1,\n  chosenInstanceType: undefined,\n  uploadedKey: false,\n  chosenRegion: 'us-east-1',\n  chosenImageID: undefined,\n  sshPublicName: '',\n  sshPublicKey: '',\n  chosenSshKeyId: undefined,\n  chosenSshKeyName: null,\n};\n\nexport default initialWizardContext;\n","import { useState } from 'react';\nimport { createContainer } from 'react-tracked';\nimport initialWizardContext from './initialState';\n\nconst useSharedState = () => useState(initialWizardContext);\n\nexport const { Provider: WizardProvider, useTracked: useWizardContext } = createContainer(useSharedState);\n","/* eslint-disable react/prop-types */\n\nimport React from 'react';\nimport { QueryClient, QueryClientProvider } from 'react-query';\n\nconst queryClient = new QueryClient();\n\nconst APIProvider = ({ children }) => <QueryClientProvider client={queryClient}>{children}</QueryClientProvider>;\n\nexport default APIProvider;\n","export const SOURCES_QUERY_KEY = 'sources';\nexport const PUBKEYS_QUERY_KEY = 'pubkeys';\nexport const instanceTypesQueryKeys = (region) => ['instanceTypes', region];\nexport const IMAGE_REGIONS_KEY = 'image_region';\n","export const provisioningUrl = (path) => `/api/provisioning/v1/${path}`;\nexport const imageBuilderURL = (path) => `/api/image-builder/v1/${path}`;\n","import axios from 'axios';\nimport { imageBuilderURL, provisioningUrl } from './helpers';\n\nexport const fetchSourcesList = async () => {\n  const { data } = await axios.get(provisioningUrl('sources'));\n  return data;\n};\n\nexport const fetchPubkeysList = async () => {\n  const { data } = await axios.get(provisioningUrl('pubkeys'));\n  return data;\n};\n\nexport const fetchInstanceTypesList = async (region) => {\n  const { data } = await axios.get(provisioningUrl(`instance_types/aws?region=${region}`));\n  return data;\n};\n\nexport const createAWSReservation = async (params) => {\n  return axios.post(provisioningUrl('reservations/aws'), params);\n};\n\nexport const createNewPublicKey = async (params) => {\n  return axios.post(provisioningUrl('pubkeys'), params);\n};\n\nexport const fetchReservation = async (id) => {\n  const { data } = await axios.get(provisioningUrl(`reservations/${id}`));\n  return data;\n};\n\nexport const fetchImageClones = async (composeID) => {\n  const { data } = await axios.get(imageBuilderURL(`composes/${composeID}/clones`));\n  return data;\n};\n\nexport const fetchReservationByProvider = async (reservationID, provider) => {\n  const { data } = await axios.get(provisioningUrl(`reservations/${provider}/${reservationID}`));\n  return data;\n};\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Alert, Select, SelectOption, Spinner } from '@patternfly/react-core';\nimport { useQuery } from 'react-query';\n\nimport { SOURCES_QUERY_KEY } from '../../API/queryKeys';\nimport { fetchSourcesList } from '../../API';\nimport { useWizardContext } from '../Common/WizardContext';\n\nconst SourcesSelect = ({ setValidation }) => {\n  const [wizardContext, setWizardContext] = useWizardContext();\n  const [isOpen, setIsOpen] = React.useState(false);\n  const [selected, setSelected] = React.useState(null);\n  const selectObject = (id, name) => ({\n    id,\n    toString: () => name,\n    compareTo: (other) => other.id === id,\n  });\n  const {\n    error,\n    isLoading,\n    data: sources,\n  } = useQuery(SOURCES_QUERY_KEY, fetchSourcesList, {\n    onSuccess: (data) => {\n      const id = wizardContext.chosenSource;\n\n      if (!id) return;\n      setSelected(selectObject(id, data.find((source) => source.id === id).name));\n    },\n  });\n\n  const onSelect = (event, selection, isPlaceholder) => {\n    if (isPlaceholder) {\n      setSelected(null);\n      setWizardContext((prevState) => ({ ...prevState, chosenSource: null }));\n      setValidation('error');\n    } else {\n      setSelected(selection);\n      setWizardContext((prevState) => ({\n        ...prevState,\n        chosenSource: selection.id,\n      }));\n      setValidation('success');\n    }\n    setIsOpen(false);\n  };\n\n  const selectItemsMapper = (sourcesData) =>\n    sourcesData.map(({ name, id }) => <SelectOption aria-label=\"Source account\" key={id} value={selectObject(id, name)}></SelectOption>);\n\n  if (error) {\n    console.warn('Failed to fetch sources list');\n    return (\n      <>\n        <Alert ouiaId=\"select_account_alert\" variant=\"warning\" isInline title=\"There are problems fetching accounts\" />\n        <Select ouiaId=\"select_account_empty\" isDisabled placeholderText=\"No accounts found\" aria-label=\"Select account\" />\n      </>\n    );\n  }\n\n  if (isLoading) {\n    return <Spinner isSVG size=\"sm\" aria-label=\"Loading accounts\" />;\n  }\n\n  return (\n    <Select\n      ouiaId=\"select_account\"\n      isOpen={isOpen}\n      onToggle={(openState) => setIsOpen(openState)}\n      selections={selected}\n      onSelect={onSelect}\n      placeholderText=\"Select account\"\n      aria-label=\"Select account\"\n    >\n      {selectItemsMapper(sources)}\n    </Select>\n  );\n};\n\nSourcesSelect.propTypes = {\n  setValidation: PropTypes.func.isRequired,\n};\n\nexport default SourcesSelect;\n","import React from 'react';\nimport { NumberInput } from '@patternfly/react-core';\nimport { useWizardContext } from '../Common/WizardContext';\nimport { MAX_INSTANCES, MIN_INSTANCES } from './constants';\n\nconst InstanceCounter = () => {\n  const [{ chosenNumOfInstances }, setWizardContext] = useWizardContext();\n\n  const onMinus = () => {\n    const newValue = chosenNumOfInstances - 1;\n    setWizardContext((prevState) => ({\n      ...prevState,\n      chosenNumOfInstances: newValue,\n    }));\n  };\n\n  const onChange = (event) => {\n    let input = Math.floor(Number(event.target.value));\n    if (input > MAX_INSTANCES) {\n      input = MAX_INSTANCES;\n    }\n    if (input < MIN_INSTANCES) {\n      input = MIN_INSTANCES;\n    }\n    setWizardContext((prevState) => ({\n      ...prevState,\n      chosenNumOfInstances: input,\n    }));\n  };\n\n  const onPlus = () => {\n    const newValue = chosenNumOfInstances + 1;\n    setWizardContext((prevState) => ({\n      ...prevState,\n      chosenNumOfInstances: newValue,\n    }));\n  };\n\n  return (\n    <NumberInput\n      max={MAX_INSTANCES}\n      min={MIN_INSTANCES}\n      value={chosenNumOfInstances}\n      onMinus={onMinus}\n      onChange={onChange}\n      onPlus={onPlus}\n      inputName=\"instances\"\n      inputAriaLabel=\"number of instances\"\n      minusBtnAriaLabel=\"instances-minus\"\n      plusBtnAriaLabel=\"instances-plus\"\n    />\n  );\n};\nexport default InstanceCounter;\n","export const MAX_INSTANCES = 45;\nexport const MIN_INSTANCES = 1;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Alert, Spinner, Select, SelectOption, TextInput } from '@patternfly/react-core';\nimport { useQuery } from 'react-query';\nimport { instanceTypesQueryKeys } from '../../API/queryKeys';\nimport { fetchInstanceTypesList } from '../../API';\nimport { useWizardContext } from '../Common/WizardContext';\n\nconst OPTIONS_PER_SCREEN = 5;\nconst sanitizeSearchValue = (str) => str.replace(/\\\\+$/, '');\n\nconst InstanceTypesSelect = ({ setValidation, architecture }) => {\n  const [wizardContext, setWizardContext] = useWizardContext();\n  const [isOpen, setIsOpen] = React.useState(false);\n  const [numOptions, setNumOptions] = React.useState(OPTIONS_PER_SCREEN);\n  const [filteredTypes, setFilteredTypes] = React.useState(null);\n  const [prevSearch, setPrevSearch] = React.useState('');\n  const {\n    isLoading,\n    error,\n    data: instanceTypes,\n  } = useQuery(instanceTypesQueryKeys(wizardContext.chosenRegion), () => fetchInstanceTypesList(wizardContext.chosenRegion), {\n    select: (types) => types.filter((type) => type.architecture === architecture),\n  });\n\n  if (!wizardContext.chosenSource || wizardContext.chosenSource === '') {\n    return (\n      <>\n        <TextInput\n          ouiaId=\"instance_type_readonly\"\n          className=\"pf-c-form-control\"\n          readOnly\n          type=\"text\"\n          value=\"Select account to load instances\"\n          id=\"input-readonly\"\n          aria-label=\"Readonly input example\"\n        />\n      </>\n    );\n  }\n\n  const onSelect = (event, selection, isPlaceholder) => {\n    if (isPlaceholder) {\n      clearSelection();\n    } else {\n      setWizardContext((prevState) => ({\n        ...prevState,\n        chosenInstanceType: selection,\n      }));\n      setValidation('success');\n      setIsOpen(false);\n    }\n  };\n\n  const clearSelection = () => {\n    setValidation('error');\n    setWizardContext((prevState) => ({\n      ...prevState,\n      chosenInstanceType: null,\n    }));\n    setIsOpen(false);\n  };\n\n  const onFilter = (_e, inputValue) => {\n    const search = sanitizeSearchValue(inputValue);\n    if (prevSearch !== search) {\n      setNumOptions(OPTIONS_PER_SCREEN);\n      setPrevSearch(search);\n      setFilteredTypes(instanceTypes.filter((i) => i.name.includes(search)));\n    }\n  };\n\n  const selectItemsMapper = (types, limit) => {\n    if (limit < types.length) types = types.slice(0, limit);\n    return types.map((instanceType, index) => (\n      <SelectOption\n        aria-label={'Instance Type item'}\n        key={index}\n        description={`${instanceType.cores} cores |\n          ${instanceType.vcpus} vCPU |\n          ${(parseFloat(instanceType.memory_mib) / 1024).toFixed(1)} GiB memory |\n          ${instanceType.storage_gb > 0 ? instanceType.storage_gb + ' GB storage | ' : 'EBS only | '}\n          ${instanceType.architecture}`}\n        value={instanceType.name}\n      />\n    ));\n  };\n\n  const onToggle = (isOpen) => {\n    setIsOpen(isOpen);\n  };\n\n  if (error) {\n    console.warn('Failed to fetch instance types list');\n    return (\n      <>\n        <Alert ouiaId=\"instance_type_alert\" variant=\"warning\" isInline title=\"There are problems fetching instance types\" />\n        <Select ouiaId=\"instance_type_empty\" isDisabled placeholderText=\"No instance types found\" aria-label=\"Select instance type\" />\n      </>\n    );\n  }\n  if (isLoading) {\n    return <Spinner isSVG size=\"sm\" aria-label=\"Contents of the small example\" />;\n  }\n\n  const types = filteredTypes || instanceTypes;\n\n  return (\n    <Select\n      ouiaId=\"select_instance_type\"\n      variant=\"typeahead\"\n      aria-label=\"Select instance type\"\n      placeholderText=\"Select instance type\"\n      maxHeight=\"450px\"\n      isOpen={isOpen}\n      selections={wizardContext.chosenInstanceType}\n      onToggle={onToggle}\n      onSelect={onSelect}\n      onFilter={onFilter}\n      {...(numOptions < types.length && {\n        loadingVariant: {\n          text: `View more (${types.length - numOptions})`,\n          onClick: () => setNumOptions(numOptions + OPTIONS_PER_SCREEN),\n        },\n      })}\n    >\n      {selectItemsMapper(types, numOptions)}\n    </Select>\n  );\n};\n\nInstanceTypesSelect.propTypes = {\n  setValidation: PropTypes.func.isRequired,\n  architecture: PropTypes.string.isRequired,\n};\n\nexport default InstanceTypesSelect;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Alert, Select, SelectOption, Spinner } from '@patternfly/react-core';\nimport { useQuery } from 'react-query';\n\nimport { useWizardContext } from '../Common/WizardContext';\nimport { IMAGE_REGIONS_KEY } from '../../API/queryKeys';\nimport { fetchImageClones } from '../../API';\n\nconst DEFAULT_REGION = 'us-east-1';\n\nconst RegionsSelect = ({ composeID }) => {\n  const [wizardContext, setWizardContext] = useWizardContext();\n  const [isOpen, setIsOpen] = React.useState(false);\n  const {\n    isError,\n    isLoading,\n    data: clonedImages,\n  } = useQuery([IMAGE_REGIONS_KEY, composeID], () => fetchImageClones(composeID), {\n    select: (images) => images.data?.map((image) => ({ id: image.id, region: image.request.region })),\n  });\n  const parentImage = [{ region: DEFAULT_REGION, id: composeID }];\n  const images = clonedImages ? parentImage.concat(clonedImages) : parentImage;\n\n  const onSelect = (_, selection) => {\n    setWizardContext((prevState) => ({\n      ...prevState,\n      chosenRegion: selection,\n      chosenImageID: images.find((image) => image.region === selection)?.id,\n    }));\n    setIsOpen(false);\n  };\n\n  const onToggle = (isOpen) => {\n    setIsOpen(isOpen);\n  };\n\n  if (isError) {\n    return (\n      <>\n        <Alert ouiaId=\"regions_alert\" variant=\"warning\" isInline title=\"There are problems fetching image's regions\" />\n        <Select ouiaId=\"regions_empty\" isDisabled placeholderText=\"No regions have found\" />\n      </>\n    );\n  }\n\n  if (isLoading) {\n    return <Spinner isSVG size=\"sm\" aria-label=\"loading available regions\" />;\n  }\n\n  return (\n    <Select\n      ouiaId=\"select_regions\"\n      variant=\"typeahead\"\n      aria-label=\"Select region\"\n      label=\"Select region\"\n      maxHeight=\"450px\"\n      isOpen={isOpen}\n      selections={wizardContext.chosenRegion}\n      onToggle={onToggle}\n      onSelect={onSelect}\n    >\n      {images.map(({ id, region }) => (\n        <SelectOption aria-label=\"Region item\" key={id} value={region} />\n      ))}\n    </Select>\n  );\n};\n\nRegionsSelect.propTypes = {\n  composeID: PropTypes.string.isRequired,\n};\n\nexport default RegionsSelect;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Form, FormGroup, Popover, Title, Text, Button } from '@patternfly/react-core';\nimport HelpIcon from '@patternfly/react-icons/dist/esm/icons/help-icon';\nimport SourcesSelect from '../../../SourcesSelect';\nimport InstanceCounter from '../../../InstanceCounter';\nimport InstanceTypesSelect from '../../../InstanceTypesSelect';\nimport RegionsSelect from '../../../RegionsSelect';\nimport { useWizardContext } from '../../../Common/WizardContext';\n\nconst AccountCustomizationsAWS = ({ setStepValidated, architecture, composeID }) => {\n  const [{ chosenSource, chosenInstanceType }] = useWizardContext();\n  const [validations, setValidation] = React.useState({\n    sources: chosenSource ? 'success' : 'default',\n    types: chosenInstanceType ? 'success' : 'default',\n  });\n\n  React.useEffect(() => {\n    // This effect checks if the entire step is validated\n    const errorExists = Object.values(validations).some((valid) => valid !== 'success');\n    setStepValidated(!errorExists);\n  }, [validations]);\n\n  return (\n    <Form>\n      <Title ouiaId=\"account_custom_title\" headingLevel=\"h1\" size=\"xl\">\n        Account and customizations | AWS\n      </Title>\n      <Text ouiaId=\"account_custom_description\">\n        Configure instances that will run on your AWS. All the instances will launch with the same configuration.\n      </Text>\n      <FormGroup\n        label=\"Select account\"\n        validated={validations.sources}\n        helperTextInvalid=\"Please pick a value\"\n        isRequired\n        fieldId=\"aws-select-source\"\n      >\n        <SourcesSelect\n          setValidation={(validation) =>\n            setValidation((prevValidations) => ({\n              ...prevValidations,\n              sources: validation,\n            }))\n          }\n        />\n      </FormGroup>\n      <FormGroup\n        label=\"Select region\"\n        isRequired\n        fieldId=\"aws-select-region\"\n        labelIcon={\n          <Popover bodyContent=\"Select available geographical region\">\n            <Button\n              ouiaId=\"region_help\"\n              type=\"button\"\n              aria-label=\"More info for regions field\"\n              onClick={(e) => e.preventDefault()}\n              aria-describedby=\"aws-select-region\"\n              className=\"pf-c-form__group-label-help\"\n              variant=\"plain\"\n            >\n              <HelpIcon noVerticalAlign />\n            </Button>\n          </Popover>\n        }\n      >\n        <RegionsSelect composeID={composeID} />\n      </FormGroup>\n      <FormGroup\n        label=\"Select instance type\"\n        isRequired\n        helperTextInvalid=\"Please pick a value\"\n        fieldId=\"aws-select-instance-types\"\n        labelIcon={\n          <Popover\n            bodyContent=\"Select AWS instance type based on your computing,\n           memory, networking, or storage needs\"\n          >\n            <Button\n              ouiaId=\"instance_type_help\"\n              type=\"button\"\n              aria-label=\"More info for instance types field\"\n              onClick={(e) => e.preventDefault()}\n              aria-describedby=\"aws-select-instance-types\"\n              className=\"pf-c-form__group-label-help\"\n              variant=\"plain\"\n            >\n              <HelpIcon noVerticalAlign />\n            </Button>\n          </Popover>\n        }\n      >\n        <InstanceTypesSelect\n          architecture={architecture}\n          setValidation={(validation) =>\n            setValidation((prevValidations) => ({\n              ...prevValidations,\n              types: validation,\n            }))\n          }\n        />\n      </FormGroup>\n      <FormGroup\n        label=\"Count\"\n        isRequired\n        fieldId=\"aws-select-instance-counter\"\n        labelIcon={\n          <Popover bodyContent=\"Specify the number of AWS instances to be launched\">\n            <Button\n              ouiaId=\"instance_count_help\"\n              type=\"button\"\n              aria-label=\"More info for instance counter field\"\n              onClick={(e) => e.preventDefault()}\n              aria-describedby=\"aws-select-instance-counter\"\n              className=\"pf-c-form__group-label-help\"\n              variant=\"plain\"\n            >\n              <HelpIcon noVerticalAlign />\n            </Button>\n          </Popover>\n        }\n      >\n        <InstanceCounter />\n      </FormGroup>\n    </Form>\n  );\n};\n\nAccountCustomizationsAWS.propTypes = {\n  setStepValidated: PropTypes.func.isRequired,\n  architecture: PropTypes.string.isRequired,\n  composeID: PropTypes.string.isRequired,\n};\n\nexport default AccountCustomizationsAWS;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { DescriptionList, DescriptionListTerm, DescriptionListGroup, DescriptionListDescription } from '@patternfly/react-core';\n\nimport { useQuery } from 'react-query';\nimport { SOURCES_QUERY_KEY } from '../../API/queryKeys';\nimport { fetchSourcesList } from '../../API';\nimport { useWizardContext } from '../Common/WizardContext';\n\nconst DescriptionListAWS = ({ imageName }) => {\n  const [wizardContext] = useWizardContext();\n  const { error, data: sources } = useQuery(SOURCES_QUERY_KEY, fetchSourcesList);\n\n  if (error) {\n    // TODO: error handling, notifications\n    console.log('Failed to fetch sources list');\n  }\n\n  const getChosenSourceName = () => sources?.find((source) => source.id === wizardContext.chosenSource).name;\n\n  return (\n    <DescriptionList isHorizontal>\n      <DescriptionListGroup>\n        <DescriptionListTerm>Image</DescriptionListTerm>\n        <DescriptionListDescription>{imageName}</DescriptionListDescription>\n      </DescriptionListGroup>\n      <DescriptionListGroup>\n        <DescriptionListTerm>Account</DescriptionListTerm>\n        <DescriptionListDescription>{getChosenSourceName()}</DescriptionListDescription>\n      </DescriptionListGroup>\n      <DescriptionListGroup>\n        <DescriptionListTerm>Region</DescriptionListTerm>\n        <DescriptionListDescription>{wizardContext.chosenRegion}</DescriptionListDescription>\n      </DescriptionListGroup>\n      <DescriptionListGroup>\n        <DescriptionListTerm>Instance type</DescriptionListTerm>\n        <DescriptionListDescription>{wizardContext.chosenInstanceType}</DescriptionListDescription>\n      </DescriptionListGroup>\n      <DescriptionListGroup>\n        <DescriptionListTerm>Count</DescriptionListTerm>\n        <DescriptionListDescription>{wizardContext.chosenNumOfInstances}</DescriptionListDescription>\n      </DescriptionListGroup>\n      <DescriptionListGroup>\n        <DescriptionListTerm>{wizardContext.uploadedKey ? 'New SSH key' : 'Existing SSH key'}</DescriptionListTerm>\n        <DescriptionListDescription>\n          {wizardContext.uploadedKey ? wizardContext.sshPublicName : wizardContext.chosenSshKeyName}\n        </DescriptionListDescription>\n      </DescriptionListGroup>\n    </DescriptionList>\n  );\n};\n\nDescriptionListAWS.propTypes = {\n  imageName: PropTypes.string.isRequired,\n};\nexport default DescriptionListAWS;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { ExpandableSection } from '@patternfly/react-core';\nimport DescriptionListAWS from '../DescriptionListAWS';\nexport const ExpandableAWS = ({ imageName }) => {\n  const [isExpanded, setIsExpanded] = React.useState(true);\n  const onToggle = (isExpanded) => {\n    setIsExpanded(isExpanded);\n  };\n  return (\n    <ExpandableSection toggleText={'AWS'} onToggle={onToggle} isExpanded={isExpanded} isIndented>\n      <DescriptionListAWS imageName={imageName} />\n    </ExpandableSection>\n  );\n};\n\nExpandableAWS.propTypes = {\n  imageName: PropTypes.string.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Title, Text } from '@patternfly/react-core';\nimport { ExpandableAWS } from '../../../ExpandableAWS';\n\nconst ReviewDetails = ({ imageName }) => {\n  return (\n    <div className=\"pf-c-form\">\n      <Title ouiaId=\"review_details_title\" headingLevel=\"h1\">\n        Review details\n      </Title>\n      <Text ouiaId=\"review_details_description\">\n        Review the information below and then click <b>Launch</b> to finish the process.\n      </Text>\n\n      <ExpandableAWS imageName={imageName} />\n    </div>\n  );\n};\n\nReviewDetails.propTypes = {\n  imageName: PropTypes.string.isRequired,\n};\nexport default ReviewDetails;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Alert, Select, SelectOption, Spinner } from '@patternfly/react-core';\nimport { useQuery } from 'react-query';\n\nimport { PUBKEYS_QUERY_KEY } from '../../../../API/queryKeys';\nimport { fetchPubkeysList } from '../../../../API';\nimport { useWizardContext } from '../../../Common/WizardContext';\n\nconst selectOptionObj = (id, name) => ({\n  id: id,\n  toString: () => name,\n  compareTo: (other) => other.id == id,\n});\n\nconst PubkeySelect = ({ setStepValidated }) => {\n  const [wizardContext, setWizardContext] = useWizardContext();\n  const [isOpen, setIsOpen] = React.useState(false);\n  const [selection, setSelection] = React.useState(\n    wizardContext.chosenSshKeyId ? selectOptionObj(wizardContext.chosenSshKeyId, wizardContext.chosenSshKeyName) : null\n  );\n\n  React.useEffect(() => {\n    setStepValidated(!!selection);\n  }, [selection]);\n\n  const { isLoading, isError, data: pubkeys } = useQuery(PUBKEYS_QUERY_KEY, fetchPubkeysList);\n\n  const onSelect = (event, value) => {\n    setWizardContext((prevState) => ({\n      ...prevState,\n      chosenSshKeyId: value.id,\n      chosenSshKeyName: value.toString(),\n    }));\n    setSelection(value);\n    setIsOpen(false);\n  };\n\n  if (isLoading) {\n    return <Spinner isSVG size=\"sm\" aria-label=\"Loading saved SSH keys\" />;\n  }\n\n  if (isError || (pubkeys && pubkeys.length < 1)) {\n    return (\n      <>\n        {isError && <Alert ouiaId=\"pubkey_alert\" variant=\"warning\" isInline title=\"There are problems fetching saved SSH keys\" />}\n        <Select ouiaId=\"pubkey_empty\" isDisabled placeholderText=\"No SSH key found\" aria-label=\"Select public key\" />\n      </>\n    );\n  }\n\n  return (\n    <Select\n      ouiaId=\"select_pubkey\"\n      onToggle={(isExpanded) => setIsOpen(isExpanded)}\n      onSelect={onSelect}\n      isOpen={isOpen}\n      selections={selection}\n      placeholderText=\"Select public key...\"\n      aria-label=\"Select public key\"\n    >\n      {pubkeys.map(({ id, name }) => (\n        <SelectOption aria-label={`Public key ${name}`} key={id} value={selectOptionObj(id, name)} />\n      ))}\n    </Select>\n  );\n};\n\nPubkeySelect.propTypes = {\n  setStepValidated: PropTypes.func.isRequired,\n};\n\nexport default PubkeySelect;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { FormGroup, TextInput, FileUpload } from '@patternfly/react-core';\nimport { useWizardContext } from '../../../Common/WizardContext';\n\n// This is a simple regex format for public ssh key\nconst PUBLIC_KEY_FORMAT = '^(ssh|ecdsa)';\n\nconst NewSSHKeyForm = ({ setStepValidated }) => {\n  const [wizardContext, setWizardContext] = useWizardContext();\n  const [isLoading, setIsLoading] = React.useState();\n  const [validations, setValidation] = React.useState({\n    sshKeyBody: 'default',\n    sshKeyName: 'default',\n  });\n  const [keyName, setName] = React.useState(wizardContext.sshPublicName);\n  const [publicKey, setPublicKey] = React.useState(wizardContext.sshPublicKey);\n\n  React.useEffect(() => {\n    // This effect checks if the entire step is validated\n    const errorExists = Object.values(validations).some((valid) => valid !== 'success');\n    setStepValidated(!errorExists);\n  }, [validations]);\n\n  const updateValidation = (inputKey, value) =>\n    setValidation((prevValidations) => ({\n      ...prevValidations,\n      [inputKey]: value,\n    }));\n\n  const handleNameChange = (value) => {\n    setWizardContext((prevState) => ({ ...prevState, sshPublicName: value }));\n    setName(value);\n  };\n  const handleNameBlur = () => {\n    if (keyName.length === 0) {\n      updateValidation('sshKeyName', 'error');\n      return;\n    }\n    updateValidation('sshKeyName', 'success');\n  };\n  const handleSSHKeyChange = (value) => {\n    if (validatePublicKey(value)) {\n      setWizardContext((prevState) => ({\n        ...prevState,\n        sshPublicKey: value,\n      }));\n      setPublicKey(value);\n      updateValidation('sshKeyBody', 'success');\n    } else {\n      updateValidation('sshKeyBody', 'error');\n    }\n  };\n  const handleSSHKeyText = (text) => {\n    setWizardContext((prevState) => ({\n      ...prevState,\n      sshPublicKey: text,\n    }));\n    setPublicKey(text);\n  };\n  const handleSSHKeyTextBlur = () => {\n    if (publicKey === '') {\n      updateValidation('sshKeyBody', 'default');\n    } else {\n      updateValidation('sshKeyBody', validatePublicKey(publicKey) ? 'success' : 'error');\n    }\n  };\n\n  const handleClear = () => {\n    setWizardContext((prevState) => ({\n      ...prevState,\n      sshPublicName: undefined,\n      sshPublicKey: undefined,\n    }));\n    setPublicKey('');\n    updateValidation('sshKeyBody', 'default');\n  };\n\n  const handleFileReadStarted = () => {\n    setIsLoading(true);\n  };\n\n  const handleFileReadFinished = () => {\n    setIsLoading(false);\n  };\n  const handleFileReadFailed = () => {\n    setWizardContext((prevState) => ({\n      ...prevState,\n      sshPublicName: '<Failed to load the file>',\n    }));\n    updateValidation('sshKeyBody', 'error');\n  };\n\n  const validatePublicKey = (ssh) => {\n    const regex = new RegExp(PUBLIC_KEY_FORMAT);\n    return regex.test(ssh);\n  };\n  return (\n    <FormGroup isStack>\n      <FormGroup validated={validations.sshKeyName} helperTextInvalid=\"Name is required\" label=\"Name\" isRequired fieldId=\"ssh-name\">\n        <TextInput\n          ouiaId=\"new_pubkey_name\"\n          validated={validations.sshKeyName}\n          value={keyName}\n          id=\"public-key-name\"\n          onChange={handleNameChange}\n          onBlur={handleNameBlur}\n          type=\"text\"\n        />\n      </FormGroup>\n      <FormGroup\n        helperTextInvalid=\"Must be SSH public key format\"\n        label=\"SSH public key\"\n        isRequired\n        fieldId=\"ssh-file\"\n        validated={validations.sshKeyBody}\n      >\n        <FileUpload\n          // ouia not supported yet?\n          ouiaId=\"new_pubkey_file\"\n          id=\"public-key-value\"\n          onDataChange={handleSSHKeyChange}\n          allowEditingUploadedText\n          onTextChange={handleSSHKeyText}\n          onTextAreaBlur={handleSSHKeyTextBlur}\n          type=\"text\"\n          value={publicKey}\n          validated={validations.sshKeyBody}\n          onReadStarted={handleFileReadStarted}\n          onReadFinished={handleFileReadFinished}\n          onReadFailed={handleFileReadFailed}\n          onClearClick={handleClear}\n          isLoading={isLoading}\n          filenamePlaceholder=\"Drag a file here\"\n        />\n      </FormGroup>\n    </FormGroup>\n  );\n};\n\nNewSSHKeyForm.propTypes = {\n  setStepValidated: PropTypes.func.isRequired,\n};\nexport default NewSSHKeyForm;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Form, FormGroup, Radio, Text, Title } from '@patternfly/react-core';\nimport { useQuery } from 'react-query';\nimport { useWizardContext } from '../../../Common/WizardContext';\nimport PubkeySelect from './PubkeySelect';\nimport NewSSHKeyForm from './NewKeyForm';\nimport { PUBKEYS_QUERY_KEY } from '../../../../API/queryKeys';\nimport { fetchPubkeysList } from '../../../../API';\n\nconst EXIST_KEY_OPTION = 'existKey';\nconst NEW_KEY_OPTION = 'newKey';\n\nconst PublicKeys = ({ setStepValidated }) => {\n  const [wizardContext, setWizardContext] = useWizardContext();\n  const { isLoading, isError, data: pubkeys } = useQuery(PUBKEYS_QUERY_KEY, fetchPubkeysList);\n  const [isSelectDisabled, disableSelect] = React.useState(false);\n\n  const switchTo = (optionKey) => {\n    setWizardContext((prevState) => ({\n      ...prevState,\n      uploadedKey: NEW_KEY_OPTION === optionKey,\n    }));\n  };\n\n  const onOptionChange = (_, event) => {\n    switchTo(event.currentTarget.value);\n  };\n\n  React.useEffect(() => {\n    if (!isLoading && (isError || (pubkeys && pubkeys.length < 1))) {\n      disableSelect(true);\n      switchTo(NEW_KEY_OPTION);\n    }\n  }, [isLoading]);\n\n  return (\n    <Form className=\"pubkeys\">\n      <Title ouiaId=\"pubkey_title\" headingLevel=\"h1\">\n        SSH keys authentication\n      </Title>\n      <Text ouiaId=\"pubkey_description\">Establish secure, reliable communication and strong encryption to protect data.</Text>\n      <FormGroup role=\"radiogroup\" isStack isRequired label=\"Select a method to add SSH pubic key\">\n        <Radio\n          id=\"existing-pubkey-radio\"\n          ouiaId=\"pubkey_radio\"\n          isChecked={!wizardContext.uploadedKey}\n          isDisabled={isSelectDisabled}\n          name=\"ssh-keys-radio\"\n          value={EXIST_KEY_OPTION}\n          onChange={onOptionChange}\n          label=\"Select existing SSH public key\"\n          data-testid=\"existing-pubkey-radio\"\n          body={\n            (!wizardContext.uploadedKey || isSelectDisabled) && (\n              <FormGroup label=\"Select public key\">\n                <PubkeySelect setStepValidated={setStepValidated} />\n              </FormGroup>\n            )\n          }\n        />\n        <Radio\n          id=\"upload-pubkey-radio\"\n          ouiaId=\"new_pubkey_radio\"\n          isChecked={wizardContext.uploadedKey}\n          name=\"ssh-keys-radio\"\n          value={NEW_KEY_OPTION}\n          onChange={onOptionChange}\n          label=\"Add and save a new SSH public key\"\n          description=\"Newly added key will be automatically saved. Result of the provisioning will not be affected this process.\"\n          data-testid=\"upload-pubkey-radio\"\n          body={wizardContext.uploadedKey && <NewSSHKeyForm setStepValidated={setStepValidated} />}\n        />\n      </FormGroup>\n    </Form>\n  );\n};\n\nPublicKeys.propTypes = {\n  setStepValidated: PropTypes.func.isRequired,\n};\n\nexport default PublicKeys;\n","const instanceLink = (instanceID, provider, region) => {\n  switch (provider) {\n    case 'aws':\n      return `https://console.aws.amazon.com/ec2/home?region=${region}#InstanceDetails:instanceId=${instanceID}`;\n    default:\n      return null;\n  }\n};\n\nexport default instanceLink;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport {\n  ExpandableSection,\n  DescriptionList,\n  DescriptionListTerm,\n  DescriptionListDescription,\n  Timestamp,\n  Bullseye,\n  Truncate,\n  Card,\n  Spinner,\n} from '@patternfly/react-core';\nimport { ExternalLinkAltIcon } from '@patternfly/react-icons';\nimport { useQuery } from 'react-query';\nimport { fetchReservationByProvider } from '../../../../API';\nimport { useWizardContext } from '../../../Common/WizardContext';\nimport instanceLink from '../../../Common/InstanceLink';\n\nconst ExpandedInfo = ({ reservationID, error, createdAt, provider }) => {\n  const [{ chosenRegion }] = useWizardContext();\n  const { data: instances, isLoading } = useQuery(['launchInfo', reservationID], () => fetchReservationByProvider(reservationID, provider), {\n    enabled: !error,\n    select: (reservation) => reservation.instances,\n  });\n  return (\n    <Bullseye>\n      <ExpandableSection toggleTextCollapsed=\"Show additional info\" toggleTextExpanded=\"\">\n        <DescriptionList columnModifier={{ lg: '2Col' }}>\n          <Card component=\"div\">\n            <DescriptionListTerm>Launch ID</DescriptionListTerm>\n            <DescriptionListDescription>{<span aria-label=\"launch id\">{reservationID}</span>}</DescriptionListDescription>\n          </Card>\n          {error && (\n            <Card component=\"div\">\n              <DescriptionListTerm>Error message</DescriptionListTerm>\n              <DescriptionListDescription>\n                <span aria-label=\"launch error\">\n                  <Truncate content={error} />\n                </span>\n              </DescriptionListDescription>\n            </Card>\n          )}\n          <Card component=\"div\">\n            <DescriptionListTerm>Started at</DescriptionListTerm>\n            <DescriptionListDescription>{createdAt ? <Timestamp date={new Date(createdAt)} /> : 'N/A'}</DescriptionListDescription>\n          </Card>\n          {isLoading && (\n            <Card component=\"div\">\n              <DescriptionListTerm>Host</DescriptionListTerm>\n              <DescriptionListDescription>{<Spinner size=\"md\" />}</DescriptionListDescription>\n            </Card>\n          )}\n          {instances?.map((instance_id) => (\n            <Card key={instance_id} component=\"div\">\n              <DescriptionListTerm>Host</DescriptionListTerm>\n              <DescriptionListDescription>\n                {\n                  <span aria-label=\"instance link\">\n                    <a href={instanceLink(instance_id, provider, chosenRegion)} rel=\"noreferrer\" target=\"_blank\">\n                      {instance_id} <ExternalLinkAltIcon />\n                    </a>\n                  </span>\n                }\n              </DescriptionListDescription>\n            </Card>\n          ))}\n        </DescriptionList>\n      </ExpandableSection>\n    </Bullseye>\n  );\n};\n\nExpandedInfo.propTypes = {\n  createdAt: PropTypes.string,\n  error: PropTypes.string,\n  finishedAt: PropTypes.string,\n  reservationID: PropTypes.number,\n  provider: PropTypes.string,\n};\n\nExpandedInfo.defaultProps = {\n  createdAt: undefined,\n  finishedAt: undefined,\n  reservationID: undefined,\n  error: undefined,\n  provider: 'aws',\n};\n\nexport default ExpandedInfo;\n","import React from 'react';\n\nconst intervalGenerator = function* (intervalList) {\n  for (const interval of intervalList) yield interval;\n};\n\nconst useInterval = (list) => {\n  const generatorRef = React.useRef(null);\n  const savedList = React.useRef(list);\n  const [currentInterval, setCurrentInterval] = React.useState();\n\n  React.useEffect(() => {\n    generatorRef.current = intervalGenerator(savedList.current);\n  }, []);\n\n  const nextInterval = () => {\n    const nextValue = generatorRef.current.next().value;\n    setCurrentInterval(nextValue);\n    if (nextValue === undefined) return false;\n    return nextValue;\n  };\n  return { nextInterval, currentInterval };\n};\n\nexport default useInterval;\n","export const PF_SUCCESS_100 = '#3E8635';\nexport const PF_DANGER_100 = '#C9190B';\n\nexport const POLLING_BACKOFF_INTERVAL = [\n  500, 600, 700, 800, 900, 1000, 1200, 1400, 1600, 1800, 2000, 3000, 4000, 5000, 10000, 15000, 20000, 25000, 30000,\n];\n\nexport const AWS_STEPS = [\n  { name: 'Create reservation', description: `Submitting AWS reservation form` },\n  {\n    name: 'Transfer keys',\n    description: 'Uploading public key to AWS',\n  },\n  { name: 'Launch instance(s)', description: 'Running the new instance(s)' },\n];\n\nexport const SSH_STEP = [{ name: 'New SSH key', description: 'Creating new SSH public key resource' }];\n\nexport const AWS_PROVIDER = 'aws';\n","import { AWS_PROVIDER, AWS_STEPS } from './constants';\n\nexport const mapCurrentVariant = (step, currentStep, currentError) => {\n  if (step < currentStep) return 'success';\n  if (step === currentStep && currentError) return 'danger';\n  if (step === currentStep) return 'info';\n  if (step > currentStep) return 'pending';\n};\n\nexport const stepsByProvider = (provider) => {\n  switch (provider) {\n    case AWS_PROVIDER:\n      return AWS_STEPS;\n    default:\n      undefined;\n  }\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  ProgressStepper,\n  ProgressStep,\n  EmptyState,\n  EmptyStateIcon,\n  EmptyStateBody,\n  EmptyStateSecondaryActions,\n  Title,\n  Popover,\n  Button,\n  WizardContextConsumer,\n} from '@patternfly/react-core';\nimport { CogsIcon, PendingIcon } from '@patternfly/react-icons';\nimport { useMutation, useQuery } from 'react-query';\n\nimport { useWizardContext } from '../../../Common/WizardContext';\nimport { createNewPublicKey, fetchReservation } from '../../../../API';\nimport ExpandedInfo from './ExpansionInfo';\nimport useInterval from '../../../Common/Hooks/useInterval';\nimport { POLLING_BACKOFF_INTERVAL, SSH_STEP } from './constants';\nimport { mapCurrentVariant, stepsByProvider } from './helpers';\nimport useReservationMutation from '../../../Common/Hooks/useMutationReservation';\n\nconst ReservationProgress = ({ imageID, setLaunchSuccess, provider }) => {\n  const [steps, setSteps] = React.useState([]);\n  const [currentError, setCurrentError] = React.useState();\n  const [currentStep, setCurrentStep] = React.useState(0);\n  const [currentJobStep, setCurrentJobStep] = React.useState(0);\n  const [reservationID, setReservationID] = React.useState();\n\n  const [\n    { chosenSource, chosenInstanceType, chosenNumOfInstances, chosenRegion, sshPublicName, sshPublicKey, chosenSshKeyId, uploadedKey, chosenImageID },\n  ] = useWizardContext();\n  const { nextInterval, currentInterval } = useInterval(POLLING_BACKOFF_INTERVAL);\n  const [createReservation, reservationError] = useReservationMutation(provider, (res) => {\n    stepUp();\n    setReservationID(res?.data?.reservation_id);\n  });\n\n  React.useEffect(() => {\n    if (createReservation) {\n      if (uploadedKey) {\n        setSteps(SSH_STEP.concat(stepsByProvider(provider)));\n        createPublicKey({ name: sshPublicName, body: sshPublicKey });\n      } else {\n        setSteps(stepsByProvider(provider));\n        createReservation({\n          source_id: chosenSource,\n          instance_type: chosenInstanceType,\n          amount: chosenNumOfInstances,\n          image_id: chosenImageID || imageID,\n          region: chosenRegion,\n          pubkey_id: chosenSshKeyId,\n        });\n      }\n    }\n  }, [createReservation, setSteps, uploadedKey]);\n\n  const { mutate: createPublicKey, error: pubkeyError } = useMutation(createNewPublicKey, {\n    onSuccess: (resp) => {\n      stepUp();\n      createReservation({\n        source_id: chosenSource,\n        instance_type: chosenInstanceType,\n        amount: chosenNumOfInstances,\n        image_id: chosenImageID || imageID,\n        region: chosenRegion,\n        pubkey_id: resp?.data?.id,\n      });\n    },\n  });\n\n  // polling request\n  const { data: polledReservation } = useQuery(['reservation', reservationID], () => fetchReservation(reservationID), {\n    enabled: !!reservationID && currentStep < steps.length && !currentError,\n    refetchInterval: (data) => {\n      if (data?.success || !!data?.error) return false;\n      return currentInterval;\n    },\n    onSuccess: (data) => {\n      if (currentJobStep < data.step) {\n        setCurrentJobStep((prev) => prev + 1);\n        stepUp();\n      }\n      !data?.success && nextInterval();\n      data.success && setLaunchSuccess();\n    },\n    refetchIntervalInBackground: true,\n  });\n\n  // error handling\n  React.useEffect(() => {\n    if (currentInterval === false) {\n      setCurrentError('Session timed out, the reservation took too long to fulfill');\n      return;\n    }\n    if (reservationError || pubkeyError || polledReservation?.error) {\n      const createReservationErrorMsg = reservationError?.response?.data?.msg;\n      const pubkeyErrorMsg = pubkeyError?.response?.data?.msg;\n\n      setCurrentError(createReservationErrorMsg || pubkeyErrorMsg || polledReservation?.error);\n    }\n  }, [reservationError, pubkeyError, polledReservation?.error, currentInterval]);\n\n  const stepUp = () => setCurrentStep((prevStep) => prevStep + 1);\n\n  return (\n    <WizardContextConsumer>\n      {({ goToStepById, onClose }) => (\n        <EmptyState variant=\"large\">\n          <EmptyStateIcon icon={CogsIcon} />\n          <Title headingLevel=\"h4\" size=\"lg\" ouiaId=\"launch-status\">\n            {`Launching system(s)`}\n          </Title>\n          <EmptyStateBody>\n            <ProgressStepper isCenterAligned>\n              {steps.map(({ name, description }, step) => {\n                const variant = mapCurrentVariant(step, currentStep, currentError);\n                return (\n                  <ProgressStep\n                    variant={variant}\n                    id={name}\n                    key={name}\n                    icon={step > currentStep ? <PendingIcon /> : undefined}\n                    isCurrent={step === currentStep}\n                    description={description}\n                    titleId={name}\n                    aria-label={`step ${name} ${variant}`}\n                    popoverRender={\n                      currentError && step === currentStep\n                        ? (stepRef) => (\n                            <Popover\n                              aria-label={`${name} error message`}\n                              headerContent={<div>Error</div>}\n                              bodyContent={<div>{currentError}</div>}\n                              reference={stepRef}\n                              position=\"right\"\n                            />\n                          )\n                        : undefined\n                    }\n                  >\n                    {name}\n                  </ProgressStep>\n                );\n              })}\n            </ProgressStepper>\n          </EmptyStateBody>\n          {/* TODO: remove hidden input */}\n          {reservationID && <input type=\"hidden\" name=\"reservation_id\" value={reservationID} />}\n          <EmptyStateBody>\n            {(polledReservation?.error || polledReservation?.success) && (\n              <ExpandedInfo\n                reservationID={reservationID}\n                error={currentError}\n                createdAt={polledReservation?.created_at}\n                finishedAt={polledReservation?.finished_at}\n              />\n            )}\n          </EmptyStateBody>\n          {currentError && (\n            <Button onClick={() => goToStepById(1)} variant=\"primary\">\n              Edit\n            </Button>\n          )}\n          <EmptyStateSecondaryActions>\n            <Button variant=\"link\" isDisabled={!currentError && currentStep < 2} onClick={onClose}>\n              Close\n            </Button>\n          </EmptyStateSecondaryActions>\n        </EmptyState>\n      )}\n    </WizardContextConsumer>\n  );\n};\n\nReservationProgress.propTypes = {\n  imageID: PropTypes.string.isRequired,\n  provider: PropTypes.string.isRequired,\n  setLaunchSuccess: PropTypes.func.isRequired,\n};\n\nexport default ReservationProgress;\n","import React from 'react';\nimport { useMutation } from 'react-query';\nimport { createAWSReservation } from '../../../API';\nimport { AWS_PROVIDER } from '../../ProvisioningWizard/steps/ReservationProgress/constants';\n\nconst useReservationMutation = (provider, onSuccessCallback) => {\n  const reservationFnByProvider = () => {\n    switch (provider) {\n      case AWS_PROVIDER:\n        return AWSReservation;\n      default:\n        AWSReservation;\n    }\n  };\n  const [chosenReservationFn, setReservationFn] = React.useState();\n  const { mutate: AWSReservation, error: reservationError } = useMutation(createAWSReservation, {\n    onSuccess: (res) => {\n      onSuccessCallback(res);\n    },\n  });\n\n  React.useEffect(() => {\n    setReservationFn(reservationFnByProvider);\n  }, [provider]);\n\n  return [chosenReservationFn, reservationError];\n};\n\nexport default useReservationMutation;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalVariant } from '@patternfly/react-core';\n\nconst ConfirmModal = ({ isOpen, onConfirm, onCancel }) => (\n  <Modal\n    ouiaId=\"app-confirm-modal\"\n    id=\"app-confirm-modal\"\n    aria-label=\"confirm cancel of launch modal\"\n    variant={ModalVariant.small}\n    title=\"Exit instance launching?\"\n    isOpen={isOpen}\n    onClose={onCancel}\n    actions={[\n      <Button key=\"exit\" variant=\"primary\" onClick={onConfirm} ouiaId=\"btn-exit-confirm\">\n        Exit\n      </Button>,\n      <Button key=\"stay\" variant=\"link\" onClick={onCancel}>\n        Stay\n      </Button>,\n    ]}\n    titleIconVariant=\"warning\"\n  >\n    All inputs will be discarded.\n  </Modal>\n);\n\nConfirmModal.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  onConfirm: PropTypes.func.isRequired,\n  onCancel: PropTypes.func.isRequired,\n};\n\nexport default ConfirmModal;\n","import PropTypes from 'prop-types';\nimport { Wizard } from '@patternfly/react-core';\nimport React from 'react';\n\nimport { WizardProvider } from '../Common/WizardContext';\nimport APIProvider from '../Common/Query';\nimport defaultSteps from './steps';\nimport ConfirmModal from '../ConfirmModal';\nimport './steps/Pubkeys/pubkeys.scss';\n\nconst DEFAULT_STEP_VALIDATION = {\n  sshStep: false,\n  awsStep: false,\n};\n\nconst ProvisioningWizard = ({ isOpen, onClose, image, ...props }) => {\n  const [stepIdReached, setStepIdReached] = React.useState(1);\n  const [stepValidation, setStepValidation] = React.useState(DEFAULT_STEP_VALIDATION);\n  const [isConfirming, setConfirming] = React.useState(false);\n  const [successfulLaunch, setLaunchSuccess] = React.useState();\n\n  const onCustomClose = () => {\n    setConfirming(false);\n    setStepIdReached(1);\n    setStepValidation(DEFAULT_STEP_VALIDATION);\n    onClose();\n  };\n\n  const onWizardClose = () => {\n    if (stepIdReached >= 5 && !successfulLaunch) {\n      setConfirming(true);\n    } else {\n      onCustomClose();\n    }\n  };\n\n  const steps = defaultSteps({\n    stepIdReached,\n    image,\n    stepValidation,\n    setStepValidation,\n    setLaunchSuccess,\n  });\n\n  const onNext = ({ id, name }, { prevId, prevName }) => {\n    console.debug(`current id: ${id}, current name: ${name}, previous id: ${prevId}, previous name: ${prevName}`);\n    setStepIdReached((prevID) => (prevID < id ? id : prevID));\n  };\n\n  return isOpen ? (\n    <WizardProvider>\n      <APIProvider>\n        <Wizard\n          {...props}\n          title=\"Launch\"\n          description={`Launch image ${image.name}`}\n          steps={steps}\n          isOpen\n          onClose={onWizardClose}\n          onNext={onNext}\n          className={'provisioning'}\n        />\n        <ConfirmModal isOpen={isConfirming} onConfirm={onCustomClose} onCancel={() => setConfirming(false)} />\n      </APIProvider>\n    </WizardProvider>\n  ) : null;\n};\n\nProvisioningWizard.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  onClose: PropTypes.func,\n  image: PropTypes.shape({\n    name: PropTypes.string,\n    id: PropTypes.string,\n    architecture: PropTypes.string,\n  }).isRequired,\n};\n\nexport default ProvisioningWizard;\n","import React from 'react';\nimport AccountCustomizationsAWS from '../steps/AccountCustomizations/aws';\nimport ReviewDetails from './ReviewDetails';\nimport PublicKeys from './Pubkeys';\nimport FinishStep from './ReservationProgress';\nimport { AWS_PROVIDER } from './ReservationProgress/constants';\n\nconst defaultSteps = ({ stepIdReached, image: { name, id, architecture }, stepValidation, setStepValidation, setLaunchSuccess }) => [\n  {\n    name: 'Account and customization',\n    steps: [\n      {\n        name: 'AWS',\n        id: 1,\n        enableNext: stepValidation.awsStep,\n        component: (\n          <AccountCustomizationsAWS\n            architecture={architecture || 'x86_64'}\n            composeID={id}\n            setStepValidated={(validated) => setStepValidation((prev) => ({ ...prev, awsStep: validated }))}\n          />\n        ),\n        canJumpTo: stepIdReached >= 1,\n      },\n    ],\n  },\n  {\n    name: 'SSH key authentication',\n    id: 4,\n    component: <PublicKeys setStepValidated={(validated) => setStepValidation((prev) => ({ ...prev, sshStep: validated }))} />,\n    canJumpTo: stepIdReached >= 4,\n    enableNext: stepValidation.sshStep,\n  },\n  {\n    name: 'Review details',\n    id: 5,\n    component: <ReviewDetails imageName={name} />,\n    canJumpTo: stepIdReached >= 5,\n    nextButtonText: 'Launch',\n  },\n  {\n    name: 'Finish Progress',\n    id: 6,\n    component: <FinishStep provider={AWS_PROVIDER} setLaunchSuccess={() => setLaunchSuccess(true)} imageID={id} />,\n    isFinishedStep: true,\n  },\n];\n\nexport default defaultSteps;\n"],"names":["chosenSource","undefined","chosenNumOfInstances","chosenInstanceType","uploadedKey","chosenRegion","chosenImageID","sshPublicName","sshPublicKey","chosenSshKeyId","chosenSshKeyName","createContainer","useState","initialWizardContext","WizardProvider","Provider","useWizardContext","useTracked","queryClient","QueryClient","children","QueryClientProvider","client","SOURCES_QUERY_KEY","PUBKEYS_QUERY_KEY","provisioningUrl","path","fetchSourcesList","axios","data","fetchPubkeysList","fetchInstanceTypesList","region","createAWSReservation","params","createNewPublicKey","fetchReservation","id","fetchImageClones","composeID","fetchReservationByProvider","reservationID","provider","SourcesSelect","setValidation","wizardContext","setWizardContext","React","isOpen","setIsOpen","selected","setSelected","selectObject","name","toString","compareTo","other","useQuery","onSuccess","find","source","error","isLoading","sources","console","warn","Alert","ouiaId","variant","isInline","title","Select","isDisabled","placeholderText","Spinner","isSVG","size","onToggle","openState","selections","onSelect","event","selection","isPlaceholder","prevState","map","SelectOption","key","value","propTypes","PropTypes","NumberInput","max","min","onMinus","newValue","onChange","input","Math","floor","Number","target","onPlus","inputName","inputAriaLabel","minusBtnAriaLabel","plusBtnAriaLabel","InstanceTypesSelect","architecture","numOptions","setNumOptions","filteredTypes","setFilteredTypes","prevSearch","setPrevSearch","select","types","filter","type","instanceTypes","TextInput","className","readOnly","maxHeight","onFilter","_e","inputValue","search","replace","i","includes","length","loadingVariant","text","onClick","limit","slice","instanceType","index","description","cores","vcpus","parseFloat","memory_mib","toFixed","storage_gb","selectItemsMapper","RegionsSelect","images","image","request","isError","clonedImages","parentImage","concat","label","_","AccountCustomizationsAWS","setStepValidated","validations","errorExists","Object","values","some","valid","Form","Title","headingLevel","Text","FormGroup","validated","helperTextInvalid","isRequired","fieldId","validation","prevValidations","labelIcon","Popover","bodyContent","Button","e","preventDefault","noVerticalAlign","DescriptionListAWS","imageName","log","DescriptionList","isHorizontal","DescriptionListGroup","DescriptionListTerm","DescriptionListDescription","ExpandableAWS","isExpanded","setIsExpanded","ExpandableSection","toggleText","isIndented","ReviewDetails","selectOptionObj","PubkeySelect","setSelection","pubkeys","NewSSHKeyForm","setIsLoading","sshKeyBody","sshKeyName","keyName","setName","publicKey","setPublicKey","updateValidation","inputKey","validatePublicKey","ssh","RegExp","test","isStack","onBlur","FileUpload","onDataChange","allowEditingUploadedText","onTextChange","onTextAreaBlur","onReadStarted","onReadFinished","onReadFailed","onClearClick","filenamePlaceholder","NEW_KEY_OPTION","PublicKeys","isSelectDisabled","disableSelect","switchTo","optionKey","onOptionChange","currentTarget","role","Radio","isChecked","body","instanceID","ExpandedInfo","createdAt","enabled","reservation","instances","Bullseye","toggleTextCollapsed","toggleTextExpanded","columnModifier","lg","Card","component","Truncate","content","Timestamp","date","Date","instance_id","href","instanceLink","rel","finishedAt","defaultProps","intervalGenerator","intervalList","interval","f","POLLING_BACKOFF_INTERVAL","AWS_STEPS","SSH_STEP","AWS_PROVIDER","stepsByProvider","ReservationProgress","imageID","setLaunchSuccess","steps","setSteps","currentError","setCurrentError","currentStep","setCurrentStep","currentJobStep","setCurrentJobStep","setReservationID","list","generatorRef","savedList","currentInterval","setCurrentInterval","current","nextInterval","nextValue","next","useInterval","onSuccessCallback","reservationFnByProvider","AWSReservation","chosenReservationFn","setReservationFn","useMutation","res","mutate","reservationError","useReservationMutation","stepUp","reservation_id","createReservation","createPublicKey","source_id","instance_type","amount","image_id","pubkey_id","resp","pubkeyError","polledReservation","refetchInterval","success","step","prev","refetchIntervalInBackground","createReservationErrorMsg","response","msg","pubkeyErrorMsg","prevStep","WizardContextConsumer","goToStepById","onClose","EmptyState","EmptyStateIcon","icon","CogsIcon","EmptyStateBody","ProgressStepper","isCenterAligned","mapCurrentVariant","ProgressStep","isCurrent","titleId","popoverRender","stepRef","headerContent","reference","position","created_at","finished_at","EmptyStateSecondaryActions","ConfirmModal","onConfirm","onCancel","Modal","ModalVariant","actions","titleIconVariant","DEFAULT_STEP_VALIDATION","sshStep","awsStep","ProvisioningWizard","props","stepIdReached","setStepIdReached","stepValidation","setStepValidation","isConfirming","setConfirming","successfulLaunch","onCustomClose","enableNext","canJumpTo","nextButtonText","isFinishedStep","defaultSteps","Wizard","onNext","prevId","prevName","debug","prevID"],"sourceRoot":""}