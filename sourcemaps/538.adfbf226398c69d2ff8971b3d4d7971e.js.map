{"version":3,"file":"js/538.a2e34a211d245216f687.js","mappings":"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","sources":["webpack:///./src/Components/Common/Query/index.js","webpack:///./src/Components/Common/WizardContext/initialState.js","webpack:///./src/Components/Common/WizardContext/index.js","webpack:///./src/API/queryKeys.js","webpack:///./src/API/helpers.js","webpack:///./src/API/index.js","webpack:///./src/Components/Common/Hooks/sources.js","webpack:///./src/Components/ConfirmModal/index.js","webpack:///./src/Components/Common/helpers.js","webpack:///./src/Components/RegionsSelect/index.js","webpack:///./src/Components/ProvisioningWizard/helpers.js","webpack:///./src/Components/ProvisioningWizard/steps/SourceMissing/DirectProviderLink.js","webpack:///./src/Components/ProvisioningWizard/steps/SourceMissing/index.js","webpack:///./src/Components/SourcesSelect/index.js","webpack:///./src/Components/InstanceCounter/index.js","webpack:///./src/Components/InstanceCounter/constants.js","webpack:///./src/Components/InstanceTypesSelect/index.js","webpack:///./src/Components/TemplateSelect/index.js","webpack:///./src/Components/ProvisioningWizard/steps/AccountCustomizations/aws.js","webpack:///./src/Components/ProvisioningWizard/steps/AccountCustomizations/gcp.js","webpack:///./src/Components/ProvisioningWizard/steps/AccountCustomizations/azure.js","webpack:///./src/Components/ProvisioningWizard/steps/AccountCustomizations/index.js","webpack:///./src/Components/ProvisioningWizard/steps/ReservationProgress/constants.js","webpack:///./src/Components/ProvisioningWizard/steps/ReservationProgress/helpers.js","webpack:///./src/Components/LaunchDescriptionList/index.js","webpack:///./src/Components/ProvisioningWizard/steps/ReviewDetails/index.js","webpack:///./src/Components/ProvisioningWizard/steps/Pubkeys/PubkeySelect.js","webpack:///./src/Components/ProvisioningWizard/steps/Pubkeys/NewKeyForm.js","webpack:///./src/Components/ProvisioningWizard/steps/Pubkeys/index.js","webpack:///./src/Components/Common/Hooks/useInterval.js","webpack:///./src/Components/Common/instanceHelpers.js","webpack:///./src/Components/InstancesTable/index.js","webpack:///./src/Components/InstancesTable/helpers.js","webpack:///./src/Components/ProvisioningWizard/steps/ReservationProgress/index.js","webpack:///./src/Components/ProvisioningWizard/steps/index.js","webpack:///./src/Components/ProvisioningWizard/CustomFooter.js","webpack:///./src/Components/ProvisioningWizard/index.js","webpack:///./src/constants.js"],"sourcesContent":["/* eslint-disable react/prop-types */\n\nimport React from 'react';\nimport { QueryClient, QueryClientProvider } from 'react-query';\n\nconst queryClient = new QueryClient();\n\nconst APIProvider = ({ children }) => <QueryClientProvider client={queryClient}>{children}</QueryClientProvider>;\n\nexport default APIProvider;\n","const initialWizardContext = {\n  chosenSource: undefined,\n  chosenNumOfInstances: 1,\n  chosenInstanceType: undefined,\n  uploadedKey: false,\n  chosenRegion: undefined,\n  chosenImageID: undefined,\n  sshPublicName: '',\n  sshPublicKey: '',\n  chosenSshKeyId: undefined,\n  chosenSshKeyName: null,\n  provider: undefined,\n};\n\nexport default initialWizardContext;\n","import { useState } from 'react';\nimport { createContainer } from 'react-tracked';\nimport initialWizardContext from './initialState';\n\nconst useSharedState = (values) => useState({ ...initialWizardContext, ...values });\n\nexport const { Provider: WizardProvider, useTracked: useWizardContext } = createContainer(useSharedState);\n","export const SOURCES_QUERY_KEY = 'sources';\nexport const SOURCE_UPLOAD_INFO_KEY = 'source_upload_info';\nexport const PUBKEYS_QUERY_KEY = 'pubkeys';\nexport const instanceTypesQueryKeys = (region) => ['instanceTypes', region];\nexport const IMAGE_REGIONS_KEY = 'image_region';\n","export const provisioningUrl = (path) => `/api/provisioning/v1/${path}`;\nexport const imageBuilderURL = (path) => `/api/image-builder/v1/${path}`;\n","import axios from 'axios';\nimport { AZURE_PROVIDER } from '../constants';\nimport { imageBuilderURL, provisioningUrl } from './helpers';\n\nconst typesUrlForProvider = (provider, region) => {\n  switch (provider) {\n    case AZURE_PROVIDER:\n      return provisioningUrl(`instance_types/${provider}?region=${region}&zone=1`);\n    default:\n      return provisioningUrl(`instance_types/${provider}?region=${region}`);\n  }\n};\n\nexport const fetchSourcesList = async (provider) => {\n  const { data } = await axios.get(provisioningUrl(`sources?provider=${provider}`));\n  return data;\n};\n\nexport const fetchSourceUploadInfo = async (sourceID) => {\n  const { data } = await axios.get(provisioningUrl(`sources/${sourceID}/upload_info`));\n  return data;\n};\n\nexport const fetchPubkeysList = async () => {\n  const { data } = await axios.get(provisioningUrl('pubkeys'));\n  return data;\n};\n\nexport const fetchInstanceTypesList = async (region, provider) => {\n  const url = typesUrlForProvider(provider, region);\n  const { data } = await axios.get(url);\n  return data;\n};\n\nexport const createReservation = (provider) => async (params) => {\n  return axios.post(provisioningUrl(`reservations/${provider}`), params);\n};\n\nexport const createNewPublicKey = async (params) => {\n  return axios.post(provisioningUrl('pubkeys'), params);\n};\n\nexport const fetchReservation = async (id) => {\n  const { data } = await axios.get(provisioningUrl(`reservations/${id}`));\n  return data;\n};\n\nexport const fetchImageClones = async (composeID) => {\n  const { data } = await axios.get(imageBuilderURL(`composes/${composeID}/clones`));\n  return data;\n};\n\nexport const fetchImageCloneStatus = async (cloneID) => {\n  const { data } = await axios.get(imageBuilderURL(`clones/${cloneID}`));\n  return data;\n};\n\nexport const fetchReservationByProvider = async (reservationID, provider) => {\n  const { data } = await axios.get(provisioningUrl(`reservations/${provider}/${reservationID}`));\n  return data;\n};\n\nexport const fetchLaunchTemplates = async (sourceID, region) => {\n  const { data } = await axios.get(provisioningUrl(`/sources/${sourceID}/launch_templates?region=${region}`));\n  return data;\n};\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { useQuery, useQueries } from 'react-query';\n\nimport { SOURCES_QUERY_KEY, SOURCE_UPLOAD_INFO_KEY } from '../../../API/queryKeys';\nimport { fetchSourcesList, fetchSourceUploadInfo } from '../../../API';\nimport { AWS_PROVIDER, AZURE_PROVIDER } from '../../../constants';\n\nexport const imageProps = PropTypes.shape({\n  name: PropTypes.string,\n  id: PropTypes.string,\n  provider: PropTypes.string,\n  architecture: PropTypes.string,\n  sourceIDs: PropTypes.arrayOf(PropTypes.string),\n  accountIDs: PropTypes.arrayOf(PropTypes.string),\n}).isRequired;\n\nexport const useSourcesData = (provider, { refetch = false } = {}) => {\n  const {\n    error,\n    isLoading,\n    data: sources,\n  } = useQuery([SOURCES_QUERY_KEY, provider], () => fetchSourcesList(provider), {\n    enabled: !!provider,\n    refetchInterval: refetch && 10000,\n  });\n  return { error, isLoading, sources };\n};\n\nconst useSourcesUploadInfos = (provider, { refetch }) => {\n  const { sources, isLoading: isLoadingSources, error: sourcesError } = useSourcesData(provider, { refetch });\n\n  const uploadInfos = useQueries(\n    sources?.map((source) => ({ queryKey: [SOURCE_UPLOAD_INFO_KEY, source.id], queryFn: () => fetchSourceUploadInfo(source.id), retry: 1 })) || []\n  );\n\n  const isLoading = isLoadingSources || uploadInfos.some((info) => info.isLoading);\n  const infos = [];\n  !isLoading &&\n    sources?.forEach((source, i) => {\n      uploadInfos[i].isSuccess && infos.push({ ...uploadInfos[i].data, ...source });\n    });\n\n  return { isLoading, error: sourcesError, infos };\n};\n\nconst providerSourceFilter = (image) => {\n  switch (image.provider) {\n    case AWS_PROVIDER:\n      return (info) => image.sourceIDs?.includes(info.id) || image.accountIDs?.includes(info.aws.account_id);\n    case AZURE_PROVIDER:\n      return (info) => image.uploadOptions?.source_id === info.id || info.azure?.subscription_id === image.uploadOptions?.subscription_id;\n    default:\n      return (info) => image.sourceIDs?.includes(info.id);\n  }\n};\n\nexport const useSourcesForImage = (image, { refetch = false, onSuccess = () => {} } = {}) => {\n  const { isLoading, error, infos } = useSourcesUploadInfos(image.provider, { refetch });\n\n  React.useEffect(() => {\n    if (!isLoading && !error) {\n      onSuccess(filteredSources);\n    }\n  }, [isLoading, error]);\n\n  const filteredSources = image.isTesting ? infos : infos?.filter(providerSourceFilter(image));\n  return { isLoading, error, sources: filteredSources || [] };\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalVariant } from '@patternfly/react-core';\n\nconst ConfirmModal = ({ isOpen, onConfirm, onCancel }) => (\n  <Modal\n    ouiaId=\"app-confirm-modal\"\n    id=\"app-confirm-modal\"\n    aria-label=\"confirm cancel of launch modal\"\n    variant={ModalVariant.small}\n    title=\"Exit instance launching?\"\n    isOpen={isOpen}\n    onClose={onCancel}\n    actions={[\n      <Button key=\"exit\" variant=\"primary\" onClick={onConfirm} ouiaId=\"btn-exit-confirm\">\n        Exit\n      </Button>,\n      <Button key=\"stay\" variant=\"link\" onClick={onCancel}>\n        Stay\n      </Button>,\n    ]}\n    titleIconVariant=\"warning\"\n  >\n    All inputs will be discarded.\n  </Modal>\n);\n\nConfirmModal.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  onConfirm: PropTypes.func.isRequired,\n  onCancel: PropTypes.func.isRequired,\n};\n\nexport default ConfirmModal;\n","import { AWS_PROVIDER, AZURE_PROVIDER, GCP_PROVIDER } from './constants';\n\nexport const defaultRegionByProvider = (provider) => {\n  switch (provider) {\n    case AWS_PROVIDER:\n      return 'us-east-1';\n    case GCP_PROVIDER:\n      return 'us-central1-a';\n    case AZURE_PROVIDER:\n      return 'eastus';\n    default:\n      throw new Error(`Unrecognized provider was entered: ${provider}`);\n  }\n};\n\nexport const humanizeProvider = (provider) => {\n  switch (provider) {\n    case AWS_PROVIDER:\n      return 'Amazon cloud';\n    case AZURE_PROVIDER:\n      return 'Azure';\n    case GCP_PROVIDER:\n      return 'Google cloud';\n    default:\n      throw new Error(`Unrecognized provider was entered: ${provider}`);\n  }\n};\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Alert, Select, SelectOption, Spinner } from '@patternfly/react-core';\nimport { useQuery, useQueries } from 'react-query';\n\nimport { AWS_PROVIDER, AZURE_PROVIDER, GCP_PROVIDER } from '../../constants';\nimport { IMAGE_REGIONS_KEY } from '../../API/queryKeys';\nimport { fetchImageClones, fetchImageCloneStatus } from '../../API';\nimport { defaultRegionByProvider } from '../Common/helpers';\n\nconst RegionsSelect = ({ provider, currentRegion, composeID, onChange }) => {\n  const [isOpen, setIsOpen] = React.useState(false);\n\n  const {\n    isError,\n    isLoading,\n    data: clonedImages,\n  } = useQuery([IMAGE_REGIONS_KEY, composeID], () => fetchImageClones(composeID), {\n    select: (images) => images.data?.map((image) => ({ id: image.id, region: image.request.region })),\n  });\n\n  const clonesStatusQueries = useQueries(\n    clonedImages?.map((clonedImage) => ({ queryKey: [IMAGE_REGIONS_KEY, clonedImage.id], queryFn: () => fetchImageCloneStatus(clonedImage.id) })) ||\n      []\n  );\n  const isCloneStatusLoading = clonesStatusQueries.some((clone) => clone.isLoading);\n  const defaultRegion = { region: provider && defaultRegionByProvider(provider), id: composeID };\n  const images = [defaultRegion];\n  // filter successful clones images\n  if (clonesStatusQueries.length && clonesStatusQueries.every((cloneQuery) => cloneQuery.isLoading === false)) {\n    const clonesStatus = clonesStatusQueries?.map((query) => query?.data);\n    // enrich the cloned image data\n    clonesStatus?.forEach((status, index) => {\n      clonedImages[index] = { ...clonedImages[index], ...status?.options };\n    });\n    const availableImages = clonedImages?.filter((_, index) => clonesStatus[index].status === 'success');\n    images.push(...availableImages);\n  }\n\n  const onSelect = (_, selection) => {\n    const { id: imageID, ...imageAttrs } = images.find((image) => image.region === selection);\n    onChange({ region: selection, imageID, ...imageAttrs });\n    setIsOpen(false);\n  };\n\n  const onToggle = (isOpen) => {\n    setIsOpen(isOpen);\n  };\n\n  if (isError) {\n    return (\n      <>\n        <Alert ouiaId=\"regions_alert\" variant=\"warning\" isInline title=\"There are problems fetching image's regions\" />\n        <Select ouiaId=\"regions_empty\" isDisabled placeholderText=\"No regions have been found\" />\n      </>\n    );\n  }\n\n  if (isLoading || isCloneStatusLoading) {\n    return <Spinner isSVG size=\"sm\" aria-label=\"loading available regions\" />;\n  }\n\n  return (\n    <Select\n      ouiaId=\"select_regions\"\n      variant=\"typeahead\"\n      aria-label=\"Select region\"\n      label=\"Select region\"\n      maxHeight=\"450px\"\n      isOpen={isOpen}\n      selections={currentRegion}\n      onToggle={onToggle}\n      onSelect={onSelect}\n      isDisabled={(clonedImages?.length || 0) <= 1}\n    >\n      {images.map(({ id, region }) => (\n        <SelectOption aria-label=\"Region item\" key={id} value={region} />\n      ))}\n    </Select>\n  );\n};\n\nRegionsSelect.propTypes = {\n  provider: PropTypes.oneOf([AWS_PROVIDER, AZURE_PROVIDER, GCP_PROVIDER]).isRequired,\n  composeID: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  currentRegion: PropTypes.string,\n};\n\nexport default RegionsSelect;\n","import PropTypes from 'prop-types';\n\nimport { AWS_PROVIDER, AZURE_PROVIDER, GCP_PROVIDER } from '../../constants';\n\nexport const imageProps = PropTypes.shape({\n  name: PropTypes.string,\n  id: PropTypes.string,\n  provider: PropTypes.oneOf([AWS_PROVIDER, AZURE_PROVIDER, GCP_PROVIDER]),\n  architecture: PropTypes.string,\n  sourceIDs: PropTypes.arrayOf(PropTypes.string),\n  accountIDs: PropTypes.arrayOf(PropTypes.string),\n}).isRequired;\n","import React from 'react';\nimport { Button, Bullseye, Stack, StackItem } from '@patternfly/react-core';\nimport { ExternalLinkAltIcon } from '@patternfly/react-icons';\n\nimport { AWS_PROVIDER, AZURE_PROVIDER } from '../../../../constants';\nimport RegionsSelect from '../../../RegionsSelect';\nimport { imageProps } from '../../helpers.js';\n\nconst DirectProviderLink = ({ image }) => {\n  // TODO gcp\n  const uploadStatus = image.uploadStatus || { options: {} };\n  const uploadOptions = image.uploadOptions || {};\n  const [currentImage, setImage] = React.useState({ imageID: image.id, ...uploadStatus.options });\n  let url, text;\n\n  switch (image.provider) {\n    case AWS_PROVIDER:\n      text = 'Launch with AWS console';\n      url = 'https://console.aws.amazon.com/ec2/v2/home?region=' + currentImage.region + '#LaunchInstanceWizard:ami=' + currentImage.ami;\n      break;\n    case AZURE_PROVIDER:\n      text = 'View uploaded image';\n      url =\n        'https://portal.azure.com/#@' +\n        uploadOptions.tenant_id +\n        '/resource/subscriptions/' +\n        uploadOptions.subscription_id +\n        '/resourceGroups/' +\n        uploadOptions.resource_group +\n        '/providers/Microsoft.Compute/images/' +\n        uploadStatus.options.image_name;\n      break;\n    default:\n      throw new Error(`Steps requested for unknown provider: ${image.provider}`);\n  }\n\n  // Currently only AWS, so the ami is hardcoded\n  const onRegionChange = (image) => {\n    console.log(image);\n    setImage(image);\n  };\n\n  return (\n    <Stack>\n      <StackItem>\n        <Button component=\"a\" variant=\"link\" icon={<ExternalLinkAltIcon />} iconPosition=\"right\" target=\"_blank\" href={url}>\n          {text}\n        </Button>\n      </StackItem>\n      {image.provider === AWS_PROVIDER && (\n        <StackItem>\n          <Bullseye>\n            <RegionsSelect composeID={image.id} provider={image.provider} currentRegion={currentImage.region} onChange={onRegionChange} />\n          </Bullseye>\n        </StackItem>\n      )}\n    </Stack>\n  );\n};\n\nDirectProviderLink.propTypes = {\n  image: imageProps,\n};\n\nexport default DirectProviderLink;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Button, EmptyState, EmptyStateBody, EmptyStateIcon, EmptyStateSecondaryActions, Title, Spinner } from '@patternfly/react-core';\nimport { PlusCircleIcon, ExclamationCircleIcon } from '@patternfly/react-icons';\n\nimport DirectProviderLink from './DirectProviderLink';\nimport { imageProps } from '../../helpers.js';\n\nconst failedToFetchTitle = 'Failed to fetch available sources.';\nconst missingSourceTitle = 'No sources available';\nconst missingSourceDescription =\n  'There are no sources available for use with this image. ' +\n  'Create a source, grant an existing source launch functionality, ' +\n  'or launch directly from the cloud provider console.';\n// TODO: enable once documentation is available.\n// Learn more about launching images [external link icon].\n\nconst LoadingState = () => (\n  <EmptyState>\n    <EmptyStateIcon variant=\"container\" component={Spinner} />\n    <Title size=\"lg\" headingLevel=\"h4\">\n      Loading available Sources\n    </Title>\n  </EmptyState>\n);\n\nconst SourceMissing = ({ error, image }) => (\n  <EmptyState>\n    <EmptyStateIcon icon={error ? ExclamationCircleIcon : PlusCircleIcon} />\n    <Title headingLevel=\"h4\" size=\"lg\">\n      {(error && failedToFetchTitle) || missingSourceTitle}\n    </Title>\n    <EmptyStateBody>{error || missingSourceDescription}</EmptyStateBody>\n    <Button variant=\"primary\" component=\"a\" target=\"_blank\" href=\"/settings/sources/new\">\n      Create Source\n    </Button>\n    <EmptyStateSecondaryActions>\n      <DirectProviderLink image={image} />\n    </EmptyStateSecondaryActions>\n  </EmptyState>\n);\n\nSourceMissing.propTypes = {\n  error: PropTypes.string,\n  image: imageProps,\n};\n\nconst LoadingWrapper = ({ isLoading, ...props }) => (isLoading ? <LoadingState /> : <SourceMissing {...props} />);\n\nLoadingWrapper.propTypes = {\n  error: PropTypes.string,\n  isLoading: PropTypes.bool,\n  image: imageProps,\n};\n\nexport default LoadingWrapper;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Alert, Select, SelectOption, Spinner } from '@patternfly/react-core';\n\nimport { imageProps } from '../ProvisioningWizard/helpers';\nimport { useSourcesForImage } from '../Common/Hooks/sources';\nimport { useWizardContext } from '../Common/WizardContext';\n\nconst SourcesSelect = ({ setValidation, image }) => {\n  const [{ chosenSource }, setWizardContext] = useWizardContext();\n  const [isOpen, setIsOpen] = React.useState(false);\n  const [selected, setSelected] = React.useState(null);\n  const selectObject = (id, name) => ({\n    id,\n    toString: () => name,\n    compareTo: (other) => other.id === id,\n  });\n  const { isLoading, error, sources } = useSourcesForImage(image, {\n    onSuccess: (sources) => {\n      if (chosenSource) {\n        setSelected(selectObject(chosenSource, sources.find((source) => source.id === chosenSource).name));\n        setValidation('success');\n      } else if (sources.length === 1) {\n        setSelected(selectObject(sources[0].id, sources[0].name));\n        setWizardContext((prevState) => ({\n          ...prevState,\n          chosenSource: sources[0].id,\n        }));\n        setValidation('success');\n      }\n    },\n  });\n\n  const onSelect = (event, selection, isPlaceholder) => {\n    if (isPlaceholder) {\n      setSelected(null);\n      setWizardContext((prevState) => ({ ...prevState, chosenSource: null }));\n      setValidation('error');\n    } else {\n      setSelected(selection);\n      setWizardContext((prevState) => ({\n        ...prevState,\n        chosenSource: selection.id,\n      }));\n      setValidation('success');\n    }\n    setIsOpen(false);\n  };\n\n  const selectItemsMapper = () =>\n    sources.map(({ name, id }) => <SelectOption aria-label=\"Source account\" key={id} value={selectObject(id, name)}></SelectOption>);\n\n  if (error) {\n    console.warn('Failed to fetch sources list');\n    return (\n      <>\n        <Alert ouiaId=\"select_account_alert\" variant=\"warning\" isInline title=\"There are problems fetching accounts\" />\n        <Select ouiaId=\"select_account_empty\" isDisabled placeholderText=\"No accounts found\" aria-label=\"Select account\" />\n      </>\n    );\n  }\n\n  if (isLoading) {\n    return <Spinner isSVG size=\"sm\" aria-label=\"Loading accounts\" />;\n  }\n\n  return (\n    <Select\n      ouiaId=\"select_account\"\n      isOpen={isOpen}\n      onToggle={(openState) => setIsOpen(openState)}\n      selections={selected}\n      // TODO decide if to disable the select\n      // isDisabled={sources?.length === 1}\n      onSelect={onSelect}\n      placeholderText=\"Select account\"\n      aria-label=\"Select account\"\n    >\n      {sources && selectItemsMapper()}\n    </Select>\n  );\n};\n\nSourcesSelect.propTypes = {\n  setValidation: PropTypes.func.isRequired,\n  image: imageProps,\n};\n\nexport default SourcesSelect;\n","import React from 'react';\nimport { NumberInput } from '@patternfly/react-core';\nimport { useWizardContext } from '../Common/WizardContext';\nimport { MAX_INSTANCES, MIN_INSTANCES } from './constants';\n\nconst InstanceCounter = () => {\n  const [{ chosenNumOfInstances }, setWizardContext] = useWizardContext();\n\n  const onMinus = () => {\n    const newValue = chosenNumOfInstances - 1;\n    setWizardContext((prevState) => ({\n      ...prevState,\n      chosenNumOfInstances: newValue,\n    }));\n  };\n\n  const onChange = (event) => {\n    let input = Math.floor(Number(event.target.value));\n    if (input > MAX_INSTANCES) {\n      input = MAX_INSTANCES;\n    }\n    if (input < MIN_INSTANCES) {\n      input = MIN_INSTANCES;\n    }\n    setWizardContext((prevState) => ({\n      ...prevState,\n      chosenNumOfInstances: input,\n    }));\n  };\n\n  const onPlus = () => {\n    const newValue = chosenNumOfInstances + 1;\n    setWizardContext((prevState) => ({\n      ...prevState,\n      chosenNumOfInstances: newValue,\n    }));\n  };\n\n  return (\n    <NumberInput\n      max={MAX_INSTANCES}\n      min={MIN_INSTANCES}\n      value={chosenNumOfInstances}\n      onMinus={onMinus}\n      onChange={onChange}\n      onPlus={onPlus}\n      inputName=\"instances\"\n      inputAriaLabel=\"number of instances\"\n      minusBtnAriaLabel=\"instances-minus\"\n      plusBtnAriaLabel=\"instances-plus\"\n    />\n  );\n};\nexport default InstanceCounter;\n","export const MAX_INSTANCES = 45;\nexport const MIN_INSTANCES = 1;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Alert, Spinner, Select, SelectOption, TextInput } from '@patternfly/react-core';\nimport { useQuery } from 'react-query';\nimport { fetchInstanceTypesList } from '../../API';\nimport { useWizardContext } from '../Common/WizardContext';\n\nconst OPTIONS_PER_SCREEN = 5;\nconst sanitizeSearchValue = (str) => str.replace(/\\\\+$/, '');\n\nconst InstanceTypesSelect = ({ setValidation, architecture }) => {\n  const [{ chosenInstanceType, chosenRegion, chosenSource, provider }, setWizardContext] = useWizardContext();\n  const [isOpen, setIsOpen] = React.useState(false);\n  const [numOptions, setNumOptions] = React.useState(OPTIONS_PER_SCREEN);\n  const [filteredTypes, setFilteredTypes] = React.useState(null);\n  const [prevSearch, setPrevSearch] = React.useState('');\n  const [isTypeSupported, setTypeSupported] = React.useState(true);\n  const {\n    isLoading,\n    error,\n    data: instanceTypes,\n  } = useQuery(['instanceTypes', chosenRegion], () => fetchInstanceTypesList(chosenRegion, provider), {\n    select: (types) => types.filter((type) => type.architecture === architecture),\n    enabled: !!chosenRegion && !!chosenSource,\n  });\n\n  if (!chosenSource || chosenSource === '') {\n    return (\n      <>\n        <TextInput\n          ouiaId=\"instance_type_readonly\"\n          className=\"pf-c-form-control\"\n          readOnly\n          type=\"text\"\n          value=\"Select account to load instances\"\n          id=\"input-readonly\"\n          aria-label=\"Select instance type - disabled\"\n        />\n      </>\n    );\n  }\n\n  const onSelect = (event, selection, isPlaceholder) => {\n    if (isPlaceholder) {\n      clearSelection();\n    } else {\n      const chosenInstanceType = instanceTypes.find((instanceType) => selection === instanceType.name);\n      setTypeSupported(chosenInstanceType.supported);\n      setWizardContext((prevState) => ({\n        ...prevState,\n        chosenInstanceType: selection,\n      }));\n      setValidation('success');\n      setIsOpen(false);\n    }\n  };\n\n  const clearSelection = () => {\n    setValidation('error');\n    setTypeSupported(true);\n    setWizardContext((prevState) => ({\n      ...prevState,\n      chosenInstanceType: null,\n    }));\n    setIsOpen(false);\n  };\n\n  const onFilter = (_e, inputValue) => {\n    const search = sanitizeSearchValue(inputValue);\n    if (prevSearch !== search) {\n      setNumOptions(OPTIONS_PER_SCREEN);\n      setPrevSearch(search);\n      setFilteredTypes(instanceTypes.filter((i) => i.name.includes(search)));\n    }\n  };\n\n  const selectItemsMapper = (types, limit) => {\n    if (limit < types?.length) types = types.slice(0, limit);\n    return types?.map((instanceType, index) => (\n      <SelectOption\n        aria-label={`Instance Type ${instanceType.name}`}\n        key={index}\n        description={`${instanceType.cores || 'only vCPU'} cores |\n          ${instanceType.vcpus} vCPU |\n          ${(parseFloat(instanceType.memory_mib) / 1024).toFixed(1)} GiB memory |\n          ${instanceType.storage_gb > 0 ? instanceType.storage_gb + ' GB storage | ' : 'EBS only | '}\n          ${instanceType.architecture}`}\n        value={instanceType.name}\n      />\n    ));\n  };\n\n  const onToggle = (isOpen) => {\n    setIsOpen(isOpen);\n  };\n\n  if (error) {\n    console.warn('Failed to fetch instance types list');\n    return (\n      <>\n        <Alert ouiaId=\"instance_type_alert\" variant=\"warning\" isInline title=\"There are problems fetching instance types\" />\n        <Select ouiaId=\"instance_type_empty\" isDisabled placeholderText=\"No instance types found\" toggleAriaLabel=\"Select instance type\" />\n      </>\n    );\n  }\n  if (isLoading) {\n    return <Spinner isSVG size=\"sm\" aria-label=\"Contents of the small example\" />;\n  }\n\n  const types = filteredTypes || instanceTypes;\n\n  return (\n    <>\n      {!isTypeSupported && (\n        <Alert\n          data-testid=\"unsupported_type_alert\"\n          ouiaId=\"instance_type_not_supported_alert\"\n          variant=\"warning\"\n          isInline\n          title=\"Warning: The selected specification does not meet minimum requirements for this image.\"\n        />\n      )}\n      <Select\n        ouiaId=\"select_instance_type\"\n        variant=\"typeahead\"\n        typeAheadAriaLabel=\"Selected instance type\"\n        toggleAriaLabel=\"Select instance type\"\n        placeholderText=\"Select instance type\"\n        maxHeight=\"450px\"\n        isOpen={isOpen}\n        selections={chosenInstanceType}\n        onToggle={onToggle}\n        onSelect={onSelect}\n        onFilter={onFilter}\n        {...(numOptions < types?.length && {\n          loadingVariant: {\n            text: `View more (${types.length - numOptions})`,\n            onClick: () => setNumOptions(numOptions + OPTIONS_PER_SCREEN),\n          },\n        })}\n      >\n        {selectItemsMapper(types, numOptions)}\n      </Select>\n    </>\n  );\n};\n\nInstanceTypesSelect.propTypes = {\n  setValidation: PropTypes.func.isRequired,\n  architecture: PropTypes.string.isRequired,\n};\n\nexport default InstanceTypesSelect;\n","import React from 'react';\nimport { Alert, Select, SelectOption, Spinner } from '@patternfly/react-core';\nimport { useQuery } from 'react-query';\n\nimport { useWizardContext } from '../Common/WizardContext';\nimport { fetchLaunchTemplates } from '../../API';\n\nconst TemplatesSelect = () => {\n  const [{ chosenSource, chosenRegion, chosenTemplate }, setWizardContext] = useWizardContext();\n  const [isOpen, setIsOpen] = React.useState(false);\n\n  const {\n    error,\n    isLoading,\n    data: templates,\n  } = useQuery(['Templates', `${chosenRegion}-${chosenSource}`], () => fetchLaunchTemplates(chosenSource, chosenRegion), {\n    enabled: !!chosenSource && !!chosenRegion,\n  });\n\n  const onSelect = (_, selectedTemplate, isPlaceholder) => {\n    if (!isPlaceholder) {\n      setWizardContext((prevState) => ({ ...prevState, chosenTemplate: templates.find((template) => template.name === selectedTemplate)?.id }));\n    }\n    setIsOpen(false);\n  };\n\n  const selectItemsMapper = () => templates.map(({ name, id }) => <SelectOption aria-label=\"template option\" key={id} value={name}></SelectOption>);\n  const chosenTemplateName = chosenTemplate && templates.find((template) => template.id === chosenTemplate)?.name;\n  if (error) {\n    return (\n      <>\n        <Alert ouiaId=\"select_template_alert\" variant=\"warning\" isInline title=\"There are problems fetching templates\" />\n        <Select ouiaId=\"select_template_empty\" isDisabled placeholderText=\"No templates found\" aria-label=\"Select template\" />\n      </>\n    );\n  }\n\n  if (isLoading) {\n    return <Spinner isSVG size=\"sm\" aria-label=\"Loading templates\" />;\n  }\n\n  return (\n    <Select\n      ouiaId=\"select_templates\"\n      isOpen={isOpen}\n      onToggle={(openState) => setIsOpen(openState)}\n      selections={chosenTemplateName}\n      onSelect={onSelect}\n      placeholderText=\"Select templates\"\n      aria-label=\"Select templates\"\n    >\n      {templates && selectItemsMapper()}\n    </Select>\n  );\n};\n\nexport default TemplatesSelect;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Form, FormGroup, Popover, Title, Text, Button } from '@patternfly/react-core';\nimport HelpIcon from '@patternfly/react-icons/dist/esm/icons/help-icon';\nimport { useFlag } from '@unleash/proxy-client-react';\n\nimport { AWS_PROVIDER } from '../../../../constants';\nimport { imageProps } from '../../helpers';\nimport SourcesSelect from '../../../SourcesSelect';\nimport InstanceCounter from '../../../InstanceCounter';\nimport InstanceTypesSelect from '../../../InstanceTypesSelect';\nimport RegionsSelect from '../../../RegionsSelect';\nimport { useWizardContext } from '../../../Common/WizardContext';\nimport TemplatesSelect from '../../../TemplateSelect';\n\nconst AccountCustomizationsAWS = ({ setStepValidated, image }) => {\n  const [{ chosenSource, chosenRegion, chosenInstanceType }, setWizardContext] = useWizardContext();\n  const [validations, setValidation] = React.useState({\n    sources: chosenSource ? 'success' : 'default',\n    types: chosenInstanceType ? 'success' : 'default',\n  });\n  const templateFlag = useFlag('provisioning.aws.templates');\n\n  const onRegionChange = ({ region, imageID }) => {\n    setWizardContext((prevState) => ({\n      ...prevState,\n      chosenRegion: region,\n      chosenImageID: imageID,\n    }));\n  };\n\n  React.useEffect(() => {\n    // This effect checks if the entire step is validated\n    const errorExists = Object.values(validations).some((valid) => valid !== 'success');\n    setStepValidated(!errorExists);\n  }, [validations]);\n\n  return (\n    <Form>\n      <Title ouiaId=\"account_custom_title\" headingLevel=\"h1\" size=\"xl\">\n        Account and customizations | Amazon\n      </Title>\n      <Text ouiaId=\"account_custom_description\">\n        Configure instances that will run on your AWS. All the instances will launch with the same configuration.\n      </Text>\n      <FormGroup\n        label=\"Select account\"\n        validated={validations.sources}\n        helperTextInvalid=\"Please pick a value\"\n        isRequired\n        fieldId=\"aws-select-source\"\n      >\n        <SourcesSelect\n          image={image}\n          setValidation={(validation) =>\n            setValidation((prevValidations) => ({\n              ...prevValidations,\n              sources: validation,\n            }))\n          }\n        />\n      </FormGroup>\n      <FormGroup\n        label=\"Select region\"\n        isRequired\n        fieldId=\"aws-select-region\"\n        labelIcon={\n          <Popover bodyContent=\"Select available geographical region\">\n            <Button\n              ouiaId=\"region_help\"\n              type=\"button\"\n              aria-label=\"More info for regions field\"\n              onClick={(e) => e.preventDefault()}\n              aria-describedby=\"aws-select-region\"\n              className=\"pf-c-form__group-label-help\"\n              variant=\"plain\"\n            >\n              <HelpIcon noVerticalAlign />\n            </Button>\n          </Popover>\n        }\n      >\n        <RegionsSelect provider={AWS_PROVIDER} onChange={onRegionChange} composeID={image.id} currentRegion={chosenRegion} />\n      </FormGroup>\n      {templateFlag && (\n        <FormGroup\n          label=\"Select template\"\n          fieldId=\"aws-select-template\"\n          labelIcon={\n            <Popover\n              bodyContent={\n                <span>\n                  Launch templates contains the configuration information to launch an instance. Note that instance type and public SSH key will be\n                  still required and will override template values. For further information and for creating launch templates{' '}\n                  <a rel=\"noreferrer\" target=\"_blank\" href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-launch-templates.html\">\n                    click here\n                  </a>\n                </span>\n              }\n            >\n              <Button\n                ouiaId=\"template_help\"\n                type=\"button\"\n                aria-label=\"template field info\"\n                onClick={(e) => e.preventDefault()}\n                aria-describedby=\"aws-select-template\"\n                className=\"pf-c-form__group-label-help\"\n                variant=\"plain\"\n              >\n                <HelpIcon noVerticalAlign />\n              </Button>\n            </Popover>\n          }\n        >\n          <TemplatesSelect />\n        </FormGroup>\n      )}\n      <FormGroup\n        label=\"Select instance type\"\n        isRequired\n        helperTextInvalid=\"Please pick a value\"\n        fieldId=\"aws-select-instance-types\"\n        labelIcon={\n          <Popover\n            bodyContent=\"Select AWS instance type based on your computing,\n           memory, networking, or storage needs\"\n          >\n            <Button\n              ouiaId=\"instance_type_help\"\n              type=\"button\"\n              aria-label=\"More info for instance types field\"\n              onClick={(e) => e.preventDefault()}\n              aria-describedby=\"aws-select-instance-types\"\n              className=\"pf-c-form__group-label-help\"\n              variant=\"plain\"\n            >\n              <HelpIcon noVerticalAlign />\n            </Button>\n          </Popover>\n        }\n      >\n        <InstanceTypesSelect\n          architecture={image.architecture}\n          setValidation={(validation) =>\n            setValidation((prevValidations) => ({\n              ...prevValidations,\n              types: validation,\n            }))\n          }\n        />\n      </FormGroup>\n      <FormGroup\n        label=\"Count\"\n        isRequired\n        fieldId=\"aws-select-instance-counter\"\n        labelIcon={\n          <Popover bodyContent=\"Specify the number of AWS instances to be launched\">\n            <Button\n              ouiaId=\"instance_count_help\"\n              type=\"button\"\n              aria-label=\"More info for instance counter field\"\n              onClick={(e) => e.preventDefault()}\n              aria-describedby=\"aws-select-instance-counter\"\n              className=\"pf-c-form__group-label-help\"\n              variant=\"plain\"\n            >\n              <HelpIcon noVerticalAlign />\n            </Button>\n          </Popover>\n        }\n      >\n        <InstanceCounter />\n      </FormGroup>\n    </Form>\n  );\n};\n\nAccountCustomizationsAWS.propTypes = {\n  setStepValidated: PropTypes.func.isRequired,\n  image: imageProps,\n};\n\nexport default AccountCustomizationsAWS;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Form, FormGroup, Popover, Title, Text, Button } from '@patternfly/react-core';\nimport HelpIcon from '@patternfly/react-icons/dist/esm/icons/help-icon';\n\nimport { GCP_PROVIDER } from '../../../../constants';\nimport { imageProps } from '../../helpers';\nimport SourcesSelect from '../../../SourcesSelect';\nimport InstanceCounter from '../../../InstanceCounter';\nimport InstanceTypesSelect from '../../../InstanceTypesSelect';\nimport RegionsSelect from '../../../RegionsSelect';\nimport { useWizardContext } from '../../../Common/WizardContext';\n\nconst AccountCustomizationsGCP = ({ setStepValidated, image }) => {\n  const [wizardContext, setWizardContext] = useWizardContext();\n  const [validations, setValidation] = React.useState({\n    sources: wizardContext.chosenSource ? 'success' : 'default',\n    types: wizardContext.chosenInstanceType ? 'success' : 'default',\n  });\n\n  React.useEffect(() => {\n    // This effect checks if the entire step is validated\n    const errorExists = Object.values(validations).some((valid) => valid !== 'success');\n    setStepValidated(!errorExists);\n  }, [validations]);\n\n  const onRegionChange = ({ region, imageID }) => {\n    setWizardContext((prevState) => ({\n      ...prevState,\n      chosenRegion: region,\n      chosenImageID: imageID,\n    }));\n  };\n\n  return (\n    <Form>\n      <Title ouiaId=\"account_custom_title\" headingLevel=\"h1\" size=\"xl\">\n        Account and customizations | Google cloud\n      </Title>\n      <Text ouiaId=\"account_custom_description\">\n        Configure instances that will run on your Google cloud. All the instances will launch with the same configuration.\n      </Text>\n      <FormGroup\n        label=\"Select account\"\n        validated={validations.sources}\n        helperTextInvalid=\"Please pick a value\"\n        isRequired\n        fieldId=\"gcp-select-source\"\n      >\n        <SourcesSelect\n          image={image}\n          setValidation={(validation) =>\n            setValidation((prevValidations) => ({\n              ...prevValidations,\n              sources: validation,\n            }))\n          }\n        />\n      </FormGroup>\n      <FormGroup\n        label=\"Select zone\"\n        isRequired\n        fieldId=\"gcp-select-zone\"\n        labelIcon={\n          <Popover headerContent={<div>GCP zones</div>}>\n            <Button\n              ouiaId=\"zone_help\"\n              type=\"button\"\n              aria-label=\"More info for zones field\"\n              onClick={(e) => e.preventDefault()}\n              aria-describedby=\"gcp-select-zone\"\n              className=\"pf-c-form__group-label-help\"\n              variant=\"plain\"\n            >\n              <HelpIcon noVerticalAlign />\n            </Button>\n          </Popover>\n        }\n      >\n        <RegionsSelect provider={GCP_PROVIDER} onChange={onRegionChange} composeID={image.id} currentRegion={wizardContext.chosenRegion} />\n      </FormGroup>\n      <FormGroup\n        label=\"Select machine type\"\n        isRequired\n        helperTextInvalid=\"Please pick a value\"\n        fieldId=\"gcp-select-machine-types\"\n        labelIcon={\n          <Popover headerContent={<div>GCP machine types</div>}>\n            <Button\n              ouiaId=\"machine_type_help\"\n              type=\"button\"\n              aria-label=\"More info for machine types field\"\n              onClick={(e) => e.preventDefault()}\n              aria-describedby=\"gcp-select-machine-types\"\n              className=\"pf-c-form__group-label-help\"\n              variant=\"plain\"\n            >\n              <HelpIcon noVerticalAlign />\n            </Button>\n          </Popover>\n        }\n      >\n        <InstanceTypesSelect\n          architecture={image.architecture}\n          setValidation={(validation) =>\n            setValidation((prevValidations) => ({\n              ...prevValidations,\n              types: validation,\n            }))\n          }\n        />\n      </FormGroup>\n      <FormGroup\n        label=\"Count\"\n        isRequired\n        fieldId=\"gcp-select-instance-counter\"\n        labelIcon={\n          <Popover headerContent={<div>Number of GCP instances</div>}>\n            <Button\n              ouiaId=\"instance_count_help\"\n              type=\"button\"\n              aria-label=\"More info for instance counter field\"\n              onClick={(e) => e.preventDefault()}\n              aria-describedby=\"gcp-select-instance-counter\"\n              className=\"pf-c-form__group-label-help\"\n              variant=\"plain\"\n            >\n              <HelpIcon noVerticalAlign />\n            </Button>\n          </Popover>\n        }\n      >\n        <InstanceCounter />\n      </FormGroup>\n    </Form>\n  );\n};\n\nAccountCustomizationsGCP.propTypes = {\n  setStepValidated: PropTypes.func.isRequired,\n  image: imageProps,\n};\nexport default AccountCustomizationsGCP;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Form, FormGroup, Popover, Title, Text, Button } from '@patternfly/react-core';\nimport HelpIcon from '@patternfly/react-icons/dist/esm/icons/help-icon';\n\nimport { AZURE_PROVIDER } from '../../../../constants';\nimport { imageProps } from '../../helpers';\nimport SourcesSelect from '../../../SourcesSelect';\nimport InstanceCounter from '../../../InstanceCounter';\nimport InstanceTypesSelect from '../../../InstanceTypesSelect';\nimport RegionsSelect from '../../../RegionsSelect';\nimport { useWizardContext } from '../../../Common/WizardContext';\n\nconst AccountCustomizationsAzure = ({ setStepValidated, image }) => {\n  const [wizardContext, setWizardContext] = useWizardContext();\n  const [validations, setValidation] = React.useState({\n    sources: wizardContext.chosenSource ? 'success' : 'default',\n    types: wizardContext.chosenInstanceType ? 'success' : 'default',\n  });\n\n  React.useEffect(() => {\n    // This effect checks if the entire step is validated\n    const errorExists = Object.values(validations).some((valid) => valid !== 'success');\n    setStepValidated(!errorExists);\n  }, [validations]);\n\n  const onRegionChange = ({ region, imageID }) => {\n    setWizardContext((prevState) => ({\n      ...prevState,\n      chosenRegion: region,\n      chosenImageID: imageID,\n    }));\n  };\n\n  return (\n    <Form>\n      <Title ouiaId=\"account_custom_title\" headingLevel=\"h1\" size=\"xl\">\n        Account and customizations | Azure\n      </Title>\n      <Text ouiaId=\"account_custom_description\">\n        Configure instances that will run on your Azure cloud. All the instances will launch with the same configuration.\n      </Text>\n      <FormGroup\n        label=\"Select account\"\n        validated={validations.sources}\n        helperTextInvalid=\"Please pick a value\"\n        isRequired\n        fieldId=\"azure-select-source\"\n      >\n        <SourcesSelect\n          image={image}\n          setValidation={(validation) =>\n            setValidation((prevValidations) => ({\n              ...prevValidations,\n              sources: validation,\n            }))\n          }\n        />\n      </FormGroup>\n      <FormGroup\n        label=\"Select location\"\n        isRequired\n        fieldId=\"azure-select-location\"\n        labelIcon={\n          <Popover headerContent={<div>Azure locations</div>}>\n            <Button\n              ouiaId=\"location_help\"\n              type=\"button\"\n              aria-label=\"More info for location field\"\n              onClick={(e) => e.preventDefault()}\n              aria-describedby=\"azure-select-location\"\n              className=\"pf-c-form__group-label-help\"\n              variant=\"plain\"\n            >\n              <HelpIcon noVerticalAlign />\n            </Button>\n          </Popover>\n        }\n      >\n        <RegionsSelect provider={AZURE_PROVIDER} currentRegion={wizardContext.chosenRegion} onChange={onRegionChange} composeID={image.id} />\n      </FormGroup>\n      <FormGroup\n        label=\"Select instance size\"\n        isRequired\n        helperTextInvalid=\"Please pick a value\"\n        fieldId=\"azure-select-instance-size\"\n        labelIcon={\n          <Popover headerContent={<div>Azure instance sizes</div>}>\n            <Button\n              ouiaId=\"machine_type_help\"\n              type=\"button\"\n              aria-label=\"More info for instance size field\"\n              onClick={(e) => e.preventDefault()}\n              aria-describedby=\"azure-select-instance-size\"\n              className=\"pf-c-form__group-label-help\"\n              variant=\"plain\"\n            >\n              <HelpIcon noVerticalAlign />\n            </Button>\n          </Popover>\n        }\n      >\n        <InstanceTypesSelect\n          architecture={image.architecture}\n          setValidation={(validation) =>\n            setValidation((prevValidations) => ({\n              ...prevValidations,\n              types: validation,\n            }))\n          }\n        />\n      </FormGroup>\n      <FormGroup\n        label=\"Count\"\n        isRequired\n        fieldId=\"azure-select-instance-counter\"\n        labelIcon={\n          <Popover headerContent={<div>Number of Azure instances</div>}>\n            <Button\n              ouiaId=\"instance_count_help\"\n              type=\"button\"\n              aria-label=\"More info for instance counter field\"\n              onClick={(e) => e.preventDefault()}\n              aria-describedby=\"azure-select-instance-counter\"\n              className=\"pf-c-form__group-label-help\"\n              variant=\"plain\"\n            >\n              <HelpIcon noVerticalAlign />\n            </Button>\n          </Popover>\n        }\n      >\n        <InstanceCounter />\n      </FormGroup>\n    </Form>\n  );\n};\n\nAccountCustomizationsAzure.propTypes = {\n  setStepValidated: PropTypes.func.isRequired,\n  image: imageProps,\n};\nexport default AccountCustomizationsAzure;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { AWS_PROVIDER, AZURE_PROVIDER, GCP_PROVIDER } from '../../../Common/constants';\nimport { imageProps } from '../../helpers';\nimport { defaultRegionByProvider } from '../../../Common/helpers';\nimport { useWizardContext } from '../../../Common/WizardContext';\nimport AWS from './aws';\nimport GCP from './gcp';\nimport Azure from './azure';\n\nconst AccountCustomizations = ({ setStepValidated, image }) => {\n  const [, setWizardContext] = useWizardContext();\n  const provider = image.provider;\n\n  React.useEffect(() => {\n    provider &&\n      setWizardContext((prevState) => ({\n        ...prevState,\n        provider,\n        chosenRegion: defaultRegionByProvider(provider),\n        chosenImageID: image.id,\n      }));\n  }, [provider, setWizardContext]);\n\n  switch (provider) {\n    case AWS_PROVIDER:\n      return <AWS setStepValidated={setStepValidated} image={image} />;\n    case AZURE_PROVIDER:\n      return <Azure setStepValidated={setStepValidated} image={image} />;\n    case GCP_PROVIDER:\n      return <GCP setStepValidated={setStepValidated} image={image} />;\n    default:\n      throw new Error(`Can not render AccountCustomizations for unrecognized provider: ${provider}`);\n  }\n};\n\nAccountCustomizations.propTypes = {\n  setStepValidated: PropTypes.func.isRequired,\n  image: imageProps,\n};\n\nexport default AccountCustomizations;\n","import { AWS_PROVIDER, AZURE_PROVIDER } from '../../../../constants';\n\nexport const PF_SUCCESS_100 = '#3E8635';\nexport const PF_DANGER_100 = '#C9190B';\n\nexport const POLLING_BACKOFF_INTERVAL = [\n  500, 600, 700, 800, 900, 1000, 1200, 1400, 1600, 1800, 2000, 3000, 4000, 5000, 10000, 15000, 20000, 25000, 30000, 60000,\n];\n\nexport const AWS_STEPS = [\n  { name: 'Create reservation', description: `Submit requested data` },\n  {\n    name: 'Transfer keys',\n    description: 'Uploading public key to AWS',\n  },\n  { name: 'Launch instance(s)', description: 'Call AWS API for launching instance(s)' },\n  { name: 'Instance description', description: 'Fetch instance(s) descriptions' },\n];\n\nexport const AZURE_STEPS = [\n  { name: 'Create reservation', description: `Submit data of requested instances` },\n  { name: 'Ensure resource group', description: 'Ensure resource group is present on Azure account' },\n  { name: 'Launch instance(s)', description: 'Launch defined instance(s) on Azure' },\n];\n\nexport const GCP_STEPS = [\n  { name: 'Create reservation', description: `Submit requested data` },\n  { name: 'Launch instance(s)', description: 'Call Google API' },\n];\n\nexport const SSH_STEP = [{ name: 'New SSH key', description: 'Creating new SSH public key resource' }];\n\nexport const PROVIDERS_INSTANCES_SUPPORT = [AWS_PROVIDER, AZURE_PROVIDER];\n","import { AWS_PROVIDER, AZURE_PROVIDER, GCP_PROVIDER } from '../../../Common/constants';\nimport { AWS_STEPS, AZURE_STEPS, GCP_STEPS } from './constants';\n\nexport const mapCurrentVariant = (step, currentStep, currentError, currentWarning) => {\n  if (step < currentStep) return 'success';\n  if (step === currentStep && currentError) return 'danger';\n  if (step === currentStep && currentWarning) return 'warning';\n  if (step === currentStep) return 'info';\n  if (step > currentStep) return 'pending';\n};\n\nexport const stepsByProvider = (provider) => {\n  switch (provider) {\n    case AWS_PROVIDER:\n      return AWS_STEPS;\n    case AZURE_PROVIDER:\n      return AZURE_STEPS;\n    case GCP_PROVIDER:\n      return GCP_STEPS;\n    default:\n      throw new Error(`Steps requested for unknown provider: ${provider}`);\n  }\n};\n\nexport const instanceType = (provider) => {\n  switch (provider) {\n    case AWS_PROVIDER:\n      return 'instance_type';\n    case AZURE_PROVIDER:\n      return 'instance_size';\n    case GCP_PROVIDER:\n      return 'machine_type';\n    default:\n      return 'instance_type';\n  }\n};\n\nexport const region = (provider) => {\n  switch (provider) {\n    case AWS_PROVIDER:\n      return 'region';\n    case GCP_PROVIDER:\n      return 'zone';\n    default:\n      return 'region';\n  }\n};\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { ExpandableSection, DescriptionList, DescriptionListTerm, DescriptionListGroup, DescriptionListDescription } from '@patternfly/react-core';\n\nimport { useSourcesData } from '../Common/Hooks/sources';\nimport { useWizardContext } from '../Common/WizardContext';\nimport { instanceType, region } from '../ProvisioningWizard/steps/ReservationProgress/helpers';\n\nconst LaunchDescriptionList = ({ imageName }) => {\n  const [{ chosenRegion, chosenSshKeyName, uploadedKey, chosenInstanceType, chosenNumOfInstances, chosenSource, sshPublicName, provider }] =\n    useWizardContext();\n  const { sources } = useSourcesData(provider);\n  const [isExpanded, setIsExpanded] = React.useState(true);\n  const onToggle = (isExpanded) => {\n    setIsExpanded(isExpanded);\n  };\n\n  const getChosenSourceName = () => sources?.find((source) => source.id === chosenSource).name;\n  const regionLabel = region(provider).charAt(0).toUpperCase() + region(provider).slice(1);\n  const providerInstanceType = instanceType(provider).replace('_', ' ');\n  const instanceTypeLabel = providerInstanceType.charAt(0).toUpperCase() + providerInstanceType.slice(1);\n\n  return (\n    <ExpandableSection toggleText={provider} onToggle={onToggle} isExpanded={isExpanded} isIndented>\n      <DescriptionList isHorizontal>\n        <DescriptionListGroup>\n          <DescriptionListTerm>Image</DescriptionListTerm>\n          <DescriptionListDescription>{imageName}</DescriptionListDescription>\n        </DescriptionListGroup>\n        <DescriptionListGroup>\n          <DescriptionListTerm>Account</DescriptionListTerm>\n          <DescriptionListDescription>{getChosenSourceName()}</DescriptionListDescription>\n        </DescriptionListGroup>\n        <DescriptionListGroup>\n          <DescriptionListTerm>{regionLabel}</DescriptionListTerm>\n          <DescriptionListDescription>{chosenRegion}</DescriptionListDescription>\n        </DescriptionListGroup>\n        <DescriptionListGroup>\n          <DescriptionListTerm>{instanceTypeLabel}</DescriptionListTerm>\n          <DescriptionListDescription>{chosenInstanceType}</DescriptionListDescription>\n        </DescriptionListGroup>\n        <DescriptionListGroup>\n          <DescriptionListTerm>Count</DescriptionListTerm>\n          <DescriptionListDescription>{chosenNumOfInstances}</DescriptionListDescription>\n        </DescriptionListGroup>\n        <DescriptionListGroup>\n          <DescriptionListTerm>{uploadedKey ? 'New SSH key' : 'Existing SSH key'}</DescriptionListTerm>\n          <DescriptionListDescription>{uploadedKey ? sshPublicName : chosenSshKeyName}</DescriptionListDescription>\n        </DescriptionListGroup>\n      </DescriptionList>\n    </ExpandableSection>\n  );\n};\n\nLaunchDescriptionList.propTypes = {\n  imageName: PropTypes.string.isRequired,\n};\nexport default LaunchDescriptionList;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Title, Text } from '@patternfly/react-core';\nimport LaunchDescriptionList from '../../../LaunchDescriptionList';\n\nconst ReviewDetails = ({ imageName }) => {\n  return (\n    <div className=\"pf-c-form\">\n      <Title ouiaId=\"review_details_title\" headingLevel=\"h1\">\n        Review details\n      </Title>\n      <Text ouiaId=\"review_details_description\">\n        Review the information below and then click <b>Launch</b> to finish the process.\n      </Text>\n\n      <LaunchDescriptionList imageName={imageName} />\n    </div>\n  );\n};\n\nReviewDetails.propTypes = {\n  imageName: PropTypes.string.isRequired,\n};\nexport default ReviewDetails;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Alert, Select, SelectOption, Spinner } from '@patternfly/react-core';\nimport { useQuery } from 'react-query';\n\nimport { PUBKEYS_QUERY_KEY } from '../../../../API/queryKeys';\nimport { fetchPubkeysList } from '../../../../API';\nimport { useWizardContext } from '../../../Common/WizardContext';\n\nconst selectOptionObj = (id, name) => ({\n  id: id,\n  toString: () => name,\n  compareTo: (other) => other.id == id,\n});\n\nconst PubkeySelect = ({ setStepValidated }) => {\n  const [wizardContext, setWizardContext] = useWizardContext();\n  const [isOpen, setIsOpen] = React.useState(false);\n  const [selection, setSelection] = React.useState(\n    wizardContext.chosenSshKeyId ? selectOptionObj(wizardContext.chosenSshKeyId, wizardContext.chosenSshKeyName) : null\n  );\n\n  React.useEffect(() => {\n    setStepValidated(!!selection);\n  }, [selection]);\n\n  const { isLoading, isError, data: pubkeys } = useQuery(PUBKEYS_QUERY_KEY, fetchPubkeysList);\n\n  const onSelect = (event, value) => {\n    setWizardContext((prevState) => ({\n      ...prevState,\n      chosenSshKeyId: value.id,\n      chosenSshKeyName: value.toString(),\n    }));\n    setSelection(value);\n    setIsOpen(false);\n  };\n\n  if (isLoading) {\n    return <Spinner isSVG size=\"sm\" aria-label=\"Loading saved SSH keys\" />;\n  }\n\n  if (isError || (pubkeys && pubkeys.length < 1)) {\n    return (\n      <>\n        {isError && <Alert ouiaId=\"pubkey_alert\" variant=\"warning\" isInline title=\"There are problems fetching saved SSH keys\" />}\n        <Select ouiaId=\"pubkey_empty\" isDisabled placeholderText=\"No SSH key found\" aria-label=\"Select public key\" />\n      </>\n    );\n  }\n\n  return (\n    <Select\n      ouiaId=\"select_pubkey\"\n      onToggle={(isExpanded) => setIsOpen(isExpanded)}\n      onSelect={onSelect}\n      isOpen={isOpen}\n      selections={selection}\n      placeholderText=\"Select public key...\"\n      aria-label=\"Select public key\"\n    >\n      {pubkeys.map(({ id, name }) => (\n        <SelectOption aria-label={`Public key ${name}`} key={id} value={selectOptionObj(id, name)} />\n      ))}\n    </Select>\n  );\n};\n\nPubkeySelect.propTypes = {\n  setStepValidated: PropTypes.func.isRequired,\n};\n\nexport default PubkeySelect;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { FormGroup, TextInput, FileUpload } from '@patternfly/react-core';\nimport { useWizardContext } from '../../../Common/WizardContext';\n\n// This is a simple regex format for public ssh key\nconst PUBLIC_KEY_FORMAT = '^(ssh|ecdsa)';\nconst validatePublicKey = (ssh) => {\n  const regex = new RegExp(PUBLIC_KEY_FORMAT);\n  return regex.test(ssh);\n};\n\nconst NewSSHKeyForm = ({ setStepValidated }) => {\n  const [{ sshPublicName, sshPublicKey }, setWizardContext] = useWizardContext();\n  const [isLoading, setIsLoading] = React.useState();\n  const [validations, setValidation] = React.useState({\n    sshKeyBody: validatePublicKey(sshPublicKey) ? 'success' : 'default',\n    sshKeyName: sshPublicName ? 'success' : 'default',\n  });\n  const [keyName, setName] = React.useState(sshPublicName);\n  const [publicKey, setPublicKey] = React.useState(sshPublicKey);\n\n  React.useEffect(() => {\n    // This effect checks if the entire step is validated\n    const errorExists = Object.values(validations).some((valid) => valid !== 'success');\n    setStepValidated(!errorExists);\n  }, [validations]);\n\n  const updateValidation = (inputKey, value) =>\n    setValidation((prevValidations) => ({\n      ...prevValidations,\n      [inputKey]: value,\n    }));\n\n  const handleNameChange = (value) => {\n    setWizardContext((prevState) => ({ ...prevState, sshPublicName: value }));\n    setName(value);\n  };\n  const handleNameBlur = () => {\n    if (keyName.length === 0) {\n      updateValidation('sshKeyName', 'error');\n      return;\n    }\n    updateValidation('sshKeyName', 'success');\n  };\n  const handleSSHKeyChange = (value) => {\n    if (validatePublicKey(value)) {\n      setWizardContext((prevState) => ({\n        ...prevState,\n        sshPublicKey: value,\n      }));\n      setPublicKey(value);\n      updateValidation('sshKeyBody', 'success');\n    } else {\n      updateValidation('sshKeyBody', 'error');\n    }\n  };\n  const handleSSHKeyText = (text) => {\n    setWizardContext((prevState) => ({\n      ...prevState,\n      sshPublicKey: text,\n    }));\n    setPublicKey(text);\n  };\n  const handleSSHKeyTextBlur = () => {\n    if (publicKey === '') {\n      updateValidation('sshKeyBody', 'default');\n    } else {\n      updateValidation('sshKeyBody', validatePublicKey(publicKey) ? 'success' : 'error');\n    }\n  };\n\n  const handleClear = () => {\n    setWizardContext((prevState) => ({\n      ...prevState,\n      sshPublicName: undefined,\n      sshPublicKey: undefined,\n    }));\n    setPublicKey('');\n    updateValidation('sshKeyBody', 'default');\n  };\n\n  const handleFileReadStarted = () => {\n    setIsLoading(true);\n  };\n\n  const handleFileReadFinished = () => {\n    setIsLoading(false);\n  };\n  const handleFileReadFailed = () => {\n    setWizardContext((prevState) => ({\n      ...prevState,\n      sshPublicName: '<Failed to load the file>',\n    }));\n    updateValidation('sshKeyBody', 'error');\n  };\n\n  return (\n    <FormGroup isStack>\n      <FormGroup validated={validations.sshKeyName} helperTextInvalid=\"Name is required\" label=\"Name\" isRequired fieldId=\"ssh-name\">\n        <TextInput\n          ouiaId=\"new_pubkey_name\"\n          validated={validations.sshKeyName}\n          value={keyName}\n          id=\"public-key-name\"\n          onChange={handleNameChange}\n          onBlur={handleNameBlur}\n          type=\"text\"\n        />\n      </FormGroup>\n      <FormGroup\n        helperTextInvalid=\"Must be SSH public key format\"\n        label=\"SSH public key\"\n        isRequired\n        fieldId=\"ssh-file\"\n        validated={validations.sshKeyBody}\n      >\n        <FileUpload\n          // ouia not supported yet?\n          ouiaId=\"new_pubkey_file\"\n          id=\"public-key-value\"\n          onDataChange={handleSSHKeyChange}\n          allowEditingUploadedText\n          onTextChange={handleSSHKeyText}\n          onTextAreaBlur={handleSSHKeyTextBlur}\n          type=\"text\"\n          value={publicKey}\n          validated={validations.sshKeyBody}\n          onReadStarted={handleFileReadStarted}\n          onReadFinished={handleFileReadFinished}\n          onReadFailed={handleFileReadFailed}\n          onClearClick={handleClear}\n          isLoading={isLoading}\n          filenamePlaceholder=\"Drag a file here\"\n        />\n      </FormGroup>\n    </FormGroup>\n  );\n};\n\nNewSSHKeyForm.propTypes = {\n  setStepValidated: PropTypes.func.isRequired,\n};\nexport default NewSSHKeyForm;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Form, FormGroup, Radio, Text, Title } from '@patternfly/react-core';\nimport { useQuery } from 'react-query';\nimport { useWizardContext } from '../../../Common/WizardContext';\nimport PubkeySelect from './PubkeySelect';\nimport NewSSHKeyForm from './NewKeyForm';\nimport { PUBKEYS_QUERY_KEY } from '../../../../API/queryKeys';\nimport { fetchPubkeysList } from '../../../../API';\n\nconst EXIST_KEY_OPTION = 'existKey';\nconst NEW_KEY_OPTION = 'newKey';\n\nconst PublicKeys = ({ setStepValidated }) => {\n  const [wizardContext, setWizardContext] = useWizardContext();\n  const { isError, data: pubkeys } = useQuery(PUBKEYS_QUERY_KEY, fetchPubkeysList);\n  const [isSelectDisabled, disableSelect] = React.useState(false);\n\n  const switchTo = (optionKey) => {\n    setWizardContext((prevState) => ({\n      ...prevState,\n      uploadedKey: NEW_KEY_OPTION === optionKey,\n    }));\n  };\n\n  const onOptionChange = (_, event) => {\n    switchTo(event.currentTarget.value);\n  };\n\n  React.useEffect(() => {\n    if (isError || pubkeys?.length < 1) {\n      disableSelect(true);\n      switchTo(NEW_KEY_OPTION);\n    }\n  }, [isError, pubkeys]);\n\n  return (\n    <Form className=\"pubkeys\">\n      <Title ouiaId=\"pubkey_title\" headingLevel=\"h1\">\n        SSH keys authentication\n      </Title>\n      <Text ouiaId=\"pubkey_description\">Establish secure, reliable communication and strong encryption to protect data.</Text>\n      <FormGroup role=\"radiogroup\" isStack isRequired label=\"Select a method to add SSH pubic key\">\n        <Radio\n          id=\"existing-pubkey-radio\"\n          ouiaId=\"pubkey_radio\"\n          isChecked={!wizardContext.uploadedKey}\n          isDisabled={isSelectDisabled}\n          name=\"ssh-keys-radio\"\n          value={EXIST_KEY_OPTION}\n          onChange={onOptionChange}\n          label=\"Select existing SSH public key\"\n          data-testid=\"existing-pubkey-radio\"\n          body={\n            (!wizardContext.uploadedKey || isSelectDisabled) && (\n              <FormGroup label=\"Select public key\">\n                <PubkeySelect setStepValidated={setStepValidated} />\n              </FormGroup>\n            )\n          }\n        />\n        <Radio\n          id=\"upload-pubkey-radio\"\n          ouiaId=\"new_pubkey_radio\"\n          isChecked={wizardContext.uploadedKey}\n          name=\"ssh-keys-radio\"\n          value={NEW_KEY_OPTION}\n          onChange={onOptionChange}\n          label=\"Add and save a new SSH public key\"\n          description=\"Newly added key will be automatically saved. Result of the provisioning will not be affected this process.\"\n          data-testid=\"upload-pubkey-radio\"\n          body={wizardContext.uploadedKey && <NewSSHKeyForm setStepValidated={setStepValidated} />}\n        />\n      </FormGroup>\n    </Form>\n  );\n};\n\nPublicKeys.propTypes = {\n  setStepValidated: PropTypes.func.isRequired,\n};\n\nexport default PublicKeys;\n","import React from 'react';\n\nconst intervalGenerator = function* (intervalList) {\n  for (const interval of intervalList) yield interval;\n};\n\nconst useInterval = (list) => {\n  const generatorRef = React.useRef(null);\n  const savedList = React.useRef(list);\n  const [currentInterval, setCurrentInterval] = React.useState();\n\n  React.useEffect(() => {\n    generatorRef.current = intervalGenerator(savedList.current);\n  }, []);\n\n  const nextInterval = () => {\n    const nextValue = generatorRef.current.next().value;\n    setCurrentInterval(nextValue === undefined ? false : nextValue);\n    if (nextValue === undefined) return false;\n    return nextValue;\n  };\n  return { nextInterval, currentInterval };\n};\n\nexport default useInterval;\n","import { AWS_PROVIDER, AZURE_PROVIDER } from './constants';\n\nexport const instanceLink = (instanceID, provider, region) => {\n  switch (provider) {\n    case AWS_PROVIDER:\n      return `https://console.aws.amazon.com/ec2/home?region=${region}#InstanceDetails:instanceId=${instanceID}`;\n    case AZURE_PROVIDER:\n      return `https://portal.azure.com/#@rhdevcloudops.onmicrosoft.com/resource${instanceID}/overview`;\n    default:\n      return null;\n  }\n};\n\nexport const humanizeInstanceID = (instanceID, provider) => {\n  switch (provider) {\n    case AZURE_PROVIDER:\n      return instanceID.split('/').slice(-1);\n    default:\n      return instanceID;\n  }\n};\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { TableComposable, Thead, Tr, Th, Tbody, Td } from '@patternfly/react-table';\nimport { ExternalLinkAltIcon } from '@patternfly/react-icons';\nimport { Button, ClipboardCopy, Card, Pagination } from '@patternfly/react-core';\nimport { useQuery } from 'react-query';\n\nimport { SSHUsername } from './helpers';\nimport { instanceLink, humanizeInstanceID } from '../Common/instanceHelpers';\nimport { fetchReservationByProvider } from '../../API';\n\nconst PER_PAGE_OPTIONS = [\n  { title: '5', value: 5 },\n  { title: '10', value: 10 },\n  { title: '20', value: 20 },\n  { title: '50', value: 50 },\n];\nconst InstancesTable = ({ reservationID, provider, region }) => {\n  const [paginationOptions, setPaginationOptions] = React.useState({ perPage: 5, page: 1, startIdx: 0, endIdx: 5 });\n  const { data: instances } = useQuery(['launchInfo', reservationID], () => fetchReservationByProvider(reservationID, provider), {\n    select: (reservation) => reservation?.instances,\n  });\n\n  const onSetPage = (_, newPage, perPage, startIdx, endIdx) => {\n    setPaginationOptions({ perPage, page: newPage, startIdx, endIdx });\n  };\n\n  const onPerPageSelect = (_, newPerPage, newPage, startIdx, endIdx) => {\n    setPaginationOptions((prevOptions) => ({ ...prevOptions, perPage: newPerPage, page: newPage, startIdx, endIdx }));\n  };\n\n  const instancesPerPage = instances?.slice(paginationOptions.startIdx, paginationOptions.endIdx);\n\n  return (\n    <Card style={{ position: 'relative', marginLeft: '-20%', marginRight: '-20%' }}>\n      <Pagination\n        itemCount={instances?.length || 0}\n        page={paginationOptions.page}\n        onSetPage={onSetPage}\n        perPage={paginationOptions.perPage}\n        onPerPageSelect={onPerPageSelect}\n        perPageOptions={PER_PAGE_OPTIONS}\n        isCompact\n        ouiaId=\"instances-pagination\"\n      />\n      <TableComposable ouiaId=\"instances table\" aria-label=\"instances description table\" variant=\"compact\">\n        <Thead>\n          <Tr>\n            <Th>ID</Th>\n            <Th>DNS</Th>\n            <Th>SSH command</Th>\n          </Tr>\n        </Thead>\n        <Tbody>\n          {instancesPerPage?.map(({ instance_id, detail }) => (\n            <Tr key={instance_id}>\n              <Td aria-label=\"instance id\" dataLabel=\"ID\">\n                <Button\n                  variant=\"link\"\n                  icon={<ExternalLinkAltIcon />}\n                  iconPosition=\"right\"\n                  isInline\n                  component=\"a\"\n                  rel=\"noreferrer\"\n                  target=\"_blank\"\n                  href={instanceLink(instance_id, provider, region)}\n                >\n                  {humanizeInstanceID(instance_id, provider)}\n                </Button>\n              </Td>\n              <Td aria-label=\"instance dns\" dataLabel=\"DNS\">\n                {detail?.public_dns ? (\n                  <ClipboardCopy isReadOnly hoverTip=\"Copy DNS\" clickTip=\"DNS was copied!\" variant=\"expansion\">\n                    {detail?.public_dns}\n                  </ClipboardCopy>\n                ) : (\n                  'N/A'\n                )}\n              </Td>\n              <Td aria-label=\"ssh command\" dataLabel=\"SSH\">\n                {detail?.public_ipv4 ? (\n                  <ClipboardCopy isReadOnly hoverTip=\"Copy SSH command\" clickTip=\"SSH was copied!\" variant=\"expansion\">\n                    {`ssh ${SSHUsername(provider)}@${detail?.public_ipv4}`}\n                  </ClipboardCopy>\n                ) : (\n                  'N/A'\n                )}\n              </Td>\n            </Tr>\n          ))}\n        </Tbody>\n      </TableComposable>\n    </Card>\n  );\n};\n\nInstancesTable.propTypes = {\n  provider: PropTypes.string.isRequired,\n  region: PropTypes.string.isRequired,\n  reservationID: PropTypes.number.isRequired,\n};\n\nexport default InstancesTable;\n","import { AWS_PROVIDER, AZURE_PROVIDER } from '../../constants';\n\nexport const SSHUsername = (provider) => {\n  switch (provider) {\n    case AWS_PROVIDER:\n      return 'ec2-user';\n    case AZURE_PROVIDER:\n      return 'azureuser';\n    default:\n      '';\n  }\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  ProgressStepper,\n  ProgressStep,\n  EmptyState,\n  EmptyStateIcon,\n  EmptyStateBody,\n  EmptyStateSecondaryActions,\n  Title,\n  Text,\n  Popover,\n  Button,\n  WizardContextConsumer,\n} from '@patternfly/react-core';\nimport { CogsIcon, PendingIcon, CheckCircleIcon } from '@patternfly/react-icons';\nimport { useMutation, useQuery } from 'react-query';\n\nimport { useWizardContext } from '../../../Common/WizardContext';\nimport { createNewPublicKey, createReservation, fetchReservation } from '../../../../API';\n\nimport useInterval from '../../../Common/Hooks/useInterval';\nimport { POLLING_BACKOFF_INTERVAL, PROVIDERS_INSTANCES_SUPPORT, SSH_STEP } from './constants';\nimport { instanceType, mapCurrentVariant, region, stepsByProvider } from './helpers';\nimport InstancesTable from '../../../InstancesTable';\nimport { humanizeProvider } from '../../../Common/helpers';\n\nconst ReservationProgress = ({ setLaunchSuccess }) => {\n  const [steps, setSteps] = React.useState([]);\n  const [currentError, setCurrentError] = React.useState();\n  const [currentWarning, setCurrentWarning] = React.useState();\n  const [currentStep, setCurrentStep] = React.useState(0);\n  const [currentJobStep, setCurrentJobStep] = React.useState(0);\n  const [reservationID, setReservationID] = React.useState();\n\n  const [\n    {\n      chosenSource,\n      chosenInstanceType,\n      chosenNumOfInstances,\n      chosenRegion,\n      sshPublicName,\n      sshPublicKey,\n      chosenSshKeyId,\n      uploadedKey,\n      chosenImageID,\n      provider,\n      chosenTemplate,\n    },\n  ] = useWizardContext();\n  const { nextInterval, currentInterval } = useInterval(POLLING_BACKOFF_INTERVAL);\n\n  const { mutate: mutateReservation, error: reservationError } = useMutation(createReservation(provider), {\n    onSuccess: (res) => {\n      stepUp();\n      setReservationID(res?.data?.reservation_id);\n    },\n  });\n\n  const reservationParams = () => ({\n    source_id: chosenSource,\n    [instanceType(provider)]: chosenInstanceType,\n    amount: chosenNumOfInstances,\n    image_id: chosenImageID,\n    [region(provider)]: chosenRegion,\n    pubkey_id: chosenSshKeyId,\n    ...(chosenTemplate && { launch_template_id: chosenTemplate }),\n  });\n\n  React.useEffect(() => {\n    if (createReservation) {\n      if (uploadedKey) {\n        setSteps(SSH_STEP.concat(stepsByProvider(provider)));\n        createPublicKey({ name: sshPublicName, body: sshPublicKey });\n      } else {\n        setSteps(stepsByProvider(provider));\n        mutateReservation(reservationParams());\n      }\n    }\n  }, [createReservation, setSteps, uploadedKey]);\n\n  const { mutate: createPublicKey, error: pubkeyError } = useMutation(createNewPublicKey, {\n    onSuccess: (resp) => {\n      stepUp();\n      mutateReservation({\n        ...reservationParams(),\n        pubkey_id: resp?.data?.id,\n      });\n    },\n  });\n\n  // polling request\n  const { data: polledReservation } = useQuery(['reservation', reservationID], () => fetchReservation(reservationID), {\n    enabled: !!reservationID && currentStep < steps.length && !currentError,\n    refetchInterval: (data) => {\n      if (data?.success || !!data?.error) return false;\n      return currentInterval;\n    },\n    onSuccess: (data) => {\n      if (currentJobStep < data.step && !data.error) {\n        setCurrentJobStep((prev) => prev + 1);\n        stepUp();\n      }\n      !data?.success && nextInterval();\n      data.success && setLaunchSuccess();\n    },\n    refetchIntervalInBackground: true,\n  });\n\n  // errors and warnings handling\n  React.useEffect(() => {\n    if (currentInterval === false) {\n      setCurrentWarning(\n        `The launch progress is slower than expected, but we are still on it.\n         It is safe to close this window and check your ${humanizeProvider(provider)} console later`\n      );\n    }\n    if (reservationError || pubkeyError || polledReservation?.error) {\n      const createReservationErrorMsg = reservationError?.response?.data?.msg;\n      const pubkeyErrorMsg = pubkeyError?.response?.data?.msg;\n\n      setCurrentError(createReservationErrorMsg || pubkeyErrorMsg || polledReservation?.error);\n    }\n  }, [reservationError, pubkeyError, polledReservation?.error, currentInterval]);\n\n  const stepUp = () => setCurrentStep((prevStep) => prevStep + 1);\n\n  return (\n    <WizardContextConsumer>\n      {({ goToStepById, onClose }) => (\n        <EmptyState variant=\"large\">\n          <EmptyStateIcon color={(polledReservation?.success && '#3E8635') || null} icon={polledReservation?.success ? CheckCircleIcon : CogsIcon} />\n          <Title headingLevel=\"h4\" size=\"lg\" ouiaId=\"launch-status\">\n            {polledReservation?.success ? 'System(s) launched successfully' : 'Launching system(s)'}\n          </Title>\n          {reservationID && (\n            <Text component=\"small\" ouiaId=\"launch-id\">\n              {`launch ID: ${reservationID}`}\n            </Text>\n          )}\n          <EmptyStateBody>\n            {!polledReservation?.success && (\n              <ProgressStepper isCenterAligned>\n                {steps.map(({ name, description }, step) => {\n                  const variant = mapCurrentVariant(step, currentStep, currentError, currentWarning);\n                  return (\n                    <ProgressStep\n                      variant={variant}\n                      id={name}\n                      key={name}\n                      icon={step > currentStep ? <PendingIcon /> : undefined}\n                      isCurrent={step === currentStep}\n                      description={description}\n                      titleId={name}\n                      aria-label={`step ${name} ${variant}`}\n                      popoverRender={\n                        (currentError || currentWarning) && step === currentStep\n                          ? (stepRef) => (\n                              <Popover\n                                aria-label={`${name} error message`}\n                                headerContent={currentError ? 'Error' : 'Warning'}\n                                bodyContent={currentError || currentWarning}\n                                reference={stepRef}\n                                position=\"right\"\n                              />\n                            )\n                          : undefined\n                      }\n                    >\n                      {name}\n                    </ProgressStep>\n                  );\n                })}\n              </ProgressStepper>\n            )}\n          </EmptyStateBody>\n          {polledReservation?.success && PROVIDERS_INSTANCES_SUPPORT.includes(provider) && (\n            <InstancesTable provider={provider} region={chosenRegion} reservationID={reservationID} />\n          )}\n          {currentError && (\n            <Button id=\"wizard-provisioning-failed-edit-button\" onClick={() => goToStepById(1)} variant=\"primary\">\n              Edit\n            </Button>\n          )}\n          <EmptyStateSecondaryActions>\n            <Button variant=\"link\" isDisabled={!currentError && currentStep < 2} onClick={onClose}>\n              Close\n            </Button>\n          </EmptyStateSecondaryActions>\n        </EmptyState>\n      )}\n    </WizardContextConsumer>\n  );\n};\n\nReservationProgress.propTypes = {\n  setLaunchSuccess: PropTypes.func.isRequired,\n};\n\nexport default ReservationProgress;\n","import React from 'react';\nimport SourceMissing from './SourceMissing';\nimport AccountCustomizations from './AccountCustomizations';\nimport ReviewDetails from './ReviewDetails';\nimport PublicKeys from './Pubkeys';\nimport FinishStep from './ReservationProgress';\nimport { humanizeProvider } from '../../Common/helpers';\n\nconst stringIds = {\n  1: 'account',\n  4: 'sshkey',\n  5: 'review',\n};\n\nexport const stepIdToString = (id) => stringIds[id];\n\nconst missingSource = ({ image, isLoading, sourcesError }) => [\n  {\n    name: 'Define source',\n    id: 1,\n    component: <SourceMissing image={image} isLoading={isLoading} error={sourcesError} />,\n    isFinishedStep: true,\n  },\n];\n\nconst wizardSteps = ({ stepIdReached, image, stepValidation, setStepValidation, setLaunchSuccess }) => [\n  {\n    name: 'Account and customization',\n    steps: [\n      {\n        name: humanizeProvider(image.provider),\n        id: 1,\n        enableNext: stepValidation.awsStep,\n        component: (\n          <AccountCustomizations image={image} setStepValidated={(validated) => setStepValidation((prev) => ({ ...prev, awsStep: validated }))} />\n        ),\n        canJumpTo: stepIdReached >= 1,\n      },\n    ],\n  },\n  {\n    name: 'SSH key authentication',\n    id: 4,\n    component: <PublicKeys setStepValidated={(validated) => setStepValidation((prev) => ({ ...prev, sshStep: validated }))} />,\n    canJumpTo: stepIdReached >= 4,\n    enableNext: stepValidation.sshStep,\n  },\n  {\n    name: 'Review details',\n    id: 5,\n    component: <ReviewDetails imageName={image.name} />,\n    canJumpTo: stepIdReached >= 5,\n    nextButtonText: 'Launch',\n  },\n  {\n    name: 'Finish Progress',\n    id: 6,\n    component: <FinishStep setLaunchSuccess={() => setLaunchSuccess(true)} imageID={image.id} />,\n    isFinishedStep: true,\n  },\n];\n\nconst steps = (props) => (!props.isLoading && props.availableSources.length > 0 ? wizardSteps(props) : missingSource(props));\n\nexport default steps;\n","import * as React from 'react';\nimport { Button, ButtonVariant, WizardFooter, WizardContextConsumer } from '@patternfly/react-core';\nimport styles from '@patternfly/react-styles/css/components/Wizard/wizard';\n\nimport { stepIdToString } from './steps';\n\nconst CustomFooter = () => (\n  <WizardFooter>\n    <WizardContextConsumer>\n      {({ activeStep, onNext, onBack, onClose }) => {\n        const isValid = activeStep.enableNext !== undefined ? activeStep.enableNext : true;\n\n        return (\n          <>\n            <Button\n              id={`wizard-provisioning-${stepIdToString(activeStep.id)}-next-button`}\n              variant={ButtonVariant.primary}\n              type=\"submit\"\n              onClick={onNext}\n              isDisabled={!isValid}\n            >\n              {activeStep.nextButtonText || 'Next'}\n            </Button>\n            {!activeStep.hideBackButton && (\n              <Button\n                id={`wizard-provisioning-${stepIdToString(activeStep.id)}-back-button`}\n                variant={ButtonVariant.secondary}\n                onClick={onBack}\n                isDisabled={activeStep.id == 1}\n              >\n                Back\n              </Button>\n            )}\n            {!activeStep.hideCancelButton && (\n              <div className={styles.wizardFooterCancel}>\n                <Button variant={ButtonVariant.link} onClick={onClose}>\n                  Cancel\n                </Button>\n              </div>\n            )}\n          </>\n        );\n      }}\n    </WizardContextConsumer>\n  </WizardFooter>\n);\n\nexport default CustomFooter;\n","import PropTypes from 'prop-types';\nimport { Wizard } from '@patternfly/react-core';\nimport React from 'react';\n\nimport APIProvider from '../Common/Query';\nimport { WizardProvider } from '../Common/WizardContext';\nimport { useSourcesForImage } from '../Common/Hooks/sources';\nimport ConfirmModal from '../ConfirmModal';\nimport CustomFooter from './CustomFooter';\nimport { imageProps } from './helpers';\nimport getSteps from './steps';\nimport './steps/Pubkeys/pubkeys.scss';\n\nconst DEFAULT_STEP_VALIDATION = {\n  sshStep: false,\n  awsStep: false,\n};\n\nconst ProvisioningWizard = ({ isOpen, onClose, image, ...props }) => {\n  const [stepIdReached, setStepIdReached] = React.useState(1);\n  const [stepValidation, setStepValidation] = React.useState(DEFAULT_STEP_VALIDATION);\n  const [isConfirming, setConfirming] = React.useState(false);\n  const [successfulLaunch, setLaunchSuccess] = React.useState();\n\n  const { isLoading, error: sourcesError, sources: availableSources } = useSourcesForImage(image, { refetch: stepIdReached <= 2 });\n\n  const onCustomClose = () => {\n    setConfirming(false);\n    setStepIdReached(1);\n    setStepValidation(DEFAULT_STEP_VALIDATION);\n    onClose();\n  };\n\n  const onWizardClose = () => {\n    if (stepIdReached >= 5 && !successfulLaunch) {\n      setConfirming(true);\n    } else {\n      onCustomClose();\n    }\n  };\n\n  const steps = getSteps({\n    sourcesError,\n    isLoading,\n    availableSources,\n    stepIdReached,\n    image,\n    stepValidation,\n    setStepValidation,\n    setLaunchSuccess,\n  });\n\n  const onNext = ({ id, name }, { prevId, prevName }) => {\n    console.debug(`current id: ${id}, current name: ${name}, previous id: ${prevId}, previous name: ${prevName}`);\n    setStepIdReached((prevID) => (prevID < id ? id : prevID));\n  };\n\n  return (\n    <>\n      <Wizard\n        {...props}\n        title=\"Launch\"\n        description={`Launch image ${image.name}`}\n        steps={steps}\n        isOpen\n        onClose={onWizardClose}\n        onNext={onNext}\n        className={'provisioning'}\n        footer={<CustomFooter />}\n      />\n      <ConfirmModal isOpen={isConfirming} onConfirm={onCustomClose} onCancel={() => setConfirming(false)} />\n    </>\n  );\n};\n\nconst ProvisioningWizardWrapper = (props) => (\n  <WizardProvider>\n    <APIProvider>{props.isOpen && <ProvisioningWizard {...props} />}</APIProvider>\n  </WizardProvider>\n);\n\nProvisioningWizard.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  onClose: PropTypes.func,\n  image: imageProps,\n};\n\nProvisioningWizardWrapper.propTypes = ProvisioningWizard.propTypes;\n\nexport default ProvisioningWizardWrapper;\n","export const AWS_PROVIDER = 'aws';\nexport const AZURE_PROVIDER = 'azure';\nexport const GCP_PROVIDER = 'gcp';\n"],"names":["queryClient","QueryClient","_ref","children","React","QueryClientProvider","client","chosenSource","undefined","chosenNumOfInstances","chosenInstanceType","uploadedKey","chosenRegion","chosenImageID","sshPublicName","sshPublicKey","chosenSshKeyId","chosenSshKeyName","provider","_createContainer","createContainer","values","useState","_objectSpread","initialWizardContext","WizardProvider","Provider","useWizardContext","useTracked","SOURCES_QUERY_KEY","PUBKEYS_QUERY_KEY","IMAGE_REGIONS_KEY","provisioningUrl","path","concat","imageBuilderURL","typesUrlForProvider","region","AZURE_PROVIDER","fetchSourcesList","_asyncToGenerator","_regeneratorRuntime","_callee","_yield$axios$get","data","_context","prev","next","axios","sent","abrupt","stop","_x","apply","arguments","fetchSourceUploadInfo","_ref2","_callee2","sourceID","_yield$axios$get2","_context2","_x2","fetchPubkeysList","_ref3","_callee3","_yield$axios$get3","_context3","fetchInstanceTypesList","_ref4","_callee4","url","_yield$axios$get4","_context4","_x3","_x4","createReservation","_ref5","_callee5","params","_context5","_x5","createNewPublicKey","_ref6","_callee6","_context6","_x6","fetchReservation","_ref7","_callee7","id","_yield$axios$get5","_context7","_x7","fetchImageClones","_ref8","_callee8","composeID","_yield$axios$get6","_context8","_x8","fetchImageCloneStatus","_ref9","_callee9","cloneID","_yield$axios$get7","_context9","_x9","fetchReservationByProvider","_ref10","_callee10","reservationID","_yield$axios$get8","_context10","_x10","_x11","fetchLaunchTemplates","_ref11","_callee11","_yield$axios$get9","_context11","_x12","_x13","PropTypes","name","architecture","sourceIDs","accountIDs","isRequired","useSourcesData","length","_ref$refetch","refetch","_useQuery","useQuery","enabled","refetchInterval","error","isLoading","sources","useSourcesUploadInfos","_useSourcesData","isLoadingSources","sourcesError","uploadInfos","useQueries","map","source","queryKey","queryFn","retry","some","info","infos","forEach","i","isSuccess","push","providerSourceFilter","image","AWS_PROVIDER","_image$sourceIDs","_image$accountIDs","includes","aws","account_id","_image$uploadOptions","_info$azure","_image$uploadOptions2","uploadOptions","source_id","azure","subscription_id","_image$sourceIDs2","useSourcesForImage","_ref3$refetch","_ref3$onSuccess","onSuccess","_useSourcesUploadInfo","filteredSources","isTesting","filter","ConfirmModal","isOpen","onConfirm","onCancel","Modal","ouiaId","variant","ModalVariant","title","onClose","actions","Button","key","onClick","titleIconVariant","propTypes","defaultRegionByProvider","GCP_PROVIDER","Error","humanizeProvider","RegionsSelect","currentRegion","onChange","_React$useState","_React$useState2","_slicedToArray","setIsOpen","select","images","_images$data","request","isError","clonedImages","clonesStatusQueries","clonedImage","isCloneStatusLoading","clone","every","cloneQuery","clonesStatus","query","status","index","options","availableImages","_","_toConsumableArray","Alert","isInline","Select","isDisabled","placeholderText","Spinner","isSVG","size","label","maxHeight","selections","onToggle","onSelect","selection","_images$find","find","imageID","imageAttrs","_objectWithoutProperties","_excluded","SelectOption","value","imageProps","DirectProviderLink","text","uploadStatus","currentImage","setImage","ami","tenant_id","resource_group","image_name","Stack","StackItem","component","icon","ExternalLinkAltIcon","iconPosition","target","href","Bullseye","console","log","LoadingState","EmptyState","EmptyStateIcon","Title","headingLevel","SourceMissing","ExclamationCircleIcon","PlusCircleIcon","EmptyStateBody","EmptyStateSecondaryActions","LoadingWrapper","props","SourcesSelect","setValidation","_useWizardContext","_useWizardContext2","setWizardContext","_React$useState3","_React$useState4","selected","setSelected","selectObject","toString","compareTo","other","_useSourcesForImage","prevState","warn","openState","event","isPlaceholder","NumberInput","max","min","onMinus","newValue","input","Math","floor","Number","onPlus","inputName","inputAriaLabel","minusBtnAriaLabel","plusBtnAriaLabel","InstanceTypesSelect","_useWizardContext2$","numOptions","setNumOptions","_React$useState5","_React$useState6","filteredTypes","setFilteredTypes","_React$useState7","_React$useState8","prevSearch","setPrevSearch","_React$useState9","_React$useState10","isTypeSupported","setTypeSupported","types","type","instanceTypes","TextInput","className","readOnly","toggleAriaLabel","_extends","typeAheadAriaLabel","instanceType","supported","onFilter","_e","inputValue","search","replace","loadingVariant","limit","_types","_types2","slice","description","cores","vcpus","parseFloat","memory_mib","toFixed","storage_gb","selectItemsMapper","_templates$find2","chosenTemplate","templates","chosenTemplateName","template","selectedTemplate","_templates$find","AccountCustomizationsAWS","setStepValidated","validations","templateFlag","useFlag","errorExists","Object","valid","Form","Text","FormGroup","validated","helperTextInvalid","fieldId","validation","prevValidations","labelIcon","Popover","bodyContent","e","preventDefault","HelpIcon","noVerticalAlign","rel","TemplatesSelect","InstanceCounter","AccountCustomizationsGCP","wizardContext","headerContent","AccountCustomizationsAzure","AccountCustomizations","AWS","Azure","GCP","POLLING_BACKOFF_INTERVAL","AWS_STEPS","AZURE_STEPS","GCP_STEPS","SSH_STEP","PROVIDERS_INSTANCES_SUPPORT","stepsByProvider","LaunchDescriptionList","imageName","isExpanded","setIsExpanded","regionLabel","charAt","toUpperCase","providerInstanceType","instanceTypeLabel","ExpandableSection","toggleText","isIndented","DescriptionList","isHorizontal","DescriptionListGroup","DescriptionListTerm","DescriptionListDescription","ReviewDetails","selectOptionObj","PubkeySelect","setSelection","pubkeys","validatePublicKey","ssh","RegExp","test","NewSSHKeyForm","setIsLoading","sshKeyBody","sshKeyName","keyName","setName","publicKey","setPublicKey","updateValidation","inputKey","_defineProperty","isStack","onBlur","FileUpload","onDataChange","allowEditingUploadedText","onTextChange","onTextAreaBlur","onReadStarted","onReadFinished","onReadFailed","onClearClick","filenamePlaceholder","NEW_KEY_OPTION","PublicKeys","isSelectDisabled","disableSelect","switchTo","optionKey","onOptionChange","currentTarget","role","Radio","isChecked","body","intervalGenerator","intervalList","_iterator","_step","interval","_createForOfIteratorHelper","s","n","done","t0","f","finish","instanceLink","instanceID","PER_PAGE_OPTIONS","InstancesTable","perPage","page","startIdx","endIdx","paginationOptions","setPaginationOptions","instances","reservation","instancesPerPage","Card","style","position","marginLeft","marginRight","Pagination","itemCount","onSetPage","newPage","onPerPageSelect","newPerPage","prevOptions","perPageOptions","isCompact","TableComposable","Thead","Tr","Th","Tbody","instance_id","detail","Td","dataLabel","split","humanizeInstanceID","public_dns","ClipboardCopy","isReadOnly","hoverTip","clickTip","public_ipv4","SSHUsername","ReservationProgress","setLaunchSuccess","steps","setSteps","currentError","setCurrentError","currentWarning","setCurrentWarning","currentStep","setCurrentStep","currentJobStep","setCurrentJobStep","_React$useState11","_React$useState12","setReservationID","_useInterval","list","generatorRef","savedList","currentInterval","setCurrentInterval","current","nextInterval","nextValue","useInterval","_useMutation","useMutation","res","_res$data","stepUp","reservation_id","mutateReservation","mutate","reservationError","reservationParams","_objectSpread2","launch_template_id","createPublicKey","_useMutation2","resp","_resp$data","pubkey_id","pubkeyError","polledReservation","success","step","refetchIntervalInBackground","_reservationError$res","_reservationError$res2","_pubkeyError$response","_pubkeyError$response2","createReservationErrorMsg","response","msg","pubkeyErrorMsg","prevStep","WizardContextConsumer","goToStepById","color","CheckCircleIcon","CogsIcon","ProgressStepper","isCenterAligned","mapCurrentVariant","ProgressStep","PendingIcon","isCurrent","titleId","popoverRender","stepRef","reference","stringIds","stepIdToString","WizardFooter","activeStep","onNext","onBack","isValid","enableNext","ButtonVariant","nextButtonText","hideBackButton","hideCancelButton","styles","DEFAULT_STEP_VALIDATION","sshStep","awsStep","ProvisioningWizard","stepIdReached","setStepIdReached","stepValidation","setStepValidation","isConfirming","setConfirming","successfulLaunch","availableSources","onCustomClose","canJumpTo","FinishStep","isFinishedStep","missingSource","getSteps","Wizard","prevId","prevName","debug","prevID","footer","CustomFooter","ProvisioningWizardWrapper","APIProvider"],"sourceRoot":""}